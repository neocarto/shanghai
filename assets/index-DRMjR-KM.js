(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function lr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const se={},zt=[],Ve=()=>{},ga=()=>!1,un=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),cr=t=>t.startsWith("onUpdate:"),Te=Object.assign,ur=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},ma=Object.prototype.hasOwnProperty,ee=(t,e)=>ma.call(t,e),q=Array.isArray,Gt=t=>hn(t)==="[object Map]",Ri=t=>hn(t)==="[object Set]",W=t=>typeof t=="function",le=t=>typeof t=="string",yt=t=>typeof t=="symbol",ie=t=>t!==null&&typeof t=="object",Ii=t=>(ie(t)||W(t))&&W(t.then)&&W(t.catch),Li=Object.prototype.toString,hn=t=>Li.call(t),_a=t=>hn(t).slice(8,-1),Di=t=>hn(t)==="[object Object]",hr=t=>le(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,gs=lr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dn=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},va=/-(\w)/g,mt=dn(t=>t.replace(va,(e,s)=>s?s.toUpperCase():"")),ya=/\B([A-Z])/g,jt=dn(t=>t.replace(ya,"-$1").toLowerCase()),Ui=dn(t=>t.charAt(0).toUpperCase()+t.slice(1)),xn=dn(t=>t?`on${Ui(t)}`:""),gt=(t,e)=>!Object.is(t,e),Ys=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Mi=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},Bn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Rr;const fn=()=>Rr||(Rr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dr(t){if(q(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=le(n)?ka(n):dr(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(le(t)||ie(t))return t}const ba=/;(?![^(]*\))/g,wa=/:([^]+)/,Sa=/\/\*[^]*?\*\//g;function ka(t){const e={};return t.replace(Sa,"").split(ba).forEach(s=>{if(s){const n=s.split(wa);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function tt(t){let e="";if(le(t))e=t;else if(q(t))for(let s=0;s<t.length;s++){const n=tt(t[s]);n&&(e+=n+" ")}else if(ie(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const xa="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ta=lr(xa);function Ni(t){return!!t||t===""}const Fi=t=>!!(t&&t.__v_isRef===!0),E=t=>le(t)?t:t==null?"":q(t)||ie(t)&&(t.toString===Li||!W(t.toString))?Fi(t)?E(t.value):JSON.stringify(t,Bi,2):String(t),Bi=(t,e)=>Fi(e)?Bi(t,e.value):Gt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],i)=>(s[Tn(n,i)+" =>"]=r,s),{})}:Ri(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Tn(s))}:yt(e)?Tn(e):ie(e)&&!q(e)&&!Di(e)?String(e):e,Tn=(t,e="")=>{var s;return yt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pe;class Ea{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pe,!e&&Pe&&(this.index=(Pe.scopes||(Pe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Pe;try{return Pe=this,e()}finally{Pe=s}}}on(){++this._on===1&&(this.prevScope=Pe,Pe=this)}off(){this._on>0&&--this._on===0&&(Pe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Oa(){return Pe}let re;const En=new WeakSet;class qi{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pe&&Pe.active&&Pe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,En.has(this)&&(En.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ji(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ir(this),Ki(this);const e=re,s=Fe;re=this,Fe=!0;try{return this.fn()}finally{Wi(this),re=e,Fe=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)gr(e);this.deps=this.depsTail=void 0,Ir(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?En.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qn(this)&&this.run()}get dirty(){return qn(this)}}let Hi=0,ms,_s;function Ji(t,e=!1){if(t.flags|=8,e){t.next=_s,_s=t;return}t.next=ms,ms=t}function fr(){Hi++}function pr(){if(--Hi>0)return;if(_s){let e=_s;for(_s=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;ms;){let e=ms;for(ms=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function Ki(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Wi(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),gr(n),Pa(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function qn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Vi(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Vi(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ts)||(t.globalVersion=Ts,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!qn(t))))return;t.flags|=2;const e=t.dep,s=re,n=Fe;re=t,Fe=!0;try{Ki(t);const r=t.fn(t._value);(e.version===0||gt(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{re=s,Fe=n,Wi(t),t.flags&=-3}}function gr(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)gr(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Pa(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Fe=!0;const zi=[];function rt(){zi.push(Fe),Fe=!1}function it(){const t=zi.pop();Fe=t===void 0?!0:t}function Ir(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=re;re=void 0;try{e()}finally{re=s}}}let Ts=0;class Aa{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class mr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!re||!Fe||re===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==re)s=this.activeLink=new Aa(re,this),re.deps?(s.prevDep=re.depsTail,re.depsTail.nextDep=s,re.depsTail=s):re.deps=re.depsTail=s,Gi(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=re.depsTail,s.nextDep=void 0,re.depsTail.nextDep=s,re.depsTail=s,re.deps===s&&(re.deps=n)}return s}trigger(e){this.version++,Ts++,this.notify(e)}notify(e){fr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{pr()}}}function Gi(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Gi(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Hn=new WeakMap,Ct=Symbol(""),Jn=Symbol(""),Es=Symbol("");function me(t,e,s){if(Fe&&re){let n=Hn.get(t);n||Hn.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new mr),r.map=n,r.key=s),r.track()}}function st(t,e,s,n,r,i){const o=Hn.get(t);if(!o){Ts++;return}const a=l=>{l&&l.trigger()};if(fr(),e==="clear")o.forEach(a);else{const l=q(t),u=l&&hr(s);if(l&&s==="length"){const c=Number(n);o.forEach((d,_)=>{(_==="length"||_===Es||!yt(_)&&_>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Es)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Ct)),Gt(t)&&a(o.get(Jn)));break;case"delete":l||(a(o.get(Ct)),Gt(t)&&a(o.get(Jn)));break;case"set":Gt(t)&&a(o.get(Ct));break}}pr()}function Lt(t){const e=Z(t);return e===t?e:(me(e,"iterate",Es),Ue(t)?e:e.map(de))}function pn(t){return me(t=Z(t),"iterate",Es),t}const Ca={__proto__:null,[Symbol.iterator](){return On(this,Symbol.iterator,de)},concat(...t){return Lt(this).concat(...t.map(e=>q(e)?Lt(e):e))},entries(){return On(this,"entries",t=>(t[1]=de(t[1]),t))},every(t,e){return Qe(this,"every",t,e,void 0,arguments)},filter(t,e){return Qe(this,"filter",t,e,s=>s.map(de),arguments)},find(t,e){return Qe(this,"find",t,e,de,arguments)},findIndex(t,e){return Qe(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Qe(this,"findLast",t,e,de,arguments)},findLastIndex(t,e){return Qe(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Qe(this,"forEach",t,e,void 0,arguments)},includes(...t){return Pn(this,"includes",t)},indexOf(...t){return Pn(this,"indexOf",t)},join(t){return Lt(this).join(t)},lastIndexOf(...t){return Pn(this,"lastIndexOf",t)},map(t,e){return Qe(this,"map",t,e,void 0,arguments)},pop(){return as(this,"pop")},push(...t){return as(this,"push",t)},reduce(t,...e){return Lr(this,"reduce",t,e)},reduceRight(t,...e){return Lr(this,"reduceRight",t,e)},shift(){return as(this,"shift")},some(t,e){return Qe(this,"some",t,e,void 0,arguments)},splice(...t){return as(this,"splice",t)},toReversed(){return Lt(this).toReversed()},toSorted(t){return Lt(this).toSorted(t)},toSpliced(...t){return Lt(this).toSpliced(...t)},unshift(...t){return as(this,"unshift",t)},values(){return On(this,"values",de)}};function On(t,e,s){const n=pn(t),r=n[e]();return n!==t&&!Ue(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const ja=Array.prototype;function Qe(t,e,s,n,r,i){const o=pn(t),a=o!==t&&!Ue(t),l=o[e];if(l!==ja[e]){const d=l.apply(t,i);return a?de(d):d}let u=s;o!==t&&(a?u=function(d,_){return s.call(this,de(d),_,t)}:s.length>2&&(u=function(d,_){return s.call(this,d,_,t)}));const c=l.call(o,u,n);return a&&r?r(c):c}function Lr(t,e,s,n){const r=pn(t);let i=s;return r!==t&&(Ue(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,de(a),l,t)}),r[e](i,...n)}function Pn(t,e,s){const n=Z(t);me(n,"iterate",Es);const r=n[e](...s);return(r===-1||r===!1)&&br(s[0])?(s[0]=Z(s[0]),n[e](...s)):r}function as(t,e,s=[]){rt(),fr();const n=Z(t)[e].apply(t,s);return pr(),it(),n}const $a=lr("__proto__,__v_isRef,__isVue"),Yi=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(yt));function Ra(t){yt(t)||(t=String(t));const e=Z(this);return me(e,"has",t),e.hasOwnProperty(t)}class Qi{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Ha:to:i?eo:Zi).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=q(e);if(!r){let l;if(o&&(l=Ca[s]))return l;if(s==="hasOwnProperty")return Ra}const a=Reflect.get(e,s,ve(e)?e:n);return(yt(s)?Yi.has(s):$a(s))||(r||me(e,"get",s),i)?a:ve(a)?o&&hr(s)?a:a.value:ie(a)?r?so(a):vr(a):a}}class Xi extends Qi{constructor(e=!1){super(!1,e)}set(e,s,n,r){let i=e[s];if(!this._isShallow){const l=_t(i);if(!Ue(n)&&!_t(n)&&(i=Z(i),n=Z(n)),!q(e)&&ve(i)&&!ve(n))return l?!1:(i.value=n,!0)}const o=q(e)&&hr(s)?Number(s)<e.length:ee(e,s),a=Reflect.set(e,s,n,ve(e)?e:r);return e===Z(r)&&(o?gt(n,i)&&st(e,"set",s,n):st(e,"add",s,n)),a}deleteProperty(e,s){const n=ee(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&st(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!yt(s)||!Yi.has(s))&&me(e,"has",s),n}ownKeys(e){return me(e,"iterate",q(e)?"length":Ct),Reflect.ownKeys(e)}}class Ia extends Qi{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const La=new Xi,Da=new Ia,Ua=new Xi(!0);const Kn=t=>t,Bs=t=>Reflect.getPrototypeOf(t);function Ma(t,e,s){return function(...n){const r=this.__v_raw,i=Z(r),o=Gt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...n),c=s?Kn:e?en:de;return!e&&me(i,"iterate",l?Jn:Ct),{next(){const{value:d,done:_}=u.next();return _?{value:d,done:_}:{value:a?[c(d[0]),c(d[1])]:c(d),done:_}},[Symbol.iterator](){return this}}}}function qs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Na(t,e){const s={get(r){const i=this.__v_raw,o=Z(i),a=Z(r);t||(gt(r,a)&&me(o,"get",r),me(o,"get",a));const{has:l}=Bs(o),u=e?Kn:t?en:de;if(l.call(o,r))return u(i.get(r));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&me(Z(r),"iterate",Ct),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=Z(i),a=Z(r);return t||(gt(r,a)&&me(o,"has",r),me(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=Z(a),u=e?Kn:t?en:de;return!t&&me(l,"iterate",Ct),a.forEach((c,d)=>r.call(i,u(c),u(d),o))}};return Te(s,t?{add:qs("add"),set:qs("set"),delete:qs("delete"),clear:qs("clear")}:{add(r){!e&&!Ue(r)&&!_t(r)&&(r=Z(r));const i=Z(this);return Bs(i).has.call(i,r)||(i.add(r),st(i,"add",r,r)),this},set(r,i){!e&&!Ue(i)&&!_t(i)&&(i=Z(i));const o=Z(this),{has:a,get:l}=Bs(o);let u=a.call(o,r);u||(r=Z(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,i),u?gt(i,c)&&st(o,"set",r,i):st(o,"add",r,i),this},delete(r){const i=Z(this),{has:o,get:a}=Bs(i);let l=o.call(i,r);l||(r=Z(r),l=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return l&&st(i,"delete",r,void 0),u},clear(){const r=Z(this),i=r.size!==0,o=r.clear();return i&&st(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Ma(r,t,e)}),s}function _r(t,e){const s=Na(t,e);return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(ee(s,r)&&r in n?s:n,r,i)}const Fa={get:_r(!1,!1)},Ba={get:_r(!1,!0)},qa={get:_r(!0,!1)};const Zi=new WeakMap,eo=new WeakMap,to=new WeakMap,Ha=new WeakMap;function Ja(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ka(t){return t.__v_skip||!Object.isExtensible(t)?0:Ja(_a(t))}function vr(t){return _t(t)?t:yr(t,!1,La,Fa,Zi)}function Wa(t){return yr(t,!1,Ua,Ba,eo)}function so(t){return yr(t,!0,Da,qa,to)}function yr(t,e,s,n,r){if(!ie(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Ka(t);if(i===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,i===2?n:s);return r.set(t,a),a}function Yt(t){return _t(t)?Yt(t.__v_raw):!!(t&&t.__v_isReactive)}function _t(t){return!!(t&&t.__v_isReadonly)}function Ue(t){return!!(t&&t.__v_isShallow)}function br(t){return t?!!t.__v_raw:!1}function Z(t){const e=t&&t.__v_raw;return e?Z(e):t}function Va(t){return!ee(t,"__v_skip")&&Object.isExtensible(t)&&Mi(t,"__v_skip",!0),t}const de=t=>ie(t)?vr(t):t,en=t=>ie(t)?so(t):t;function ve(t){return t?t.__v_isRef===!0:!1}function je(t){return za(t,!1)}function za(t,e){return ve(t)?t:new Ga(t,e)}class Ga{constructor(e,s){this.dep=new mr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Z(e),this._value=s?e:de(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||Ue(e)||_t(e);e=n?e:Z(e),gt(e,s)&&(this._rawValue=e,this._value=n?e:de(e),this.dep.trigger())}}function Wn(t){return ve(t)?t.value:t}const Ya={get:(t,e,s)=>e==="__v_raw"?t:Wn(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return ve(r)&&!ve(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function no(t){return Yt(t)?t:new Proxy(t,Ya)}class Qa{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new mr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ts-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&re!==this)return Ji(this,!0),!0}get value(){const e=this.dep.track();return Vi(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Xa(t,e,s=!1){let n,r;return W(t)?n=t:(n=t.get,r=t.set),new Qa(n,r,s)}const Hs={},tn=new WeakMap;let Ot;function Za(t,e=!1,s=Ot){if(s){let n=tn.get(s);n||tn.set(s,n=[]),n.push(t)}}function el(t,e,s=se){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,u=x=>r?x:Ue(x)||r===!1||r===0?nt(x,1):nt(x);let c,d,_,w,A=!1,O=!1;if(ve(t)?(d=()=>t.value,A=Ue(t)):Yt(t)?(d=()=>u(t),A=!0):q(t)?(O=!0,A=t.some(x=>Yt(x)||Ue(x)),d=()=>t.map(x=>{if(ve(x))return x.value;if(Yt(x))return u(x);if(W(x))return l?l(x,2):x()})):W(t)?e?d=l?()=>l(t,2):t:d=()=>{if(_){rt();try{_()}finally{it()}}const x=Ot;Ot=c;try{return l?l(t,3,[w]):t(w)}finally{Ot=x}}:d=Ve,e&&r){const x=d,U=r===!0?1/0:r;d=()=>nt(x(),U)}const y=Oa(),h=()=>{c.stop(),y&&y.active&&ur(y.effects,c)};if(i&&e){const x=e;e=(...U)=>{x(...U),h()}}let S=O?new Array(t.length).fill(Hs):Hs;const b=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(e){const U=c.run();if(r||A||(O?U.some((m,v)=>gt(m,S[v])):gt(U,S))){_&&_();const m=Ot;Ot=c;try{const v=[U,S===Hs?void 0:O&&S[0]===Hs?[]:S,w];S=U,l?l(e,3,v):e(...v)}finally{Ot=m}}}else c.run()};return a&&a(b),c=new qi(d),c.scheduler=o?()=>o(b,!1):b,w=x=>Za(x,!1,c),_=c.onStop=()=>{const x=tn.get(c);if(x){if(l)l(x,4);else for(const U of x)U();tn.delete(c)}},e?n?b(!0):S=c.run():o?o(b.bind(null,!0),!0):c.run(),h.pause=c.pause.bind(c),h.resume=c.resume.bind(c),h.stop=h,h}function nt(t,e=1/0,s){if(e<=0||!ie(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ve(t))nt(t.value,e,s);else if(q(t))for(let n=0;n<t.length;n++)nt(t[n],e,s);else if(Ri(t)||Gt(t))t.forEach(n=>{nt(n,e,s)});else if(Di(t)){for(const n in t)nt(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&nt(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Rs(t,e,s,n){try{return n?t(...n):t()}catch(r){gn(r,e,s)}}function Ge(t,e,s,n){if(W(t)){const r=Rs(t,e,s,n);return r&&Ii(r)&&r.catch(i=>{gn(i,e,s)}),r}if(q(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Ge(t[i],e,s,n));return r}}function gn(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||se;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(i){rt(),Rs(i,null,10,[t,l,u]),it();return}}tl(t,s,r,n,o)}function tl(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}const ke=[];let Ke=-1;const Qt=[];let ut=null,Kt=0;const ro=Promise.resolve();let sn=null;function io(t){const e=sn||ro;return t?e.then(this?t.bind(this):t):e}function sl(t){let e=Ke+1,s=ke.length;for(;e<s;){const n=e+s>>>1,r=ke[n],i=Os(r);i<t||i===t&&r.flags&2?e=n+1:s=n}return e}function wr(t){if(!(t.flags&1)){const e=Os(t),s=ke[ke.length-1];!s||!(t.flags&2)&&e>=Os(s)?ke.push(t):ke.splice(sl(e),0,t),t.flags|=1,oo()}}function oo(){sn||(sn=ro.then(lo))}function nl(t){q(t)?Qt.push(...t):ut&&t.id===-1?ut.splice(Kt+1,0,t):t.flags&1||(Qt.push(t),t.flags|=1),oo()}function Dr(t,e,s=Ke+1){for(;s<ke.length;s++){const n=ke[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;ke.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ao(t){if(Qt.length){const e=[...new Set(Qt)].sort((s,n)=>Os(s)-Os(n));if(Qt.length=0,ut){ut.push(...e);return}for(ut=e,Kt=0;Kt<ut.length;Kt++){const s=ut[Kt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ut=null,Kt=0}}const Os=t=>t.id==null?t.flags&2?-1:1/0:t.id;function lo(t){try{for(Ke=0;Ke<ke.length;Ke++){const e=ke[Ke];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Rs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ke<ke.length;Ke++){const e=ke[Ke];e&&(e.flags&=-2)}Ke=-1,ke.length=0,ao(),sn=null,(ke.length||Qt.length)&&lo()}}let De=null,co=null;function nn(t){const e=De;return De=t,co=t&&t.type.__scopeId||null,e}function rl(t,e=De,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&Kr(-1);const i=nn(e);let o;try{o=t(...r)}finally{nn(i),n._d&&Kr(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function uo(t,e){if(De===null)return t;const s=bn(De),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=se]=e[r];i&&(W(i)&&(i={mounted:i,updated:i}),i.deep&&nt(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function xt(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(rt(),Ge(l,s,8,[t.el,a,t,e]),it())}}const il=Symbol("_vte"),ol=t=>t.__isTeleport;function Sr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Sr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ho(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function rn(t,e,s,n,r=!1){if(q(t)){t.forEach((A,O)=>rn(A,e&&(q(e)?e[O]:e),s,n,r));return}if(vs(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&rn(t,e,s,n.component.subTree);return}const i=n.shapeFlag&4?bn(n.component):n.el,o=r?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===se?a.refs={}:a.refs,d=a.setupState,_=Z(d),w=d===se?()=>!1:A=>ee(_,A);if(u!=null&&u!==l&&(le(u)?(c[u]=null,w(u)&&(d[u]=null)):ve(u)&&(u.value=null)),W(l))Rs(l,a,12,[o,c]);else{const A=le(l),O=ve(l);if(A||O){const y=()=>{if(t.f){const h=A?w(l)?d[l]:c[l]:l.value;r?q(h)&&ur(h,i):q(h)?h.includes(i)||h.push(i):A?(c[l]=[i],w(l)&&(d[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else A?(c[l]=o,w(l)&&(d[l]=o)):O&&(l.value=o,t.k&&(c[t.k]=o))};o?(y.id=-1,Ae(y,s)):y()}}}fn().requestIdleCallback;fn().cancelIdleCallback;const vs=t=>!!t.type.__asyncLoader,fo=t=>t.type.__isKeepAlive;function al(t,e){po(t,"a",e)}function ll(t,e){po(t,"da",e)}function po(t,e,s=xe){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(mn(e,n,s),s){let r=s.parent;for(;r&&r.parent;)fo(r.parent.vnode)&&cl(n,e,s,r),r=r.parent}}function cl(t,e,s,n){const r=mn(e,t,n,!0);mo(()=>{ur(n[e],r)},s)}function mn(t,e,s=xe,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{rt();const a=Is(s),l=Ge(e,s,t,o);return a(),it(),l});return n?r.unshift(i):r.push(i),i}}const ot=t=>(e,s=xe)=>{(!Cs||t==="sp")&&mn(t,(...n)=>e(...n),s)},ul=ot("bm"),_n=ot("m"),hl=ot("bu"),dl=ot("u"),go=ot("bum"),mo=ot("um"),fl=ot("sp"),pl=ot("rtg"),gl=ot("rtc");function ml(t,e=xe){mn("ec",t,e)}const _l=Symbol.for("v-ndc");function Ps(t,e,s,n){let r;const i=s,o=q(t);if(o||le(t)){const a=o&&Yt(t);let l=!1,u=!1;a&&(l=!Ue(t),u=_t(t),t=pn(t)),r=new Array(t.length);for(let c=0,d=t.length;c<d;c++)r[c]=e(l?u?en(de(t[c])):de(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(ie(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(t[c],c,l,i)}}else r=[];return r}const Vn=t=>t?Uo(t)?bn(t):Vn(t.parent):null,ys=Te(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Vn(t.parent),$root:t=>Vn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>vo(t),$forceUpdate:t=>t.f||(t.f=()=>{wr(t.update)}),$nextTick:t=>t.n||(t.n=io.bind(t.proxy)),$watch:t=>Nl.bind(t)}),An=(t,e)=>t!==se&&!t.__isScriptSetup&&ee(t,e),vl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const w=o[e];if(w!==void 0)switch(w){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(An(n,e))return o[e]=1,n[e];if(r!==se&&ee(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&ee(u,e))return o[e]=3,i[e];if(s!==se&&ee(s,e))return o[e]=4,s[e];zn&&(o[e]=0)}}const c=ys[e];let d,_;if(c)return e==="$attrs"&&me(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==se&&ee(s,e))return o[e]=4,s[e];if(_=l.config.globalProperties,ee(_,e))return _[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;return An(r,e)?(r[e]=s,!0):n!==se&&ee(n,e)?(n[e]=s,!0):ee(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let a;return!!s[o]||t!==se&&ee(t,o)||An(e,o)||(a=i[0])&&ee(a,o)||ee(n,o)||ee(ys,o)||ee(r.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ee(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ur(t){return q(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let zn=!0;function yl(t){const e=vo(t),s=t.proxy,n=t.ctx;zn=!1,e.beforeCreate&&Mr(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:_,beforeUpdate:w,updated:A,activated:O,deactivated:y,beforeDestroy:h,beforeUnmount:S,destroyed:b,unmounted:x,render:U,renderTracked:m,renderTriggered:v,errorCaptured:J,serverPrefetch:Q,expose:oe,inheritAttrs:fe,components:Be,directives:at,filters:Ye}=e;if(u&&bl(u,n,null),o)for(const M in o){const V=o[M];W(V)&&(n[M]=V.bind(s))}if(r){const M=r.call(s,s);ie(M)&&(t.data=vr(M))}if(zn=!0,i)for(const M in i){const V=i[M],qe=W(V)?V.bind(s,s):W(V.get)?V.get.bind(s,s):Ve,Rt=!W(V)&&W(V.set)?V.set.bind(s):Ve,He=fs({get:qe,set:Rt});Object.defineProperty(n,M,{enumerable:!0,configurable:!0,get:()=>He.value,set:$e=>He.value=$e})}if(a)for(const M in a)_o(a[M],n,s,M);if(l){const M=W(l)?l.call(s):l;Reflect.ownKeys(M).forEach(V=>{El(V,M[V])})}c&&Mr(c,t,"c");function ae(M,V){q(V)?V.forEach(qe=>M(qe.bind(s))):V&&M(V.bind(s))}if(ae(ul,d),ae(_n,_),ae(hl,w),ae(dl,A),ae(al,O),ae(ll,y),ae(ml,J),ae(gl,m),ae(pl,v),ae(go,S),ae(mo,x),ae(fl,Q),q(oe))if(oe.length){const M=t.exposed||(t.exposed={});oe.forEach(V=>{Object.defineProperty(M,V,{get:()=>s[V],set:qe=>s[V]=qe})})}else t.exposed||(t.exposed={});U&&t.render===Ve&&(t.render=U),fe!=null&&(t.inheritAttrs=fe),Be&&(t.components=Be),at&&(t.directives=at),Q&&ho(t)}function bl(t,e,s=Ve){q(t)&&(t=Gn(t));for(const n in t){const r=t[n];let i;ie(r)?"default"in r?i=Qs(r.from||n,r.default,!0):i=Qs(r.from||n):i=Qs(r),ve(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function Mr(t,e,s){Ge(q(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function _o(t,e,s,n){let r=n.includes(".")?jo(s,n):()=>s[n];if(le(t)){const i=e[t];W(i)&&bs(r,i)}else if(W(t))bs(r,t.bind(s));else if(ie(t))if(q(t))t.forEach(i=>_o(i,e,s,n));else{const i=W(t.handler)?t.handler.bind(s):e[t.handler];W(i)&&bs(r,i,t)}}function vo(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(u=>on(l,u,o,!0)),on(l,e,o)),ie(e)&&i.set(e,l),l}function on(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&on(t,i,s,!0),r&&r.forEach(o=>on(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=wl[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const wl={data:Nr,props:Fr,emits:Fr,methods:hs,computed:hs,beforeCreate:we,created:we,beforeMount:we,mounted:we,beforeUpdate:we,updated:we,beforeDestroy:we,beforeUnmount:we,destroyed:we,unmounted:we,activated:we,deactivated:we,errorCaptured:we,serverPrefetch:we,components:hs,directives:hs,watch:kl,provide:Nr,inject:Sl};function Nr(t,e){return e?t?function(){return Te(W(t)?t.call(this,this):t,W(e)?e.call(this,this):e)}:e:t}function Sl(t,e){return hs(Gn(t),Gn(e))}function Gn(t){if(q(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function we(t,e){return t?[...new Set([].concat(t,e))]:e}function hs(t,e){return t?Te(Object.create(null),t,e):e}function Fr(t,e){return t?q(t)&&q(e)?[...new Set([...t,...e])]:Te(Object.create(null),Ur(t),Ur(e??{})):e}function kl(t,e){if(!t)return e;if(!e)return t;const s=Te(Object.create(null),t);for(const n in e)s[n]=we(t[n],e[n]);return s}function yo(){return{app:null,config:{isNativeTag:ga,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xl=0;function Tl(t,e){return function(n,r=null){W(n)||(n=Te({},n)),r!=null&&!ie(r)&&(r=null);const i=yo(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:xl++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:ic,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&W(c.install)?(o.add(c),c.install(u,...d)):W(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,_){if(!l){const w=u._ceVNode||ze(n,r);return w.appContext=i,_===!0?_="svg":_===!1&&(_=void 0),t(w,c,_),l=!0,u._container=c,c.__vue_app__=u,bn(w.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ge(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=Xt;Xt=u;try{return c()}finally{Xt=d}}};return u}}let Xt=null;function El(t,e){if(xe){let s=xe.provides;const n=xe.parent&&xe.parent.provides;n===s&&(s=xe.provides=Object.create(n)),s[t]=e}}function Qs(t,e,s=!1){const n=xe||De;if(n||Xt){let r=Xt?Xt._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&W(e)?e.call(n&&n.proxy):e}}const bo={},wo=()=>Object.create(bo),So=t=>Object.getPrototypeOf(t)===bo;function Ol(t,e,s,n=!1){const r={},i=wo();t.propsDefaults=Object.create(null),ko(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);s?t.props=n?r:Wa(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Pl(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Z(r),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let _=c[d];if(vn(t.emitsOptions,_))continue;const w=e[_];if(l)if(ee(i,_))w!==i[_]&&(i[_]=w,u=!0);else{const A=mt(_);r[A]=Yn(l,a,A,w,t,!1)}else w!==i[_]&&(i[_]=w,u=!0)}}}else{ko(t,e,r,i)&&(u=!0);let c;for(const d in a)(!e||!ee(e,d)&&((c=jt(d))===d||!ee(e,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(r[d]=Yn(l,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!ee(e,d))&&(delete i[d],u=!0)}u&&st(t.attrs,"set","")}function ko(t,e,s,n){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(gs(l))continue;const u=e[l];let c;r&&ee(r,c=mt(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:vn(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=Z(s),u=a||se;for(let c=0;c<i.length;c++){const d=i[c];s[d]=Yn(r,l,d,u[d],t,!ee(u,d))}}return o}function Yn(t,e,s,n,r,i){const o=t[s];if(o!=null){const a=ee(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&W(l)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const c=Is(r);n=u[s]=l.call(null,e),c()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===jt(s))&&(n=!0))}return n}const Al=new WeakMap;function xo(t,e,s=!1){const n=s?Al:e.propsCache,r=n.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!W(t)){const c=d=>{l=!0;const[_,w]=xo(d,e,!0);Te(o,_),w&&a.push(...w)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ie(t)&&n.set(t,zt),zt;if(q(i))for(let c=0;c<i.length;c++){const d=mt(i[c]);Br(d)&&(o[d]=se)}else if(i)for(const c in i){const d=mt(c);if(Br(d)){const _=i[c],w=o[d]=q(_)||W(_)?{type:_}:Te({},_),A=w.type;let O=!1,y=!0;if(q(A))for(let h=0;h<A.length;++h){const S=A[h],b=W(S)&&S.name;if(b==="Boolean"){O=!0;break}else b==="String"&&(y=!1)}else O=W(A)&&A.name==="Boolean";w[0]=O,w[1]=y,(O||ee(w,"default"))&&a.push(d)}}const u=[o,a];return ie(t)&&n.set(t,u),u}function Br(t){return t[0]!=="$"&&!gs(t)}const kr=t=>t[0]==="_"||t==="$stable",xr=t=>q(t)?t.map(We):[We(t)],Cl=(t,e,s)=>{if(e._n)return e;const n=rl((...r)=>xr(e(...r)),s);return n._c=!1,n},To=(t,e,s)=>{const n=t._ctx;for(const r in t){if(kr(r))continue;const i=t[r];if(W(i))e[r]=Cl(r,i,n);else if(i!=null){const o=xr(i);e[r]=()=>o}}},Eo=(t,e)=>{const s=xr(e);t.slots.default=()=>s},Oo=(t,e,s)=>{for(const n in e)(s||!kr(n))&&(t[n]=e[n])},jl=(t,e,s)=>{const n=t.slots=wo();if(t.vnode.shapeFlag&32){const r=e._;r?(Oo(n,e,s),s&&Mi(n,"_",r,!0)):To(e,n)}else e&&Eo(t,e)},$l=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,o=se;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Oo(r,e,s):(i=!e.$stable,To(e,r)),o=e}else e&&(Eo(t,e),o={default:1});if(i)for(const a in r)!kr(a)&&o[a]==null&&delete r[a]},Ae=Wl;function Rl(t){return Il(t)}function Il(t,e){const s=fn();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:_,setScopeId:w=Ve,insertStaticContent:A}=t,O=(f,p,k,j=null,P=null,C=null,L=void 0,I=null,R=!!p.dynamicChildren)=>{if(f===p)return;f&&!ls(f,p)&&(j=It(f),$e(f,P,C,!0),f=null),p.patchFlag===-2&&(R=!1,p.dynamicChildren=null);const{type:$,ref:F,shapeFlag:D}=p;switch($){case yn:y(f,p,k,j);break;case vt:h(f,p,k,j);break;case jn:f==null&&S(p,k,j,L);break;case _e:Be(f,p,k,j,P,C,L,I,R);break;default:D&1?U(f,p,k,j,P,C,L,I,R):D&6?at(f,p,k,j,P,C,L,I,R):(D&64||D&128)&&$.process(f,p,k,j,P,C,L,I,R,St)}F!=null&&P&&rn(F,f&&f.ref,C,p||f,!p)},y=(f,p,k,j)=>{if(f==null)n(p.el=a(p.children),k,j);else{const P=p.el=f.el;p.children!==f.children&&u(P,p.children)}},h=(f,p,k,j)=>{f==null?n(p.el=l(p.children||""),k,j):p.el=f.el},S=(f,p,k,j)=>{[f.el,f.anchor]=A(f.children,p,k,j,f.el,f.anchor)},b=({el:f,anchor:p},k,j)=>{let P;for(;f&&f!==p;)P=_(f),n(f,k,j),f=P;n(p,k,j)},x=({el:f,anchor:p})=>{let k;for(;f&&f!==p;)k=_(f),r(f),f=k;r(p)},U=(f,p,k,j,P,C,L,I,R)=>{p.type==="svg"?L="svg":p.type==="math"&&(L="mathml"),f==null?m(p,k,j,P,C,L,I,R):Q(f,p,P,C,L,I,R)},m=(f,p,k,j,P,C,L,I)=>{let R,$;const{props:F,shapeFlag:D,transition:N,dirs:B}=f;if(R=f.el=o(f.type,C,F&&F.is,F),D&8?c(R,f.children):D&16&&J(f.children,R,null,j,P,Cn(f,C),L,I),B&&xt(f,null,j,"created"),v(R,f,f.scopeId,L,j),F){for(const te in F)te!=="value"&&!gs(te)&&i(R,te,null,F[te],C,j);"value"in F&&i(R,"value",null,F.value,C),($=F.onVnodeBeforeMount)&&Je($,j,f)}B&&xt(f,null,j,"beforeMount");const Y=Ll(P,N);Y&&N.beforeEnter(R),n(R,p,k),(($=F&&F.onVnodeMounted)||Y||B)&&Ae(()=>{$&&Je($,j,f),Y&&N.enter(R),B&&xt(f,null,j,"mounted")},P)},v=(f,p,k,j,P)=>{if(k&&w(f,k),j)for(let C=0;C<j.length;C++)w(f,j[C]);if(P){let C=P.subTree;if(p===C||Ro(C.type)&&(C.ssContent===p||C.ssFallback===p)){const L=P.vnode;v(f,L,L.scopeId,L.slotScopeIds,P.parent)}}},J=(f,p,k,j,P,C,L,I,R=0)=>{for(let $=R;$<f.length;$++){const F=f[$]=I?dt(f[$]):We(f[$]);O(null,F,p,k,j,P,C,L,I)}},Q=(f,p,k,j,P,C,L)=>{const I=p.el=f.el;let{patchFlag:R,dynamicChildren:$,dirs:F}=p;R|=f.patchFlag&16;const D=f.props||se,N=p.props||se;let B;if(k&&Tt(k,!1),(B=N.onVnodeBeforeUpdate)&&Je(B,k,p,f),F&&xt(p,f,k,"beforeUpdate"),k&&Tt(k,!0),(D.innerHTML&&N.innerHTML==null||D.textContent&&N.textContent==null)&&c(I,""),$?oe(f.dynamicChildren,$,I,k,j,Cn(p,P),C):L||V(f,p,I,null,k,j,Cn(p,P),C,!1),R>0){if(R&16)fe(I,D,N,k,P);else if(R&2&&D.class!==N.class&&i(I,"class",null,N.class,P),R&4&&i(I,"style",D.style,N.style,P),R&8){const Y=p.dynamicProps;for(let te=0;te<Y.length;te++){const X=Y[te],ye=D[X],pe=N[X];(pe!==ye||X==="value")&&i(I,X,ye,pe,P,k)}}R&1&&f.children!==p.children&&c(I,p.children)}else!L&&$==null&&fe(I,D,N,k,P);((B=N.onVnodeUpdated)||F)&&Ae(()=>{B&&Je(B,k,p,f),F&&xt(p,f,k,"updated")},j)},oe=(f,p,k,j,P,C,L)=>{for(let I=0;I<p.length;I++){const R=f[I],$=p[I],F=R.el&&(R.type===_e||!ls(R,$)||R.shapeFlag&198)?d(R.el):k;O(R,$,F,null,j,P,C,L,!0)}},fe=(f,p,k,j,P)=>{if(p!==k){if(p!==se)for(const C in p)!gs(C)&&!(C in k)&&i(f,C,p[C],null,P,j);for(const C in k){if(gs(C))continue;const L=k[C],I=p[C];L!==I&&C!=="value"&&i(f,C,I,L,P,j)}"value"in k&&i(f,"value",p.value,k.value,P)}},Be=(f,p,k,j,P,C,L,I,R)=>{const $=p.el=f?f.el:a(""),F=p.anchor=f?f.anchor:a("");let{patchFlag:D,dynamicChildren:N,slotScopeIds:B}=p;B&&(I=I?I.concat(B):B),f==null?(n($,k,j),n(F,k,j),J(p.children||[],k,F,P,C,L,I,R)):D>0&&D&64&&N&&f.dynamicChildren?(oe(f.dynamicChildren,N,k,P,C,L,I),(p.key!=null||P&&p===P.subTree)&&Po(f,p,!0)):V(f,p,k,F,P,C,L,I,R)},at=(f,p,k,j,P,C,L,I,R)=>{p.slotScopeIds=I,f==null?p.shapeFlag&512?P.ctx.activate(p,k,j,L,R):Ye(p,k,j,P,C,L,R):lt(f,p,R)},Ye=(f,p,k,j,P,C,L)=>{const I=f.component=Zl(f,j,P);if(fo(f)&&(I.ctx.renderer=St),ec(I,!1,L),I.asyncDep){if(P&&P.registerDep(I,ae,L),!f.el){const R=I.subTree=ze(vt);h(null,R,p,k)}}else ae(I,f,p,k,P,C,L)},lt=(f,p,k)=>{const j=p.component=f.component;if(Jl(f,p,k))if(j.asyncDep&&!j.asyncResolved){M(j,p,k);return}else j.next=p,j.update();else p.el=f.el,j.vnode=p},ae=(f,p,k,j,P,C,L)=>{const I=()=>{if(f.isMounted){let{next:D,bu:N,u:B,parent:Y,vnode:te}=f;{const Ie=Ao(f);if(Ie){D&&(D.el=te.el,M(f,D,L)),Ie.asyncDep.then(()=>{f.isUnmounted||I()});return}}let X=D,ye;Tt(f,!1),D?(D.el=te.el,M(f,D,L)):D=te,N&&Ys(N),(ye=D.props&&D.props.onVnodeBeforeUpdate)&&Je(ye,Y,D,te),Tt(f,!0);const pe=Hr(f),Re=f.subTree;f.subTree=pe,O(Re,pe,d(Re.el),It(Re),f,P,C),D.el=pe.el,X===null&&Kl(f,pe.el),B&&Ae(B,P),(ye=D.props&&D.props.onVnodeUpdated)&&Ae(()=>Je(ye,Y,D,te),P)}else{let D;const{el:N,props:B}=p,{bm:Y,m:te,parent:X,root:ye,type:pe}=f,Re=vs(p);Tt(f,!1),Y&&Ys(Y),!Re&&(D=B&&B.onVnodeBeforeMount)&&Je(D,X,p),Tt(f,!0);{ye.ce&&ye.ce._injectChildStyle(pe);const Ie=f.subTree=Hr(f);O(null,Ie,k,j,f,P,C),p.el=Ie.el}if(te&&Ae(te,P),!Re&&(D=B&&B.onVnodeMounted)){const Ie=p;Ae(()=>Je(D,X,Ie),P)}(p.shapeFlag&256||X&&vs(X.vnode)&&X.vnode.shapeFlag&256)&&f.a&&Ae(f.a,P),f.isMounted=!0,p=k=j=null}};f.scope.on();const R=f.effect=new qi(I);f.scope.off();const $=f.update=R.run.bind(R),F=f.job=R.runIfDirty.bind(R);F.i=f,F.id=f.uid,R.scheduler=()=>wr(F),Tt(f,!0),$()},M=(f,p,k)=>{p.component=f;const j=f.vnode.props;f.vnode=p,f.next=null,Pl(f,p.props,j,k),$l(f,p.children,k),rt(),Dr(f),it()},V=(f,p,k,j,P,C,L,I,R=!1)=>{const $=f&&f.children,F=f?f.shapeFlag:0,D=p.children,{patchFlag:N,shapeFlag:B}=p;if(N>0){if(N&128){Rt($,D,k,j,P,C,L,I,R);return}else if(N&256){qe($,D,k,j,P,C,L,I,R);return}}B&8?(F&16&&wt($,P,C),D!==$&&c(k,D)):F&16?B&16?Rt($,D,k,j,P,C,L,I,R):wt($,P,C,!0):(F&8&&c(k,""),B&16&&J(D,k,j,P,C,L,I,R))},qe=(f,p,k,j,P,C,L,I,R)=>{f=f||zt,p=p||zt;const $=f.length,F=p.length,D=Math.min($,F);let N;for(N=0;N<D;N++){const B=p[N]=R?dt(p[N]):We(p[N]);O(f[N],B,k,null,P,C,L,I,R)}$>F?wt(f,P,C,!0,!1,D):J(p,k,j,P,C,L,I,R,D)},Rt=(f,p,k,j,P,C,L,I,R)=>{let $=0;const F=p.length;let D=f.length-1,N=F-1;for(;$<=D&&$<=N;){const B=f[$],Y=p[$]=R?dt(p[$]):We(p[$]);if(ls(B,Y))O(B,Y,k,null,P,C,L,I,R);else break;$++}for(;$<=D&&$<=N;){const B=f[D],Y=p[N]=R?dt(p[N]):We(p[N]);if(ls(B,Y))O(B,Y,k,null,P,C,L,I,R);else break;D--,N--}if($>D){if($<=N){const B=N+1,Y=B<F?p[B].el:j;for(;$<=N;)O(null,p[$]=R?dt(p[$]):We(p[$]),k,Y,P,C,L,I,R),$++}}else if($>N)for(;$<=D;)$e(f[$],P,C,!0),$++;else{const B=$,Y=$,te=new Map;for($=Y;$<=N;$++){const be=p[$]=R?dt(p[$]):We(p[$]);be.key!=null&&te.set(be.key,$)}let X,ye=0;const pe=N-Y+1;let Re=!1,Ie=0;const kt=new Array(pe);for($=0;$<pe;$++)kt[$]=0;for($=B;$<=D;$++){const be=f[$];if(ye>=pe){$e(be,P,C,!0);continue}let Le;if(be.key!=null)Le=te.get(be.key);else for(X=Y;X<=N;X++)if(kt[X-Y]===0&&ls(be,p[X])){Le=X;break}Le===void 0?$e(be,P,C,!0):(kt[Le-Y]=$+1,Le>=Ie?Ie=Le:Re=!0,O(be,p[Le],k,null,P,C,L,I,R),ye++)}const Ns=Re?Dl(kt):zt;for(X=Ns.length-1,$=pe-1;$>=0;$--){const be=Y+$,Le=p[be],Fs=be+1<F?p[be+1].el:j;kt[$]===0?O(null,Le,k,Fs,P,C,L,I,R):Re&&(X<0||$!==Ns[X]?He(Le,k,Fs,2):X--)}}},He=(f,p,k,j,P=null)=>{const{el:C,type:L,transition:I,children:R,shapeFlag:$}=f;if($&6){He(f.component.subTree,p,k,j);return}if($&128){f.suspense.move(p,k,j);return}if($&64){L.move(f,p,k,St);return}if(L===_e){n(C,p,k);for(let D=0;D<R.length;D++)He(R[D],p,k,j);n(f.anchor,p,k);return}if(L===jn){b(f,p,k);return}if(j!==2&&$&1&&I)if(j===0)I.beforeEnter(C),n(C,p,k),Ae(()=>I.enter(C),P);else{const{leave:D,delayLeave:N,afterLeave:B}=I,Y=()=>{f.ctx.isUnmounted?r(C):n(C,p,k)},te=()=>{D(C,()=>{Y(),B&&B()})};N?N(C,Y,te):te()}else n(C,p,k)},$e=(f,p,k,j=!1,P=!1)=>{const{type:C,props:L,ref:I,children:R,dynamicChildren:$,shapeFlag:F,patchFlag:D,dirs:N,cacheIndex:B}=f;if(D===-2&&(P=!1),I!=null&&(rt(),rn(I,null,k,f,!0),it()),B!=null&&(p.renderCache[B]=void 0),F&256){p.ctx.deactivate(f);return}const Y=F&1&&N,te=!vs(f);let X;if(te&&(X=L&&L.onVnodeBeforeUnmount)&&Je(X,p,f),F&6)kn(f.component,k,j);else{if(F&128){f.suspense.unmount(k,j);return}Y&&xt(f,null,p,"beforeUnmount"),F&64?f.type.remove(f,p,k,St,j):$&&!$.hasOnce&&(C!==_e||D>0&&D&64)?wt($,p,k,!1,!0):(C===_e&&D&384||!P&&F&16)&&wt(R,p,k),j&&ns(f)}(te&&(X=L&&L.onVnodeUnmounted)||Y)&&Ae(()=>{X&&Je(X,p,f),Y&&xt(f,null,p,"unmounted")},k)},ns=f=>{const{type:p,el:k,anchor:j,transition:P}=f;if(p===_e){Sn(k,j);return}if(p===jn){x(f);return}const C=()=>{r(k),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(f.shapeFlag&1&&P&&!P.persisted){const{leave:L,delayLeave:I}=P,R=()=>L(k,C);I?I(f.el,C,R):R()}else C()},Sn=(f,p)=>{let k;for(;f!==p;)k=_(f),r(f),f=k;r(p)},kn=(f,p,k)=>{const{bum:j,scope:P,job:C,subTree:L,um:I,m:R,a:$,parent:F,slots:{__:D}}=f;qr(R),qr($),j&&Ys(j),F&&q(D)&&D.forEach(N=>{F.renderCache[N]=void 0}),P.stop(),C&&(C.flags|=8,$e(L,f,p,k)),I&&Ae(I,p),Ae(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},wt=(f,p,k,j=!1,P=!1,C=0)=>{for(let L=C;L<f.length;L++)$e(f[L],p,k,j,P)},It=f=>{if(f.shapeFlag&6)return It(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const p=_(f.anchor||f.el),k=p&&p[il];return k?_(k):p};let rs=!1;const Ms=(f,p,k)=>{f==null?p._vnode&&$e(p._vnode,null,null,!0):O(p._vnode||null,f,p,null,null,null,k),p._vnode=f,rs||(rs=!0,Dr(),ao(),rs=!1)},St={p:O,um:$e,m:He,r:ns,mt:Ye,mc:J,pc:V,pbc:oe,n:It,o:t};return{render:Ms,hydrate:void 0,createApp:Tl(Ms)}}function Cn({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Tt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Ll(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Po(t,e,s=!1){const n=t.children,r=e.children;if(q(n)&&q(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=dt(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Po(o,a)),a.type===yn&&(a.el=o.el),a.type===vt&&!a.el&&(a.el=o.el)}}function Dl(t){const e=t.slice(),s=[0];let n,r,i,o,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(r=s[s.length-1],t[r]<u){e[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Ao(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ao(e)}function qr(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Ul=Symbol.for("v-scx"),Ml=()=>Qs(Ul);function bs(t,e,s){return Co(t,e,s)}function Co(t,e,s=se){const{immediate:n,deep:r,flush:i,once:o}=s,a=Te({},s),l=e&&n||!e&&i!=="post";let u;if(Cs){if(i==="sync"){const w=Ml();u=w.__watcherHandles||(w.__watcherHandles=[])}else if(!l){const w=()=>{};return w.stop=Ve,w.resume=Ve,w.pause=Ve,w}}const c=xe;a.call=(w,A,O)=>Ge(w,c,A,O);let d=!1;i==="post"?a.scheduler=w=>{Ae(w,c&&c.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(w,A)=>{A?w():wr(w)}),a.augmentJob=w=>{e&&(w.flags|=4),d&&(w.flags|=2,c&&(w.id=c.uid,w.i=c))};const _=el(t,e,a);return Cs&&(u?u.push(_):l&&_()),_}function Nl(t,e,s){const n=this.proxy,r=le(t)?t.includes(".")?jo(n,t):()=>n[t]:t.bind(n,n);let i;W(e)?i=e:(i=e.handler,s=e);const o=Is(this),a=Co(r,i.bind(n),s);return o(),a}function jo(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Fl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${mt(e)}Modifiers`]||t[`${jt(e)}Modifiers`];function Bl(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||se;let r=s;const i=e.startsWith("update:"),o=i&&Fl(n,e.slice(7));o&&(o.trim&&(r=s.map(c=>le(c)?c.trim():c)),o.number&&(r=s.map(Bn)));let a,l=n[a=xn(e)]||n[a=xn(mt(e))];!l&&i&&(l=n[a=xn(jt(e))]),l&&Ge(l,t,6,r);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ge(u,t,6,r)}}function $o(t,e,s=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!W(t)){const l=u=>{const c=$o(u,e,!0);c&&(a=!0,Te(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ie(t)&&n.set(t,null),null):(q(i)?i.forEach(l=>o[l]=null):Te(o,i),ie(t)&&n.set(t,o),o)}function vn(t,e){return!t||!un(e)?!1:(e=e.slice(2).replace(/Once$/,""),ee(t,e[0].toLowerCase()+e.slice(1))||ee(t,jt(e))||ee(t,e))}function Hr(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:_,setupState:w,ctx:A,inheritAttrs:O}=t,y=nn(t);let h,S;try{if(s.shapeFlag&4){const x=r||n,U=x;h=We(u.call(U,x,c,d,w,_,A)),S=a}else{const x=e;h=We(x.length>1?x(d,{attrs:a,slots:o,emit:l}):x(d,null)),S=e.props?a:ql(a)}}catch(x){ws.length=0,gn(x,t,1),h=ze(vt)}let b=h;if(S&&O!==!1){const x=Object.keys(S),{shapeFlag:U}=b;x.length&&U&7&&(i&&x.some(cr)&&(S=Hl(S,i)),b=es(b,S,!1,!0))}return s.dirs&&(b=es(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(s.dirs):s.dirs),s.transition&&Sr(b,s.transition),h=b,nn(y),h}const ql=t=>{let e;for(const s in t)(s==="class"||s==="style"||un(s))&&((e||(e={}))[s]=t[s]);return e},Hl=(t,e)=>{const s={};for(const n in t)(!cr(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function Jl(t,e,s){const{props:n,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Jr(n,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const _=c[d];if(o[_]!==n[_]&&!vn(u,_))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Jr(n,o,u):!0:!!o;return!1}function Jr(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!vn(s,i))return!0}return!1}function Kl({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ro=t=>t.__isSuspense;function Wl(t,e){e&&e.pendingBranch?q(t)?e.effects.push(...t):e.effects.push(t):nl(t)}const _e=Symbol.for("v-fgt"),yn=Symbol.for("v-txt"),vt=Symbol.for("v-cmt"),jn=Symbol.for("v-stc"),ws=[];let Ce=null;function H(t=!1){ws.push(Ce=t?null:[])}function Vl(){ws.pop(),Ce=ws[ws.length-1]||null}let As=1;function Kr(t,e=!1){As+=t,t<0&&Ce&&e&&(Ce.hasOnce=!0)}function Io(t){return t.dynamicChildren=As>0?Ce||zt:null,Vl(),As>0&&Ce&&Ce.push(t),t}function z(t,e,s,n,r,i){return Io(g(t,e,s,n,r,i,!0))}function ds(t,e,s,n,r){return Io(ze(t,e,s,n,r,!0))}function Lo(t){return t?t.__v_isVNode===!0:!1}function ls(t,e){return t.type===e.type&&t.key===e.key}const Do=({key:t})=>t??null,Xs=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?le(t)||ve(t)||W(t)?{i:De,r:t,k:e,f:!!s}:t:null);function g(t,e=null,s=null,n=0,r=null,i=t===_e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Do(e),ref:e&&Xs(e),scopeId:co,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:De};return a?(Tr(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=le(s)?8:16),As>0&&!o&&Ce&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ce.push(l),l}const ze=zl;function zl(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===_l)&&(t=vt),Lo(t)){const a=es(t,e,!0);return s&&Tr(a,s),As>0&&!i&&Ce&&(a.shapeFlag&6?Ce[Ce.indexOf(t)]=a:Ce.push(a)),a.patchFlag=-2,a}if(rc(t)&&(t=t.__vccOpts),e){e=Gl(e);let{class:a,style:l}=e;a&&!le(a)&&(e.class=tt(a)),ie(l)&&(br(l)&&!q(l)&&(l=Te({},l)),e.style=dr(l))}const o=le(t)?1:Ro(t)?128:ol(t)?64:ie(t)?4:W(t)?2:0;return g(t,e,s,n,r,o,i,!0)}function Gl(t){return t?br(t)||So(t)?Te({},t):t:null}function es(t,e,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Yl(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Do(u),ref:e&&e.ref?s&&i?q(i)?i.concat(Xs(e)):[i,Xs(e)]:Xs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==_e?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&es(t.ssContent),ssFallback:t.ssFallback&&es(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Sr(c,l.clone(c)),c}function ht(t=" ",e=0){return ze(yn,null,t,e)}function he(t="",e=!1){return e?(H(),ds(vt,null,t)):ze(vt,null,t)}function We(t){return t==null||typeof t=="boolean"?ze(vt):q(t)?ze(_e,null,t.slice()):Lo(t)?dt(t):ze(yn,null,String(t))}function dt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:es(t)}function Tr(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(q(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),Tr(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!So(e)?e._ctx=De:r===3&&De&&(De.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else W(e)?(e={default:e,_ctx:De},s=32):(e=String(e),n&64?(s=16,e=[ht(e)]):s=8);t.children=e,t.shapeFlag|=s}function Yl(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=tt([e.class,n.class]));else if(r==="style")e.style=dr([e.style,n.style]);else if(un(r)){const i=e[r],o=n[r];o&&i!==o&&!(q(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=n[r])}return e}function Je(t,e,s,n=null){Ge(t,e,7,[s,n])}const Ql=yo();let Xl=0;function Zl(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||Ql,i={uid:Xl++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ea(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xo(n,r),emitsOptions:$o(n,r),emit:null,emitted:null,propsDefaults:se,inheritAttrs:n.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Bl.bind(null,i),t.ce&&t.ce(i),i}let xe=null,an,Qn;{const t=fn(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};an=e("__VUE_INSTANCE_SETTERS__",s=>xe=s),Qn=e("__VUE_SSR_SETTERS__",s=>Cs=s)}const Is=t=>{const e=xe;return an(t),t.scope.on(),()=>{t.scope.off(),an(e)}},Wr=()=>{xe&&xe.scope.off(),an(null)};function Uo(t){return t.vnode.shapeFlag&4}let Cs=!1;function ec(t,e=!1,s=!1){e&&Qn(e);const{props:n,children:r}=t.vnode,i=Uo(t);Ol(t,n,i,e),jl(t,r,s||e);const o=i?tc(t,e):void 0;return e&&Qn(!1),o}function tc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,vl);const{setup:n}=s;if(n){rt();const r=t.setupContext=n.length>1?nc(t):null,i=Is(t),o=Rs(n,t,0,[t.props,r]),a=Ii(o);if(it(),i(),(a||t.sp)&&!vs(t)&&ho(t),a){if(o.then(Wr,Wr),e)return o.then(l=>{Vr(t,l)}).catch(l=>{gn(l,t,0)});t.asyncDep=o}else Vr(t,o)}else Mo(t)}function Vr(t,e,s){W(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ie(e)&&(t.setupState=no(e)),Mo(t)}function Mo(t,e,s){const n=t.type;t.render||(t.render=n.render||Ve);{const r=Is(t);rt();try{yl(t)}finally{it(),r()}}}const sc={get(t,e){return me(t,"get",""),t[e]}};function nc(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,sc),slots:t.slots,emit:t.emit,expose:e}}function bn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(no(Va(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in ys)return ys[s](t)},has(e,s){return s in e||s in ys}})):t.proxy}function rc(t){return W(t)&&"__vccOpts"in t}const fs=(t,e)=>Xa(t,e,Cs),ic="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xn;const zr=typeof window<"u"&&window.trustedTypes;if(zr)try{Xn=zr.createPolicy("vue",{createHTML:t=>t})}catch{}const No=Xn?t=>Xn.createHTML(t):t=>t,oc="http://www.w3.org/2000/svg",ac="http://www.w3.org/1998/Math/MathML",Ze=typeof document<"u"?document:null,Gr=Ze&&Ze.createElement("template"),lc={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?Ze.createElementNS(oc,t):e==="mathml"?Ze.createElementNS(ac,t):s?Ze.createElement(t,{is:s}):Ze.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>Ze.createTextNode(t),createComment:t=>Ze.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ze.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,i){const o=s?s.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Gr.innerHTML=No(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=Gr.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},cc=Symbol("_vtc");function uc(t,e,s){const n=t[cc];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Yr=Symbol("_vod"),hc=Symbol("_vsh"),dc=Symbol(""),fc=/(^|;)\s*display\s*:/;function pc(t,e,s){const n=t.style,r=le(s);let i=!1;if(s&&!r){if(e)if(le(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Zs(n,a,"")}else for(const o in e)s[o]==null&&Zs(n,o,"");for(const o in s)o==="display"&&(i=!0),Zs(n,o,s[o])}else if(r){if(e!==s){const o=n[dc];o&&(s+=";"+o),n.cssText=s,i=fc.test(s)}}else e&&t.removeAttribute("style");Yr in t&&(t[Yr]=i?n.display:"",t[hc]&&(n.display="none"))}const Qr=/\s*!important$/;function Zs(t,e,s){if(q(s))s.forEach(n=>Zs(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=gc(t,e);Qr.test(s)?t.setProperty(jt(n),s.replace(Qr,""),"important"):t[n]=s}}const Xr=["Webkit","Moz","ms"],$n={};function gc(t,e){const s=$n[e];if(s)return s;let n=mt(e);if(n!=="filter"&&n in t)return $n[e]=n;n=Ui(n);for(let r=0;r<Xr.length;r++){const i=Xr[r]+n;if(i in t)return $n[e]=i}return e}const Zr="http://www.w3.org/1999/xlink";function ei(t,e,s,n,r,i=Ta(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Zr,e.slice(6,e.length)):t.setAttributeNS(Zr,e,s):s==null||i&&!Ni(s)?t.removeAttribute(e):t.setAttribute(e,i?"":yt(s)?String(s):s)}function ti(t,e,s,n,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?No(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Ni(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(r||e)}function Wt(t,e,s,n){t.addEventListener(e,s,n)}function mc(t,e,s,n){t.removeEventListener(e,s,n)}const si=Symbol("_vei");function _c(t,e,s,n,r=null){const i=t[si]||(t[si]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=vc(e);if(n){const u=i[e]=wc(n,r);Wt(t,a,u,l)}else o&&(mc(t,a,o,l),i[e]=void 0)}}const ni=/(?:Once|Passive|Capture)$/;function vc(t){let e;if(ni.test(t)){e={};let n;for(;n=t.match(ni);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):jt(t.slice(2)),e]}let Rn=0;const yc=Promise.resolve(),bc=()=>Rn||(yc.then(()=>Rn=0),Rn=Date.now());function wc(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Ge(Sc(n,s.value),e,5,[n])};return s.value=t,s.attached=bc(),s}function Sc(t,e){if(q(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const ri=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,kc=(t,e,s,n,r,i)=>{const o=r==="svg";e==="class"?uc(t,n,o):e==="style"?pc(t,s,n):un(e)?cr(e)||_c(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):xc(t,e,n,o))?(ti(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ei(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!le(n))?ti(t,mt(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),ei(t,e,n,o))};function xc(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&ri(e)&&W(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ri(e)&&le(s)?!1:e in t}const ii=t=>{const e=t.props["onUpdate:modelValue"]||!1;return q(e)?s=>Ys(e,s):e};function Tc(t){t.target.composing=!0}function oi(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const In=Symbol("_assign"),Fo={created(t,{modifiers:{lazy:e,trim:s,number:n}},r){t[In]=ii(r);const i=n||r.props&&r.props.type==="number";Wt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Bn(a)),t[In](a)}),s&&Wt(t,"change",()=>{t.value=t.value.trim()}),e||(Wt(t,"compositionstart",Tc),Wt(t,"compositionend",oi),Wt(t,"change",oi))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(t[In]=ii(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Bn(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||r&&t.value.trim()===l)||(t.value=l))}},Ec=["ctrl","shift","alt","meta"],Oc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Ec.some(s=>t[`${s}Key`]&&!e.includes(s))},js=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=Oc[e[o]];if(a&&a(r,e))return}return t(r,...i)})},Pc=Te({patchProp:kc},lc);let ai;function Ac(){return ai||(ai=Rl(Pc))}const Cc=(...t)=>{const e=Ac().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=$c(n);if(!r)return;const i=e._component;!W(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,jc(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function jc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function $c(t){return le(t)?document.querySelector(t):t}const Ls=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},Rc={key:0,class:"action-buttons"},Ic=["disabled"],Lc={class:"players-grid"},Dc={class:"avatar-placeholder"},Uc=["src"],Mc={class:"player-name"},Nc={class:"player-actions"},Fc=["onClick"],Bc=["onClick"],qc=["onClick"],Hc={class:"action-buttons"},Jc={__name:"PlayerSelector",props:{predefinedPlayers:Array,role:String},emits:["start-game"],setup(t,{emit:e}){const s=t,n=e,r=je([]),i=je(""),o=["/shanghai/img/invite_1.jpg","/shanghai/img/invite_2.png","/shanghai/img/invite_3.png","/shanghai/img/invite_4.png","/shanghai/img/invite_5.png","/shanghai/img/invite_6.png","/shanghai/img/invite_7.png","/shanghai/img/invite_8.png","/shanghai/img/invite_9.png","/shanghai/img/invite_10.png","/shanghai/img/invite_11.png"];let a=[...o];function l(){a.length===0&&(a=[...o]);const S=Math.floor(Math.random()*a.length);return a.splice(S,1)[0]}function u(){const S=i.value.trim();if(S===""||r.value.some(x=>x.name===S))return;const b=s.predefinedPlayers.find(x=>x.name===S);r.value.push({name:S,avatar:(b==null?void 0:b.avatar)||l()}),i.value=""}function c(){u()}function d(){r.value=s.predefinedPlayers.map(S=>({id:S.id,name:S.name,avatar:S.avatar||l()}))}function _(S){r.value=r.value.filter(b=>b.name!==S)}function w(S){const b=r.value.findIndex(x=>x.name===S);b<=0||([r.value[b-1],r.value[b]]=[r.value[b],r.value[b-1]])}function A(S){const b=r.value.findIndex(x=>x.name===S);b===-1||b>=r.value.length-1||([r.value[b+1],r.value[b]]=[r.value[b],r.value[b+1]])}function O(){for(let S=r.value.length-1;S>0;S--){const b=Math.floor(Math.random()*(S+1));[r.value[S],r.value[b]]=[r.value[b],r.value[S]]}}function y(){const S=document.documentElement;S.requestFullscreen?S.requestFullscreen():S.mozRequestFullScreen?S.mozRequestFullScreen():S.webkitRequestFullscreen?S.webkitRequestFullscreen():S.msRequestFullscreen&&S.msRequestFullscreen()}function h(){y(),n("start-game",r.value)}return _n(()=>{s.role==="admin"&&d()}),(S,b)=>(H(),z(_e,null,[b[3]||(b[3]=g("h1",null,"Shanghai ",-1)),t.role==="admin"?(H(),z("div",Rc,[g("a",{href:"#",onClick:b[0]||(b[0]=js(x=>S.$emit("view-scores"),["prevent"])),class:"link-button"},"Voir le classement")])):he("",!0),g("form",{onSubmit:js(u,["prevent"])},[uo(g("input",{type:"text","onUpdate:modelValue":b[1]||(b[1]=x=>i.value=x),placeholder:"Ajouter un joueur",onChange:c},null,544),[[Fo,i.value]]),g("button",{disabled:i.value.length===0},"Ajouter",8,Ic)],32),g("ul",Lc,[(H(!0),z(_e,null,Ps(r.value,x=>(H(),z("li",{key:x.name,class:"player-card"},[g("div",Dc,[g("img",{src:x.avatar,alt:"avatar",class:"avatar-img"},null,8,Uc)]),g("div",Mc,E(x.name),1),g("div",Nc,[g("button",{onClick:U=>w(x.name)},"",8,Fc),g("button",{onClick:U=>_(x.name)},"",8,Bc),g("button",{onClick:U=>A(x.name)},"",8,qc)])]))),128))]),g("div",Hc,[r.value.length>=2?(H(),z("button",{key:0,onClick:b[2]||(b[2]=x=>O())},"Ordre alatoire")):he("",!0),r.value.length>=1?(H(),z("button",{key:1,onClick:h,class:"jouer-button"},"JOUER")):he("",!0)]),b[4]||(b[4]=g("br",null,null,-1))],64))}},Kc=Ls(Jc,[["__scopeId","data-v-91569e23"]]),Wc="modulepreload",Vc=function(t){return"/shanghai/"+t},li={},Ds=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=o(s.map(u=>{if(u=Vc(u),u in li)return;li[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const _=document.createElement("link");if(_.rel=c?"stylesheet":Wc,c||(_.as="script"),_.crossOrigin="",_.href=u,l&&_.setAttribute("nonce",l),document.head.appendChild(_),c)return new Promise((w,A)=>{_.addEventListener("load",w),_.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},zc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ds(async()=>{const{default:n}=await Promise.resolve().then(()=>ss);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class Er extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class Gc extends Er{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yc extends Er{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Qc extends Er{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zn||(Zn={}));var Xc=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Zc{constructor(e,{headers:s={},customFetch:n,region:r=Zn.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=zc(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return Xc(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(A=>{throw new Gc(A)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new Yc(c);if(!c.ok)throw new Qc(c);let _=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return _==="application/json"?w=yield c.json():_==="application/octet-stream"?w=yield c.blob():_==="text/event-stream"?w=c:_==="multipart/form-data"?w=yield c.formData():w=yield c.text(),{data:w,error:null}}catch(r){return{data:null,error:r}}})}}function eu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tu(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),s}var ce={},Dt={},Ut={},Mt={},Nt={},Ft={},su=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ts=su();const nu=ts.fetch,Bo=ts.fetch.bind(ts),qo=ts.Headers,ru=ts.Request,iu=ts.Response,ss=Object.freeze(Object.defineProperty({__proto__:null,Headers:qo,Request:ru,Response:iu,default:Bo,fetch:nu},Symbol.toStringTag,{value:"Module"})),ou=tu(ss);var Js={},ci;function Ho(){if(ci)return Js;ci=1,Object.defineProperty(Js,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Js.default=t,Js}var ui;function Jo(){if(ui)return Ft;ui=1;var t=Ft&&Ft.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ft,"__esModule",{value:!0});const e=t(ou),s=t(Ho());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,_;let w=null,A=null,O=null,y=u.status,h=u.statusText;if(u.ok){if(this.method!=="HEAD"){const U=await u.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?A=U:A=JSON.parse(U))}const b=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),x=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");b&&x&&x.length>1&&(O=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(w={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,O=null,y=406,h="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const b=await u.text();try{w=JSON.parse(b),Array.isArray(w)&&u.status===404&&(A=[],w=null,y=200,h="OK")}catch{u.status===404&&b===""?(y=204,h="No Content"):w={message:b}}if(w&&this.isMaybeSingle&&(!((_=w==null?void 0:w.details)===null||_===void 0)&&_.includes("0 rows"))&&(w=null,y=200,h="OK"),w&&this.shouldThrowOnError)throw new s.default(w)}return{error:w,data:A,count:O,status:y,statusText:h}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,_;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(_=u==null?void 0:u.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Ft.default=n,Ft}var hi;function Ko(){if(hi)return Nt;hi=1;var t=Nt&&Nt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Nt,"__esModule",{value:!0});const e=t(Jo());class s extends e.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(u,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),_=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${_}"; options=${d};`,u==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Nt.default=s,Nt}var di;function Or(){if(di)return Mt;di=1;var t=Mt&&Mt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Mt,"__esModule",{value:!0});const e=t(Ko());class s extends e.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${u}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return Mt.default=s,Mt}var fi;function Wo(){if(fi)return Ut;fi=1;var t=Ut&&Ut.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ut,"__esModule",{value:!0});const e=t(Or());class s{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=i,this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(r)){const u=r.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(r)){const d=r.reduce((_,w)=>_.concat(Object.keys(w)),[]);if(d.length>0){const _=[...new Set(d)].map(w=>`"${w}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ut.default=s,Ut}var cs={},us={},pi;function au(){return pi||(pi=1,Object.defineProperty(us,"__esModule",{value:!0}),us.version=void 0,us.version="0.0.0-automated"),us}var gi;function lu(){if(gi)return cs;gi=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.DEFAULT_HEADERS=void 0;const t=au();return cs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},cs}var mi;function cu(){if(mi)return Dt;mi=1;var t=Dt&&Dt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Dt,"__esModule",{value:!0});const e=t(Wo()),s=t(Or()),n=lu();class r{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let d;const _=new URL(`${this.url}/rpc/${o}`);let w;l||u?(d=l?"HEAD":"GET",Object.entries(a).filter(([O,y])=>y!==void 0).map(([O,y])=>[O,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([O,y])=>{_.searchParams.append(O,y)})):(d="POST",w=a);const A=Object.assign({},this.headers);return c&&(A.Prefer=`count=${c}`),new s.default({method:d,url:_,headers:A,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Dt.default=r,Dt}var _i;function uu(){if(_i)return ce;_i=1;var t=ce&&ce.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ce,"__esModule",{value:!0}),ce.PostgrestError=ce.PostgrestBuilder=ce.PostgrestTransformBuilder=ce.PostgrestFilterBuilder=ce.PostgrestQueryBuilder=ce.PostgrestClient=void 0;const e=t(cu());ce.PostgrestClient=e.default;const s=t(Wo());ce.PostgrestQueryBuilder=s.default;const n=t(Or());ce.PostgrestFilterBuilder=n.default;const r=t(Ko());ce.PostgrestTransformBuilder=r.default;const i=t(Jo());ce.PostgrestBuilder=i.default;const o=t(Ho());return ce.PostgrestError=o.default,ce.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},ce}var hu=uu();const du=eu(hu),{PostgrestClient:fu,PostgrestQueryBuilder:Sf,PostgrestFilterBuilder:kf,PostgrestTransformBuilder:xf,PostgrestBuilder:Tf,PostgrestError:Ef}=du;let er;typeof window>"u"?er=require("ws"):er=window.WebSocket;const pu="2.11.10",gu={"X-Client-Info":`realtime-js/${pu}`},mu="1.0.0",Vo=1e4,_u=1e3;var Zt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zt||(Zt={}));var Se;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Se||(Se={}));var Ne;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ne||(Ne={}));var tr;(function(t){t.websocket="websocket"})(tr||(tr={}));var At;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(At||(At={}));class vu{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+r));o=o+r;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class zo{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ne||(ne={}));const vi=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=yu(o,t,e,r),i),{})},yu=(t,e,s,n)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=s[t];return i&&!n.includes(i)?Go(i,o):sr(o)},Go=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return ku(e,s)}switch(t){case ne.bool:return bu(e);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return wu(e);case ne.json:case ne.jsonb:return Su(e);case ne.timestamp:return xu(e);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return sr(e);default:return sr(e)}},sr=t=>t,bu=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},wu=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Su=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ku=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Go(e,a))}return t},xu=t=>typeof t=="string"?t.replace(" ","T"):t,Yo=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ln{constructor(e,s,n={},r=Vo){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(yi||(yi={}));class Ss{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ss.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=Ss.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ss.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const _=c.map(y=>y.presence_ref),w=d.map(y=>y.presence_ref),A=c.filter(y=>w.indexOf(y.presence_ref)<0),O=d.filter(y=>_.indexOf(y.presence_ref)<0);A.length>0&&(a[u]=A),O.length>0&&(l[u]=O)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(w=>w.presence_ref),_=c.filter(w=>d.indexOf(w.presence_ref)<0);e[a].unshift(..._)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bi||(bi={}));var wi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wi||(wi={}));var et;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(et||(et={}));class Pr{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=Se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ln(this,Ne.join,this.params,this.timeout),this.rejoinTimer=new zo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Se.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ne.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Ss(this),this.broadcastEndpointURL=Yo(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(et.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(et.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(et.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,w=(d=_==null?void 0:_.length)!==null&&d!==void 0?d:0,A=[];for(let O=0;O<w;O++){const y=_[O],{filter:{event:h,schema:S,table:b,filter:x}}=y,U=c&&c[O];if(U&&U.event===h&&U.schema===S&&U.table===b&&U.filter===x)A.push(Object.assign(Object.assign({},y),{id:U.id}));else{this.unsubscribe(),this.state=Se.errored,e==null||e(et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(et.SUBSCRIBED);return}}).receive("error",c=>{this.state=Se.errored,e==null||e(et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this._on(e,s,n)}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Se.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ne.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const r=new Ln(this,Ne.leave,{},e);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Ln(this,e,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ne;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let _=this._onMessage(o,s,n);if(s&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(w=>{var A,O,y;return((A=w.filter)===null||A===void 0?void 0:A.event)==="*"||((y=(O=w.filter)===null||O===void 0?void 0:O.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(w=>w.callback(_,n)):(i=this.bindings[o])===null||i===void 0||i.filter(w=>{var A,O,y,h,S,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in w){const x=w.id,U=(A=w.filter)===null||A===void 0?void 0:A.event;return x&&((O=s.ids)===null||O===void 0?void 0:O.includes(x))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const x=(S=(h=w==null?void 0:w.filter)===null||h===void 0?void 0:h.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return x==="*"||x===((b=s==null?void 0:s.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===o}).map(w=>{if(typeof _=="object"&&"ids"in _){const A=_.data,{schema:O,table:y,commit_timestamp:h,type:S,errors:b}=A;_=Object.assign(Object.assign({},{schema:O,table:y,commit_timestamp:h,eventType:S,new:{},old:{},errors:b}),this._getPayloadRecords(A))}w.callback(_,n)})}_isClosed(){return this.state===Se.closed}_isJoined(){return this.state===Se.joined}_isJoining(){return this.state===Se.joining}_isLeaving(){return this.state===Se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Pr.isEqual(r.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ne.close,{},e)}_onError(e){this._on(Ne.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=vi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=vi(e.columns,e.old_record)),s}}const Si=()=>{},Tu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Eu{constructor(e,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=gu,this.params={},this.timeout=Vo,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Si,this.ref=0,this.logger=Si,this.conn=null,this.sendBuffer=[],this.serializer=new vu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ds(async()=>{const{default:l}=await Promise.resolve().then(()=>ss);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${tr.websocket}`,this.httpEndpoint=Yo(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new zo(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=er),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Ou(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mu}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zt.connecting:return At.Connecting;case Zt.open:return At.Open;case Zt.closing:return At.Closing;default:return At.Closed}}isConnected(){return this.connectionState()===At.Open}channel(e,s={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===n);if(r)return r;{const i=new Pr(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Ne.access_token,{access_token:s})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(_u,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:n,event:r,payload:i,ref:o}=s;n==="phoenix"&&r==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(n)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ne.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([Tu],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class Ou{constructor(e,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Zt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Ar extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Pu extends Ar{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class nr extends Ar{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Au=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Qo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ds(async()=>{const{default:n}=await Promise.resolve().then(()=>ss);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Cu=()=>Au(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ds(()=>Promise.resolve().then(()=>ss),void 0)).Response:Response}),rr=t=>{if(Array.isArray(t))return t.map(s=>rr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=rr(n)}),e};var $t=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Dn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ju=(t,e,s)=>$t(void 0,void 0,void 0,function*(){const n=yield Cu();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(r=>{e(new Pu(Dn(r),t.status||500))}).catch(r=>{e(new nr(Dn(r),r))}):e(new nr(Dn(t),t))}),$u=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),s))};function Us(t,e,s,n,r,i){return $t(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,$u(e,n,r,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ju(l,a,n))})})}function ln(t,e,s,n){return $t(this,void 0,void 0,function*(){return Us(t,"GET",e,s,n)})}function ft(t,e,s,n,r){return $t(this,void 0,void 0,function*(){return Us(t,"POST",e,n,r,s)})}function Ru(t,e,s,n,r){return $t(this,void 0,void 0,function*(){return Us(t,"PUT",e,n,r,s)})}function Iu(t,e,s,n){return $t(this,void 0,void 0,function*(){return Us(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Xo(t,e,s,n,r){return $t(this,void 0,void 0,function*(){return Us(t,"DELETE",e,n,r,s)})}var Ee=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Lu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ki={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Du{constructor(e,s={},n,r){this.url=e,this.headers=s,this.bucketId=n,this.fetch=Qo(r)}uploadOrUpdate(e,s,n,r){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ki),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),_=yield d.json();return d.ok?{data:{path:u,id:_.Id,fullPath:_.Key},error:null}:{data:null,error:_}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}upload(e,s,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:ki.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),_=yield d.json();return d.ok?{data:{path:i,fullPath:_.Key},error:null}:{data:null,error:_}}catch(l){if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield ft(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ar("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}update(e,s,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}copy(e,s,n){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,n){return Ee(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield ft(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return Ee(this,void 0,void 0,function*(){try{const r=yield ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}download(e,s){return Ee(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ln(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}})}info(e){return Ee(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield ln(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:rr(n),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}exists(e){return Ee(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Iu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ue(n)&&n instanceof nr){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Ee(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}list(e,s,n){return Ee(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Lu),s),{prefix:e||""});return{data:yield ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Uu="2.7.1",Mu={"X-Client-Info":`storage-js/${Uu}`};var Bt=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Nu{constructor(e,s={},n){this.url=e,this.headers=Object.assign(Object.assign({},Mu),s),this.fetch=Qo(n)}listBuckets(){return Bt(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ue(e))return{data:null,error:e};throw e}})}getBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Bt(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return Bt(this,void 0,void 0,function*(){try{return{data:yield Ru(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}}class Fu extends Nu{constructor(e,s={},n){super(e,s,n)}from(e){return new Du(this.url,this.headers,e,this.fetch)}}const Bu="2.50.0";let ps="";typeof Deno<"u"?ps="deno":typeof document<"u"?ps="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ps="react-native":ps="node";const qu={"X-Client-Info":`supabase-js-${ps}/${Bu}`},Hu={headers:qu},Ju={schema:"public"},Ku={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wu={};var Vu=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const zu=t=>{let e;return t?e=t:typeof fetch>"u"?e=Bo:e=fetch,(...s)=>e(...s)},Gu=()=>typeof Headers>"u"?qo:Headers,Yu=(t,e,s)=>{const n=zu(s),r=Gu();return(i,o)=>Vu(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Qu=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function Xu(t){return t.endsWith("/")?t:t+"/"}function Zu(t,e){var s,n;const{db:r,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,_={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Qu(this,void 0,void 0,function*(){return""})};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}const Zo="2.70.0",Vt=30*1e3,ir=3,Un=ir*Vt,eh="http://localhost:9999",th="supabase.auth.token",sh={"X-Client-Info":`gotrue-js/${Zo}`},or="X-Supabase-Api-Version",ea={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rh=6e5;class Cr extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function K(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ih extends Cr{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function oh(t){return K(t)&&t.name==="AuthApiError"}class ta extends Cr{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class bt extends Cr{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class ct extends bt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ah(t){return K(t)&&t.name==="AuthSessionMissingError"}class Ks extends bt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ws extends bt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Vs extends bt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lh(t){return K(t)&&t.name==="AuthImplicitGrantRedirectError"}class xi extends bt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ar extends bt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Mn(t){return K(t)&&t.name==="AuthRetryableFetchError"}class Ti extends bt{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class ks extends bt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ei=` 	
\r=`.split(""),ch=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ei.length;e+=1)t[Ei[e].charCodeAt(0)]=-2;for(let e=0;e<cn.length;e+=1)t[cn[e].charCodeAt(0)]=e;return t})();function Oi(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(cn[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(cn[n]),e.queuedBits-=6}}function sa(t,e,s){const n=ch[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Pi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{dh(o,n,s)};for(let o=0;o<t.length;o+=1)sa(t.charCodeAt(o),r,i);return e.join("")}function uh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hh(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}uh(n,e)}}function dh(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function fh(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)sa(t.charCodeAt(r),s,n);return new Uint8Array(e)}function ph(t){const e=[];return hh(t,s=>e.push(s)),new Uint8Array(e)}function gh(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};return t.forEach(r=>Oi(r,s,n)),Oi(null,s,n),e.join("")}function mh(t){return Math.round(Date.now()/1e3)+t}function _h(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",Et={tested:!1,writable:!1},xs=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Et.tested)return Et.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Et.tested=!0,Et.writable=!0}catch{Et.tested=!0,Et.writable=!1}return Et.writable};function vh(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const na=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ds(async()=>{const{default:n}=await Promise.resolve().then(()=>ss);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},yh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ra=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},zs=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Gs=async(t,e)=>{await t.removeItem(e)};class wn{constructor(){this.promise=new wn.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}wn.promiseConstructor=Promise;function Nn(t){const e=t.split(".");if(e.length!==3)throw new ks("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!nh.test(e[n]))throw new ks("JWT not in base64url format");return{header:JSON.parse(Pi(e[0])),payload:JSON.parse(Pi(e[1])),signature:fh(e[2]),raw:{header:e[0],payload:e[1]}}}async function bh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function wh(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function Sh(t){return("0"+t.toString(16)).substr(-2)}function kh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,Sh).join("")}async function xh(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function Th(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await xh(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qt(t,e,s=!1){const n=kh();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await ra(t,`${e}-code-verifier`,r);const i=await Th(n);return[i,n===i?"plain":"s256"]}const Eh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Oh(t){const e=t.headers.get(or);if(!e||!e.match(Eh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ph(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ah(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ch=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ht(t){if(!Ch.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var jh=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const Pt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$h=[502,503,504];async function Ai(t){var e;if(!yh(t))throw new ar(Pt(t),0);if($h.includes(t.status))throw new ar(Pt(t),t.status);let s;try{s=await t.json()}catch(i){throw new ta(Pt(i),i)}let n;const r=Oh(t);if(r&&r.getTime()>=ea["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Ti(Pt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ct}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ti(Pt(s),t.status,s.weak_password.reasons);throw new ih(Pt(s),t.status||500,n)}const Rh=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function G(t,e,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[or]||(i[or]=ea["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Ih(t,e,s+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Ih(t,e,s,n,r,i){const o=Rh(e,n,r,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new ar(Pt(l),0)}if(a.ok||await Ai(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Ai(l)}}function Xe(t){var e;let s=null;Mh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=mh(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Ci(t){const e=Xe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function pt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Lh(t){return{data:t,error:null}}function Dh(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,o=jh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Uh(t){return t}function Mh(t){return t.access_token&&t.refresh_token&&t.expires_in}const Fn=["global","local","others"];var Nh=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class Fh{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=na(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=Fn[0]){if(Fn.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fn.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:pt})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=Nh(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Dh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(K(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:pt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Uh});if(c.error)throw c.error;const d=await c.json(),_=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,w=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return w.length>0&&(w.forEach(A=>{const O=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(A.split(";")[1].split("=")[1]);u[`${y}Page`]=O}),u.total=parseInt(_)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ht(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:pt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Ht(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:pt})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){Ht(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:pt})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ht(e.userId);try{const{data:s,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(K(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Ht(e.userId),Ht(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}}const Bh={getItem:t=>xs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{xs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{xs()&&globalThis.localStorage.removeItem(t)}};function ji(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function qh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Jt={debug:!!(globalThis&&xs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ia extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Hh extends ia{}async function Jh(t,e,s){Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Jt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Hh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Jt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}qh();const Kh={url:eh,storageKey:th,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $i(t,e,s){return await s()}class $s{constructor(e){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$s.nextInstanceID,$s.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Kh),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Fh({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=na(r.fetch),this.lock=r.lock||$i,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Me()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Jh:this.lock=$i,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:xs()?this.storage=Bh:(this.memoryStorage={},this.storage=ji(this.memoryStorage)):(this.memoryStorage={},this.storage=ji(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=vh(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Me()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),lh(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return K(s)?{error:s}:{error:new ta("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Xe}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,n,r;try{let i;if("email"in e){const{email:c,password:d,options:_}=e;let w=null,A=null;this.flowType==="pkce"&&([w,A]=await qt(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:c,password:d,data:(s=_==null?void 0:_.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:w,code_challenge_method:A},xform:Xe})}else if("phone"in e){const{phone:c,password:d,options:_}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},channel:(r=_==null?void 0:_.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Xe})}else throw new Ws("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ci})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ci})}else throw new Ws("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ks}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,n,r,i,o,a,l,u,c,d,_,w;let A,O;if("message"in e)A=e.message,O=e.signature;else{const{chain:y,wallet:h,statement:S,options:b}=e;let x;if(Me())if(typeof h=="object")x=h;else{const m=window;if("solana"in m&&typeof m.solana=="object"&&("signIn"in m.solana&&typeof m.solana.signIn=="function"||"signMessage"in m.solana&&typeof m.solana.signMessage=="function"))x=m.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof h!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=h}const U=new URL((s=b==null?void 0:b.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in x&&x.signIn){const m=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),S?{statement:S}:null));let v;if(Array.isArray(m)&&m[0]&&typeof m[0]=="object")v=m[0];else if(m&&typeof m=="object"&&"signedMessage"in m&&"signature"in m)v=m;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in v&&"signature"in v&&(typeof v.signedMessage=="string"||v.signedMessage instanceof Uint8Array)&&v.signature instanceof Uint8Array)A=typeof v.signedMessage=="string"?v.signedMessage:new TextDecoder().decode(v.signedMessage),O=v.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${U.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(r=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(c=b==null?void 0:b.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(v=>`- ${v}`)]:[]].join(`
`);const m=await x.signMessage(new TextEncoder().encode(A),"utf8");if(!m||!(m instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=m}}try{const{data:y,error:h}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:gh(O)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Xe});if(h)throw h;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ks}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:h})}catch(y){if(K(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const s=await zs(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Xe});if(await Gs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ks}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(K(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=e,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Xe}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ks}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await qt(this.storage,this.storageKey));const{error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ws("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Xe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await qt(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Lh})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new ct;const{error:r}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(K(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await G(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:a}=await G(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ws("You must provide either an email or phone number and a type")}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await zs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Un:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:pt}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ct}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:pt})})}catch(s){if(K(s))return ah(s)&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new ct;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await qt(this.storage,this.storageKey));const{data:u,error:c}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:pt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ct;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:o}=Nn(e.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(K(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ct;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Me())throw new Vs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new xi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xi("No code detected.");const{data:S,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Vs("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let _=c+d;l&&(_=parseInt(l));const w=_-c;w*1e3<=Vt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${d}s`);const A=_-d;c-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,_,c):c-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,_,c);const{data:O,error:y}=await this._getUser(i);if(y)throw y;const h={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:_,refresh_token:o,token_type:u,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:h,redirectType:e.type},error:null}}catch(n){if(K(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await zs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(oh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=_h(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await qt(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:_}=i;if(_)throw _;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",w,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return Me()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(K(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await wh(async r=>(r>0&&await bh(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xe})),(r,i)=>{const o=200*Math.pow(2,r);return i&&Mn(i)&&Date.now()+o-n<Vt})}catch(n){if(this._debug(s,"error",n),K(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),Me()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await zs(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Un;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${Un}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Mn(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new wn;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),K(i)){const o={session:null,error:i};return Mn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ra(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Gs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/Vt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Vt}ms, refresh threshold is ${ir} ticks`),r<=ir&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ia)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await qt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Nn(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+rh>Date.now()))return n;const{data:r,error:i}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new ks("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),n=r.keys.find(o=>o.kid===e),!n)throw new ks("No matching signing key found in JWKS");return n}async getClaims(e,s={keys:[]}){try{let n=e;if(!n){const{data:w,error:A}=await this.getSession();if(A||!w.session)return{data:null,error:A};n=w.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=Nn(n);if(Ph(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:i,header:r,signature:o},error:null}}const u=Ah(r.alg),c=await this.fetchJwk(r.kid,s),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,ph(`${a}.${l}`)))throw new ks("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}$s.nextInstanceID=0;const Wh=$s;class Vh extends Wh{constructor(e){super(e)}}var zh=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Gh{constructor(e,s,n){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Xu(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Ju,realtime:Wu,auth:Object.assign(Object.assign({},Ku),{storageKey:u}),global:Hu},d=Zu(n??{},c);this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Yu(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new fu(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Zc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Fu(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return zh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vh({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Eu(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yh=(t,e,s)=>new Gh(t,e,s),Qh="https://kueodidcmdsxaoctjtug.supabase.co/",Xh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt1ZW9kaWRjbWRzeGFvY3RqdHVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk2NzE0NzYsImV4cCI6MjA2NTI0NzQ3Nn0.zuRgrGhf-PwpeX_1yJaUxXda4-uKw4Fk6gxrhcelpZI",jr=Yh(Qh,Xh),Zh="admin@monapp.local";async function ed(t){const{data:e,error:s}=await jr.auth.signInWithPassword({email:Zh,password:t});return s?(console.error("Erreur login:",s.message),!1):!0}const td={class:"final-scores"},sd={class:"final-player-name-above"},nd={key:0},rd={key:1},id={key:2},od={key:3},ad=["src"],ld={class:"final-player-info"},cd={class:"final-player-stats"},ud={class:"stat-badge"},hd={class:"stat-badge"},dd={class:"stat-badge"},fd={class:"stat-badge"},pd={class:"stat-badge"},gd={class:"stat-badge"},md={class:"stat-badge"},_d={class:"stat-badge"},vd={key:0,class:"stat-badge awsome-badge"},yd={key:1,class:"stat-badge awsome-badge"},bd={key:2,class:"stat-badge awsome-badge"},wd={key:3,class:"stat-badge awsome-badge"},Sd={key:4,class:"stat-badge awsome-badge"},kd={class:"final-player-score"},xd={key:0,class:"action-buttons"},Td={__name:"GameStats",props:["sortedPlayers","humanPlayersSorted","robotName","stats","role"],setup(t){const e=t;async function s(){const r=Date.now();console.log(e.sortedPlayers);const i=e.sortedPlayers.map(l=>({player_id:l.id,name:l.name,timestamp:r,score:l.totalScore,hits:l.scores})),{data:o,error:a}=await jr.from("scores").insert(i)}function n(){window.location.reload()}return e.role==="admin"&&s(),(r,i)=>(H(),z("div",null,[i[1]||(i[1]=g("h2",null,"Partie termine",-1)),g("ul",td,[(H(!0),z(_e,null,Ps(t.sortedPlayers,(o,a)=>{var l,u,c,d;return H(),z("li",{key:o.name,class:"final-score-item"},[g("div",sd,[o.name!==t.robotName?(H(),z(_e,{key:0},[((l=t.humanPlayersSorted[0])==null?void 0:l.name)===o.name?(H(),z("span",nd,"")):((u=t.humanPlayersSorted[1])==null?void 0:u.name)===o.name?(H(),z("span",rd,"")):((c=t.humanPlayersSorted[2])==null?void 0:c.name)===o.name?(H(),z("span",id,"")):((d=t.humanPlayersSorted[3])==null?void 0:d.name)===o.name?(H(),z("span",od,"")):he("",!0)],64)):he("",!0),ht(" "+E(o.name),1)]),g("img",{src:o.avatar,alt:"avatar",class:"final-avatar-large"},null,8,ad),g("div",ld,[g("div",cd,[g("span",ud,"Hits : "+E(t.stats(o).hits)+"/"+E(t.stats(o).total),1),g("span",hd,"Hits (F1) : "+E(t.stats(o).hitsF1)+"/"+E(t.stats(o).total/3),1),g("span",dd,"Hits (F2) : "+E(t.stats(o).hitsF2)+"/"+E(t.stats(o).total/3),1),g("span",fd,"Hits (F3) : "+E(t.stats(o).hitsF3)+"/"+E(t.stats(o).total/3),1),g("span",pd,"Miss : "+E(t.stats(o).miss),1),g("span",gd,"Single : "+E(t.stats(o).single),1),g("span",md,"Double : "+E(t.stats(o).double),1),g("span",_d,"Triple : "+E(t.stats(o).triple),1),t.stats(o).shangai>=1?(H(),z("span",vd,"Shangai : "+E(t.stats(o).shangai),1)):he("",!0),t.stats(o).ttt>=1?(H(),z("span",yd,"ttt : "+E(t.stats(o).ttt),1)):he("",!0),t.stats(o).ddd>=1?(H(),z("span",bd,"ddd : "+E(t.stats(o).ddd),1)):he("",!0),t.stats(o).tt>=1?(H(),z("span",wd,"tt : "+E(t.stats(o).tt),1)):he("",!0),t.stats(o).dd>=1?(H(),z("span",Sd,"dd : "+E(t.stats(o).dd),1)):he("",!0)])]),g("span",kd,E(o.totalScore)+" pts",1)])}),128))]),g("p",null,[g("button",{onClick:n},"Rejouer")]),t.role==="admin"?(H(),z("div",xd,[g("a",{href:"#",onClick:i[0]||(i[0]=js(o=>r.$emit("view-scores"),["prevent"])),class:"link-button"},"Voir le classement")])):he("",!0)]))}},Ed=Ls(Td,[["__scopeId","data-v-8d75ab9b"]]),Od={key:0,style:{"font-size":"0.8rem",color:"gray","text-align":"center","margin-bottom":"-10px"}},Pd={class:"container"},Ad={key:0},Cd={class:"round-circle"},jd={class:"avatar-lineup"},$d=["src","alt"],Rd={key:0,class:"buttons"},Id=["onClick"],Ld=["onClick"],Dd=["onClick"],Ud=["onClick"],Md={key:0},Nd={key:1},Fd=20,Oe="Number One",Bd="https://cdn-icons-png.flaticon.com/512/4712/4712027.png",qd={__name:"Game",props:{players:Array,role:String},setup(t){let e=0;function s(h){e=h.touches[0].clientY}function n(h){const S=h.touches[0].clientY;window.scrollY===0&&S>e&&h.preventDefault()}_n(()=>{window.addEventListener("touchstart",s,{passive:!1}),window.addEventListener("touchmove",n,{passive:!1})}),go(()=>{window.removeEventListener("touchstart",s),window.removeEventListener("touchmove",n)});const r=t,i=je(1),o=je(0),a=je([0,0,0]);let l=0;bs(()=>r.players.length,h=>{const S=r.players.findIndex(b=>b.name===Oe);h>1&&S===-1?r.players.push({id:0,name:Oe,avatar:Bd,scores:[],totalScore:0}):h<=1&&S!==-1&&(r.players.splice(S,1),o.value>=r.players.length&&(o.value=0))},{immediate:!0}),r.players.forEach(h=>{h.scores||(h.scores=[]),h.totalScore===void 0&&(h.totalScore=0)});function u(h){const S=h.scores.flat(),b=S.length,x=S.filter(M=>M===0).length,U=S.filter(M=>M!==0).length,m=h.scores.map(M=>M[0]).filter(M=>M!==0).length,v=h.scores.map(M=>M[1]).filter(M=>M!==0).length,J=h.scores.map(M=>M[2]).filter(M=>M!==0).length,Q=S.filter(M=>M===1).length,oe=S.filter(M=>M===2).length,fe=S.filter(M=>M===3).length,Be=h.scores.filter(M=>M.filter(V=>V===3).length===3).length,at=h.scores.filter(M=>M.filter(V=>V===3).length===2).length,Ye=h.scores.filter(M=>M.filter(V=>V===2).length===3).length,lt=h.scores.filter(M=>M.filter(V=>V===2).length===2).length,ae=h.scores.filter(M=>{const V=new Set(M);return V.has(1)&&V.has(2)&&V.has(3)}).length;return{total:b,hits:U,hitsF1:m,hitsF2:v,hitsF3:J,miss:x,single:Q,double:oe,triple:fe,shangai:ae,ttt:Be,ddd:Ye,tt:at,dd:lt}}function c(h,S){a.value[h]=S,navigator.vibrate&&navigator.vibrate(30)}const d=fs(()=>{const h=i.value;return a.value.reduce((S,b)=>S+b*h,0)});function _(){navigator.vibrate&&navigator.vibrate(30);const h=r.players[o.value];if(h.name===Oe){const S=r.players.filter(m=>m.name!==Oe).map(m=>m.scores[m.scores.length-1]),b=S.map(m=>m[0]+m[1]+m[2]),x=b.indexOf(Math.max(...b)),U=S[x];a.value=[...U]}h.scores.push([...a.value]),h.totalScore+=d.value,a.value=[0,0,0],o.value<r.players.length-1?o.value++:(o.value=0,i.value++),l=Math.max(...r.players.filter(S=>S.name!==Oe).map(S=>S.totalScore))}function w(){if(i.value===1&&o.value===0)return;let h=o.value,S=i.value;function b(J){const Q=r.players.length;for(let oe=1;oe<=Q;oe++){const fe=(J-oe+Q)%Q;if(r.players[fe].name!==Oe)return fe}return J}const x=r.players.findIndex(J=>J.name===Oe);let U=!1;if(h===0){if(S===1)return;S-=1,h=b(r.players.length),U=!0}else h=b(h);o.value=h,i.value=S;const m=r.players[h],v=m.scores.pop();if(v){const J=S,Q=v.reduce((oe,fe)=>oe+fe*J,0);m.totalScore-=Q}if(U&&x!==-1){const J=r.players[x];if(J.scores.length>0){const oe=J.scores[J.scores.length-1].reduce((fe,Be)=>fe+Be*S,0);J.totalScore-=oe,J.scores.pop()}}a.value=[0,0,0]}const A=fs(()=>i.value>Fd),O=fs(()=>[...r.players].sort((h,S)=>S.totalScore-h.totalScore));bs(o,async h=>{r.players[h].name===Oe&&!A.value&&(await io(),_())});const y=fs(()=>r.players.filter(h=>h.name!==Oe).sort((h,S)=>S.totalScore-h.totalScore));return(h,S)=>(H(),z("div",null,[t.role==="admin"?(H(),z("p",Od," Partie officielle et enregistre ")):he("",!0),g("div",Pd,[A.value?(H(),z("div",Nd,[ze(Ed,{sortedPlayers:O.value,humanPlayersSorted:y.value,robotName:Oe,stats:u,replay:h.replay,role:r.role,onViewScores:S[0]||(S[0]=b=>h.$emit("view-scores"))},null,8,["sortedPlayers","humanPlayersSorted","replay","role"])])):(H(),z("div",Ad,[g("h2",Cd,E(i.value),1),g("h1",null,E(r.players[o.value].name),1),S[1]||(S[1]=g("hr",null,null,-1)),g("div",jd,[(H(!0),z(_e,null,Ps(r.players,(b,x)=>(H(),z("div",{key:b.name,class:"avatar-wrapper"},[g("img",{src:b.avatar,alt:b.name,class:tt(["avatar",{current:x===o.value}])},null,10,$d),g("div",{class:tt(["score-badge",{"bestscore-badge":b.totalScore===Wn(l)&&b.name!==Oe&&Wn(l)!==0,"score-robot":b.name===Oe}])},E(b.totalScore),3)]))),128))]),S[2]||(S[2]=g("hr",null,null,-1)),(H(!0),z(_e,null,Ps(a.value,(b,x)=>(H(),z("div",{key:x,class:"dart-controls",style:{display:"flex","align-items":"center",gap:"6px"}},[r.players[o.value].name!==Oe?(H(),z("div",Rd,[g("button",{class:tt(["dart-button",{active:b===0}]),onClick:U=>c(x,0)},"Miss",10,Id),g("button",{class:tt(["dart-button",{active:b===1}]),onClick:U=>c(x,1)},"Single",10,Ld),g("button",{class:tt(["dart-button",{active:b===2}]),onClick:U=>c(x,2)},"Double",10,Dd),g("button",{class:tt(["dart-button",{active:b===3}]),onClick:U=>c(x,3)},"Triple",10,Ud)])):he("",!0)]))),128)),r.players[o.value].name!==Oe?(H(),z("p",Md,[g("button",{onClick:_,class:"validate"},"Valider ce tour (+"+E(d.value)+" pts)",1)])):he("",!0),g("p",null,[g("button",{onClick:w,class:"undo-button"},"")])]))])]))}},Hd=Ls(qd,[["__scopeId","data-v-6c0d4816"]]),Jd={class:"login-container"},Kd={class:"login-box"},Wd=["disabled"],Vd={key:0,class:"error"},zd={__name:"Login",emits:["login"],setup(t,{emit:e}){const s=e,n=je(""),r=je(null),i=je(!1);async function o(){r.value=null,i.value=!0;const l=await ed(n.value);i.value=!1,l?s("login",{name:"Admin",role:"admin"}):r.value="Mot de passe incorrect."}function a(){s("login",{name:"Visiteur",role:"visiteur"})}return(l,u)=>(H(),z("div",Jd,[g("div",Kd,[g("form",{onSubmit:js(o,["prevent"])},[uo(g("input",{"onUpdate:modelValue":u[0]||(u[0]=c=>n.value=c),type:"password",placeholder:"Mot de passe",autocomplete:"current-password"},null,512),[[Fo,n.value]]),g("button",{type:"submit",disabled:i.value},E(i.value?"Connexion...":"Se connecter"),9,Wd)],32),g("a",{onClick:js(a,["prevent"]),href:"#",class:"visitor-link"}," Continuer en tant que visiteur "),r.value?(H(),z("p",Vd,E(r.value),1)):he("",!0)])]))}},Gd=Ls(zd,[["__scopeId","data-v-64bd7d6e"]]),Yd="/shanghai/img/podium.webp";function Qd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xd(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zd(t,e){let s;if(e===void 0)for(const n of t)n!=null&&(s<n||s===void 0&&n>=n)&&(s=n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(s<r||s===void 0&&r>=r)&&(s=r)}return s}function ef(t,e){let s;if(e===void 0)for(const n of t)n!=null&&(s>n||s===void 0&&n>=n)&&(s=n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(s>r||s===void 0&&r>=r)&&(s=r)}return s}function tf(t,e){let s=0,n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(++s,n+=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(i=+i)>=i&&(++s,n+=i)}if(s)return n/s}function sf(t,e){let s=0;if(e===void 0)for(let n of t)(n=+n)&&(s+=n);else{let n=-1;for(let r of t)(r=+e(r,++n,t))&&(s+=r)}return s}const nf={class:"scores-page"},rf={key:0,class:"podium",style:{position:"relative",display:"inline-block"}},of={class:"podium-text text-1"},af={style:{"font-size":"0.5rem"}},lf={class:"podium-text text-2"},cf={style:{"font-size":"0.5rem"}},uf={class:"podium-text text-3"},hf={style:{"font-size":"0.5rem"}},df={class:"podium-text text-4"},ff={key:1,class:"players-list"},pf={class:"player-name"},gf={class:"score-table"},mf={class:"player-card"},_f={class:"player-name"},vf={class:"score-table"},yf={__name:"RecordedStats",setup(t){const e=Object.assign({},{min:ef,max:Zd,mean:tf,sum:sf,ascending:Qd,descending:Xd}),s=je([]),n=je([]);async function r(){const{data:O,error:y}=await jr.from("scores").select("*").order("score",{ascending:!1});if(y){console.error("Erreur de rcupration des scores :",y);return}if(!O.length)return;const h=A(O),S=["Number One","Felix","Dart Punk"];s.value=h.filter(b=>!S.includes(b.name)),n.value=h.find(b=>b.name==="Number One")}function i(){const O=new Date,y=O.getFullYear(),h=O.getMonth(),b=(h>=8?new Date(y,8,1):new Date(y-1,8,1)).getTime(),U=(h<=6?new Date(y,6,31):new Date(y+1,6,31)).getTime();return{septFirstLastYear:b,july31Next:U}}function o(O){switch(O){case 1:return"";case 2:return"";case 3:return"";case 4:return"";default:return""}}function a(O){O=O.flat();let y=0,h=0;for(let S=0;S<O.length;S++)O[S]!==0?(h++,h>y&&(y=h)):h=0;return y}function l(O){return O.filter(y=>{const h=[0,0,0,0];return y.forEach(S=>h[S]++),h[1]===1&&h[2]===1&&h[3]===1}).length}function u(O){return O.filter(y=>{const h=[0,0,0,0];return y.forEach(S=>h[S]++),h[3]===2}).length}function c(O){return O.filter(y=>{const h=[0,0,0,0];return y.forEach(S=>h[S]++),h[3]===3}).length}function d(O){return O.filter(y=>{const h=[0,0,0,0];return y.forEach(S=>h[S]++),h[2]===2}).length}function _(O){return O.filter(y=>{const h=[0,0,0,0];return y.forEach(S=>h[S]++),h[2]===3}).length}function w(O,y,h){let S=h.filter(x=>y.map(U=>U.timestamp).includes(x.timestamp)).map(x=>({timestamp:x.timestamp,name:x.name,score:x.score})),b=0;return y.map(x=>x.timestamp).forEach(x=>{S.filter(m=>m.timestamp==x).slice().sort((m,v)=>e.descending(m.score,v.score)).map(m=>m)[1].name==O&&b++}),b/y.length*100}function A(O,y=10){let h=[...new Set(O.map(m=>m.name))].map(m=>({name:m}));const S=i(),b=O.filter(m=>m.timestamp>=S.septFirstLastYear).filter(m=>m.timestamp<=S.july31Next),x=O.filter(m=>m.name=="Number One").length,U=b.filter(m=>m.name=="Number One").length;return h=h.map(m=>{const v=O.filter(T=>T.name==m.name),J=b.filter(T=>T.name==m.name),Q=v.slice().sort((T,ge)=>e.ascending(T.timestamp,ge.timestamp)).slice(-y),oe=m.name,fe=w(oe,v,O),Be=w(oe,J,O),at=w(oe,Q,O),Ye=v.length,lt=J.length,ae=Q.length,M=Math.round(1e3*v.length/x)/10,V=Math.round(1e3*J.length/U)/10,qe=e.mean(v.map(T=>T.score)),Rt=Math.round(qe),He=e.mean(J.map(T=>T.score)),$e=Math.round(He),ns=e.mean(Q.map(T=>T.score)),Sn=Math.round(ns),kn=Math.round(e.max(v.map(T=>T.score))),wt=Math.round(e.max(J.map(T=>T.score))),It=Math.round(e.max(Q.map(T=>T.score))),rs=Math.round(e.sum(v.map(T=>T.score))),Ms=Math.round(e.sum(J.map(T=>T.score))),St=Math.round(e.sum(Q.map(T=>T.score))),$r=Math.round(e.min(v.map(T=>T.score))),f=Math.round(e.min(J.map(T=>T.score))),p=Math.round(e.min(Q.map(T=>T.score))),k=e.max(v.map(T=>JSON.parse(T.hits)).map(T=>T.flat().filter(ge=>ge!=0).length)),j=e.max(J.map(T=>JSON.parse(T.hits)).map(T=>T.flat().filter(ge=>ge!=0).length)),P=e.max(Q.map(T=>JSON.parse(T.hits)).map(T=>T.flat().filter(ge=>ge!=0).length)),C=e.max(v.map(T=>JSON.parse(T.hits)).map(T=>e.sum(T.flat().filter(ge=>ge!=0)))),L=e.max(J.map(T=>JSON.parse(T.hits)).map(T=>e.sum(T.flat().filter(ge=>ge!=0)))),I=e.max(Q.map(T=>JSON.parse(T.hits)).map(T=>e.sum(T.flat().filter(ge=>ge!=0)))),R=e.max(v.map((T,ge)=>e.max(JSON.parse(T.hits).map((is,os)=>e.sum(is)*(os+1))))),$=e.max(J.map((T,ge)=>e.max(JSON.parse(T.hits).map((is,os)=>e.sum(is)*(os+1))))),F=e.max(Q.map((T,ge)=>e.max(JSON.parse(T.hits).map((is,os)=>e.sum(is)*(os+1))))),D=e.max(v.map(T=>JSON.parse(T.hits).flat()).map(T=>a(T))),N=e.max(J.map(T=>JSON.parse(T.hits).flat()).map(T=>a(T))),B=e.max(Q.map(T=>JSON.parse(T.hits).flat()).map(T=>a(T))),Y=Math.round(v.map(T=>JSON.parse(T.hits)).flat(2).filter(T=>T==3).length/Ye*10)/10,te=Math.round(J.map(T=>JSON.parse(T.hits)).flat(2).filter(T=>T==3).length/lt*10)/10,X=Math.round(Q.map(T=>JSON.parse(T.hits)).flat(2).filter(T=>T==3).length/ae*10)/10,ye=Math.round(v.map(T=>JSON.parse(T.hits)).flat(2).filter(T=>T==2).length/Ye*10)/10,pe=Math.round(J.map(T=>JSON.parse(T.hits)).flat(2).filter(T=>T==2).length/lt*10)/10,Re=Math.round(Q.map(T=>JSON.parse(T.hits)).flat(2).filter(T=>T==2).length/ae*10)/10,Ie=e.sum(v.map(T=>l(JSON.parse(T.hits)))),kt=e.sum(J.map(T=>l(JSON.parse(T.hits)))),Ns=e.sum(Q.map(T=>l(JSON.parse(T.hits)))),be=e.sum(v.map(T=>u(JSON.parse(T.hits)))),Le=e.sum(J.map(T=>u(JSON.parse(T.hits)))),Fs=e.sum(Q.map(T=>u(JSON.parse(T.hits)))),oa=e.sum(v.map(T=>c(JSON.parse(T.hits)))),aa=e.sum(J.map(T=>c(JSON.parse(T.hits)))),la=e.sum(Q.map(T=>c(JSON.parse(T.hits)))),ca=e.sum(v.map(T=>d(JSON.parse(T.hits)))),ua=e.sum(J.map(T=>d(JSON.parse(T.hits)))),ha=e.sum(Q.map(T=>d(JSON.parse(T.hits)))),da=e.sum(v.map(T=>_(JSON.parse(T.hits)))),fa=e.sum(J.map(T=>_(JSON.parse(T.hits)))),pa=e.sum(Q.map(T=>_(JSON.parse(T.hits))));return{...m,played_all:Ye,mean_all_raw:qe,mean_all:Rt,max_all:kn,min_all:$r,streak_all:D,assiduity_all:M,shanghai_all:Ie,played_year:lt,mean_year_raw:He,mean_year:$e,max_year:wt,min_year:f,streak_year:N,assiduity_year:V,shanghai_year:kt,played_last:ae,mean_last_raw:ns,mean_last:Sn,max_last:It,min_last:p,streak_last:B,shanghai_last:Ns,hits_all:k,hits_year:j,hits_last:P,hits2_all:C,hits2_year:L,hits2_last:I,hitbest_all:R,hitbest_year:$,hitbest_last:F,tt_all:be,tt_year:Le,tt_last:Fs,ttt_all:oa,ttt_year:aa,ttt_last:la,dd_all:ca,dd_year:ua,dd_last:ha,ddd_all:da,ddd_year:fa,ddd_last:pa,cumul_all:rs,cumul_year:Ms,cumul_last:St,triple_all:Y,triple_year:te,triple_last:X,double_all:ye,double_year:pe,double_last:Re,win_all:fe,win_year:Be,win_last:at}}),h=[...h].sort((m,v)=>v.max_all-m.max_all).map((m,v)=>({...m,medal_max_all:o(v)})),h=[...h].sort((m,v)=>v.max_year-m.max_year).map((m,v)=>({...m,medal_max_year:o(v)})),h=[...h].sort((m,v)=>v.max_last-m.max_last).map((m,v)=>({...m,medal_max_last:o(v)})),h=[...h].sort((m,v)=>v.cumul_all-m.cumul_all).map((m,v)=>({...m,medal_cumul_all:o(v)})),h=[...h].sort((m,v)=>v.cumul_year-m.cumul_year).map((m,v)=>({...m,medal_cumul_year:o(v)})),h=[...h].sort((m,v)=>v.cumul_last-m.cumul_last).map((m,v)=>({...m,medal_cumul_last:o(v)})),h=[...h].sort((m,v)=>v.streak_all-m.streak_all).map((m,v)=>({...m,medal_streak_all:o(v)})),h=[...h].sort((m,v)=>v.streak_year-m.streak_year).map((m,v)=>({...m,medal_streak_year:o(v)})),h=[...h].sort((m,v)=>v.streak_last-m.streak_last).map((m,v)=>({...m,medal_streak_last:o(v)})),h=[...h].sort((m,v)=>v.hits_all-m.hits_all).map((m,v)=>({...m,medal_hits_all:o(v)})),h=[...h].sort((m,v)=>v.hits_year-m.hits_year).map((m,v)=>({...m,medal_hits_year:o(v)})),h=[...h].sort((m,v)=>v.hits_last-m.hits_last).map((m,v)=>({...m,medal_hits_last:o(v)})),h=[...h].sort((m,v)=>v.hitbest_all-m.hitbest_all).map((m,v)=>({...m,medal_hitbest_all:o(v)})),h=[...h].sort((m,v)=>v.hitbest_year-m.hitbest_year).map((m,v)=>({...m,medal_hitbest_year:o(v)})),h=[...h].sort((m,v)=>v.hitbest_last-m.hitbest_last).map((m,v)=>({...m,medal_hitbest_last:o(v)})),h=[...h].sort((m,v)=>v.hits2_all-m.hits2_all).map((m,v)=>({...m,medal_hits2_all:o(v)})),h=[...h].sort((m,v)=>v.hits2_year-m.hits2_year).map((m,v)=>({...m,medal_hits2_year:o(v)})),h=[...h].sort((m,v)=>v.hits2_last-m.hits2_last).map((m,v)=>({...m,medal_hits2_last:o(v)})),h=[...h].sort((m,v)=>v.triple_all-m.triple_all).map((m,v)=>({...m,medal_triple_all:o(v)})),h=[...h].sort((m,v)=>v.triple_year-m.triple_year).map((m,v)=>({...m,medal_triple_year:o(v)})),h=[...h].sort((m,v)=>v.triple_last-m.triple_last).map((m,v)=>({...m,medal_triple_last:o(v)})),h=[...h].sort((m,v)=>v.double_all-m.double_all).map((m,v)=>({...m,medal_double_all:o(v)})),h=[...h].sort((m,v)=>v.double_year-m.double_year).map((m,v)=>({...m,medal_double_year:o(v)})),h=[...h].sort((m,v)=>v.double_last-m.double_last).map((m,v)=>({...m,medal_double_last:o(v)})),h=[...h].sort((m,v)=>v.mean_all_raw-m.mean_all_raw).map((m,v)=>({...m,medal_mean_all:o(v)})),h=[...h].sort((m,v)=>v.mean_year_raw-m.mean_year_raw).map((m,v)=>({...m,medal_mean_year:o(v)})),h=[...h].sort((m,v)=>v.mean_last_raw-m.mean_last_raw).map((m,v)=>({...m,medal_mean_last:o(v)})),h}return _n(()=>{r()}),(O,y)=>(H(),z("div",nf,[s.value.length>=3?(H(),z("div",rf,[y[1]||(y[1]=g("img",{src:Yd,alt:"Podium",class:"podium-image"},null,-1)),g("div",of,[ht(E(s.value[0].name),1),g("span",af," ("+E(s.value[0].mean_last)+")",1)]),g("div",lf,[ht(E(s.value[1].name),1),g("span",cf," ("+E(s.value[1].mean_last)+")",1)]),g("div",uf,[ht(E(s.value[2].name),1),g("span",hf," ("+E(s.value[2].mean_last)+")",1)]),g("div",df,"Chocolat : "+E(s.value[3].name)+" ("+E(s.value[3].mean_last)+")",1)])):he("",!0),s.value.length?(H(),z("div",ff,[(H(!0),z(_e,null,Ps(s.value,(h,S)=>(H(),z("div",{key:S,class:"player-card"},[g("h2",pf,[ht(E(h.medal_mean_last)+" "+E(h.name)+" - ",1),g("small",null,E(h.mean_last)+" pts",1)]),g("table",gf,[y[20]||(y[20]=g("thead",null,[g("tr",null,[g("th"),g("th",null,"Sur 10 parties"),g("th",null,"Sur l'anne"),g("th",null,"Hall of Fame")])],-1)),g("tbody",null,[g("tr",null,[y[2]||(y[2]=g("th",null,"Parties",-1)),g("td",null,E(h.played_last),1),g("td",null,E(h.played_year),1),g("td",null,E(h.played_all),1)]),g("tr",null,[y[3]||(y[3]=g("th",null,"Win",-1)),g("td",null,E(Math.round(h.win_last*10)/10)+" %",1),g("td",null,E(Math.round(h.win_year*10)/10)+" %",1),g("td",null,E(Math.round(h.win_all*10)/10)+" %",1)]),g("tr",null,[y[4]||(y[4]=g("th",null,"Assiduit",-1)),y[5]||(y[5]=g("td",null,"-",-1)),g("td",null,E(h.assiduity_year)+" %",1),g("td",null,E(h.assiduity_all)+" %",1)]),g("tr",null,[y[6]||(y[6]=g("th",null,"Moyenne",-1)),g("td",null,E(h.mean_last)+" "+E(h.medal_mean_last),1),g("td",null,E(h.mean_year)+" "+E(h.medal_mean_year),1),g("td",null,E(h.mean_all)+" "+E(h.medal_mean_all),1)]),g("tr",null,[y[7]||(y[7]=g("th",null,"Cumul",-1)),g("td",null,E(Math.round(h.cumul_last/100)/10+"K")+" "+E(h.medal_cumul_last),1),g("td",null,E(Math.round(h.cumul_year/100)/10+"K")+" "+E(h.medal_cumul_year),1),g("td",null,E(Math.round(h.cumul_all/100)/10+"K")+" "+E(h.medal_cumul_all),1)]),g("tr",null,[y[8]||(y[8]=g("th",null,"Meilleur",-1)),g("td",null,E(h.max_last)+" "+E(h.medal_max_last),1),g("td",null,E(h.max_year)+" "+E(h.medal_max_year),1),g("td",null,E(h.max_all)+" "+E(h.medal_max_all),1)]),g("tr",null,[y[9]||(y[9]=g("th",null,"Streak",-1)),g("td",null,E(h.streak_last)+" "+E(h.medal_streak_last),1),g("td",null,E(h.streak_year)+" "+E(h.medal_streak_year),1),g("td",null,E(h.streak_all)+" "+E(h.medal_streak_all),1)]),g("tr",null,[y[10]||(y[10]=g("th",null,[ht("Hits "),g("small",null,"(60)")],-1)),g("td",null,E(h.hits_last)+" "+E(h.medal_hits_last),1),g("td",null,E(h.hits_year)+" "+E(h.medal_hits_year),1),g("td",null,E(h.hits_all)+" "+E(h.medal_hits_all),1)]),g("tr",null,[y[11]||(y[11]=g("th",null,[ht("Hits "),g("small",null,"(180)")],-1)),g("td",null,E(h.hits2_last)+" "+E(h.medal_hits2_last),1),g("td",null,E(h.hits2_year)+" "+E(h.medal_hits2_year),1),g("td",null,E(h.hits2_all)+" "+E(h.medal_hits2_all),1)]),g("tr",null,[y[12]||(y[12]=g("th",null,"Meilleur coup",-1)),g("td",null,E(h.hitbest_last)+" "+E(h.medal_hitbest_last),1),g("td",null,E(h.hitbest_year)+" "+E(h.medal_hitbest_last),1),g("td",null,E(h.hitbest_all)+" "+E(h.medal_hitbest_last),1)]),g("tr",null,[y[13]||(y[13]=g("th",null,"Triples",-1)),g("td",null,E(h.triple_last)+" % "+E(h.medal_triple_last),1),g("td",null,E(h.triple_year)+" % "+E(h.medal_triple_year),1),g("td",null,E(h.triple_all)+" % "+E(h.medal_triple_all),1)]),g("tr",null,[y[14]||(y[14]=g("th",null,"Doubles",-1)),g("td",null,E(h.double_last)+" % "+E(h.medal_double_last),1),g("td",null,E(h.double_year)+" % "+E(h.medal_double_year),1),g("td",null,E(h.double_all)+" % "+E(h.medal_double_all),1)]),g("tr",null,[y[15]||(y[15]=g("th",null,"Shanghai",-1)),g("td",null,E(h.shanghai_last),1),g("td",null,E(h.shanghai_year),1),g("td",null,E(h.shanghai_all),1)]),g("tr",null,[y[16]||(y[16]=g("th",null,"ttt",-1)),g("td",null,E(h.ttt_last),1),g("td",null,E(h.ttt_year),1),g("td",null,E(h.ttt_all),1)]),g("tr",null,[y[17]||(y[17]=g("th",null,"tt",-1)),g("td",null,E(h.tt_last),1),g("td",null,E(h.tt_year),1),g("td",null,E(h.tt_all),1)]),g("tr",null,[y[18]||(y[18]=g("th",null,"ddd",-1)),g("td",null,E(h.ddd_last),1),g("td",null,E(h.ddd_year),1),g("td",null,E(h.ddd_all),1)]),g("tr",null,[y[19]||(y[19]=g("th",null,"dd",-1)),g("td",null,E(h.dd_last),1),g("td",null,E(h.dd_year),1),g("td",null,E(h.dd_all),1)])])])]))),128)),g("div",mf,[g("h2",_f,E(n.value.name),1),g("table",vf,[y[24]||(y[24]=g("thead",null,[g("tr",null,[g("th"),g("th",null,"Sur 10 parties"),g("th",null,"Sur l'anne"),g("th",null,"Hall of Fame")])],-1)),g("tbody",null,[g("tr",null,[y[21]||(y[21]=g("th",null,"Parties",-1)),g("td",null,E(n.value.played_last),1),g("td",null,E(n.value.played_year),1),g("td",null,E(n.value.played_last),1)]),g("tr",null,[y[22]||(y[22]=g("th",null,"Moyenne",-1)),g("td",null,E(n.value.mean_last),1),g("td",null,E(n.value.mean_year),1),g("td",null,E(n.value.mean_all),1)]),g("tr",null,[y[23]||(y[23]=g("th",null,"Meilleur",-1)),g("td",null,E(n.value.max_last),1),g("td",null,E(n.value.max_year),1),g("td",null,E(n.value.max_all),1)])])])])])):he("",!0),g("button",{onClick:y[0]||(y[0]=h=>O.$emit("back")),class:"back-button"},"Retour")]))}},bf=Ls(yf,[["__scopeId","data-v-2f5c48ff"]]),wf={__name:"App",setup(t){const e=[{id:1,name:"Matt"},{id:2,name:"Darts Vador",avatar:"/shanghai/img/dartsvador.png"},{id:3,name:"Dart Simpson",avatar:"/shanghai/img/dartsimpson.png"},{id:4,name:"Robull",avatar:"/shanghai/img/ro.jpg"},{id:5,name:"Louis CLXXX",avatar:"/shanghai/img/crown.jpeg"},{id:6,name:"Angelo",avatar:"/shanghai/img/pp_angelo.png"},{id:7,name:"Cramomille",avatar:"/shanghai/img/cramomille.png"}],s=je(null),n=je([]),r=je("login");function i(u){s.value=u,r.value="selection"}function o(u){n.value=u,r.value="game"}function a(){r.value="scores"}function l(){r.value="selection"}return(u,c)=>(H(),z("div",null,[r.value==="login"?(H(),ds(Gd,{key:0,onLogin:i})):r.value==="selection"?(H(),ds(Kc,{key:1,predefinedPlayers:e,role:s.value.role,onStartGame:o,onViewScores:a},null,8,["role"])):r.value==="game"?(H(),ds(Hd,{key:2,players:n.value,role:s.value.role,onViewScores:a},null,8,["players","role"])):r.value==="scores"?(H(),ds(bf,{key:3,onBack:l,onViewScores:a})):he("",!0)]))}};Cc(wf).mount("#app");
