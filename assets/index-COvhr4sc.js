var Ea=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Qf=Ea((np,Vs)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function yn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const pe={},ts=[],ct=()=>{},Oa=()=>!1,_r=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),bn=t=>t.startsWith("onUpdate:"),He=Object.assign,wn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Pa=Object.prototype.hasOwnProperty,he=(t,e)=>Pa.call(t,e),z=Array.isArray,ss=t=>vr(t)==="[object Map]",Ji=t=>vr(t)==="[object Set]",ee=t=>typeof t=="function",we=t=>typeof t=="string",jt=t=>typeof t=="symbol",ve=t=>t!==null&&typeof t=="object",Ki=t=>(ve(t)||ee(t))&&ee(t.then)&&ee(t.catch),zi=Object.prototype.toString,vr=t=>zi.call(t),Ca=t=>vr(t).slice(8,-1),Gi=t=>vr(t)==="[object Object]",Sn=t=>we(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bs=yn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Aa=/-(\w)/g,Pt=yr(t=>t.replace(Aa,(e,s)=>s?s.toUpperCase():"")),ja=/\B([A-Z])/g,Ft=yr(t=>t.replace(ja,"-$1").toLowerCase()),Yi=yr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Cr=yr(t=>t?`on${Yi(t)}`:""),Ot=(t,e)=>!Object.is(t,e),sr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Qi=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Xr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Hn;const br=()=>Hn||(Hn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kn(t){if(z(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=we(r)?Ma(r):kn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(we(t)||ve(t))return t}const $a=/;(?![^(]*\))/g,Ra=/:([^]+)/,Ia=/\/\*[^]*?\*\//g;function Ma(t){const e={};return t.replace(Ia,"").split($a).forEach(s=>{if(s){const r=s.split(Ra);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function at(t){let e="";if(we(t))e=t;else if(z(t))for(let s=0;s<t.length;s++){const r=at(t[s]);r&&(e+=r+" ")}else if(ve(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const La="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Da=yn(La);function Xi(t){return!!t||t===""}const Zi=t=>!!(t&&t.__v_isRef===!0),x=t=>we(t)?t:t==null?"":z(t)||ve(t)&&(t.toString===zi||!ee(t.toString))?Zi(t)?x(t.value):JSON.stringify(t,eo,2):String(t),eo=(t,e)=>Zi(e)?eo(t,e.value):ss(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Ar(r,i)+" =>"]=n,s),{})}:Ji(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Ar(s))}:jt(e)?Ar(e):ve(e)&&!z(e)&&!Gi(e)?String(e):e,Ar=(t,e="")=>{var s;return jt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Je;class Ua{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Je,!e&&Je&&(this.index=(Je.scopes||(Je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Je;try{return Je=this,e()}finally{Je=s}}}on(){++this._on===1&&(this.prevScope=Je,Je=this)}off(){this._on>0&&--this._on===0&&(Je=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Na(){return Je}let _e;const jr=new WeakSet;class to{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Je&&Je.active&&Je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,jr.has(this)&&(jr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ro(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Vn(this),no(this);const e=_e,s=nt;_e=this,nt=!0;try{return this.fn()}finally{io(this),_e=e,nt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)En(e);this.deps=this.depsTail=void 0,Vn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?jr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zr(this)&&this.run()}get dirty(){return Zr(this)}}let so=0,ws,Ss;function ro(t,e=!1){if(t.flags|=8,e){t.next=Ss,Ss=t;return}t.next=ws,ws=t}function xn(){so++}function Tn(){if(--so>0)return;if(Ss){let e=Ss;for(Ss=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;ws;){let e=ws;for(ws=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function no(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function io(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),En(r),Fa(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Zr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(oo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function oo(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===As)||(t.globalVersion=As,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Zr(t))))return;t.flags|=2;const e=t.dep,s=_e,r=nt;_e=t,nt=!0;try{no(t);const n=t.fn(t._value);(e.version===0||Ot(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{_e=s,nt=r,io(t),t.flags&=-3}}function En(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)En(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Fa(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let nt=!0;const ao=[];function yt(){ao.push(nt),nt=!1}function bt(){const t=ao.pop();nt=t===void 0?!0:t}function Vn(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=_e;_e=void 0;try{e()}finally{_e=s}}}let As=0;class Ba{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class On{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!_e||!nt||_e===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==_e)s=this.activeLink=new Ba(_e,this),_e.deps?(s.prevDep=_e.depsTail,_e.depsTail.nextDep=s,_e.depsTail=s):_e.deps=_e.depsTail=s,lo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=_e.depsTail,s.nextDep=void 0,_e.depsTail.nextDep=s,_e.depsTail=s,_e.deps===s&&(_e.deps=r)}return s}trigger(e){this.version++,As++,this.notify(e)}notify(e){xn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Tn()}}}function lo(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)lo(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const en=new WeakMap,Nt=Symbol(""),tn=Symbol(""),js=Symbol("");function Ie(t,e,s){if(nt&&_e){let r=en.get(t);r||en.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new On),n.map=r,n.key=s),n.track()}}function _t(t,e,s,r,n,i){const o=en.get(t);if(!o){As++;return}const a=l=>{l&&l.trigger()};if(xn(),e==="clear")o.forEach(a);else{const l=z(t),c=l&&Sn(s);if(l&&s==="length"){const u=Number(r);o.forEach((h,y)=>{(y==="length"||y===js||!jt(y)&&y>=u)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(js)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Nt)),ss(t)&&a(o.get(tn)));break;case"delete":l||(a(o.get(Nt)),ss(t)&&a(o.get(tn)));break;case"set":ss(t)&&a(o.get(Nt));break}}Tn()}function qt(t){const e=ue(t);return e===t?e:(Ie(e,"iterate",js),et(t)?e:e.map(Ae))}function wr(t){return Ie(t=ue(t),"iterate",js),t}const qa={__proto__:null,[Symbol.iterator](){return $r(this,Symbol.iterator,Ae)},concat(...t){return qt(this).concat(...t.map(e=>z(e)?qt(e):e))},entries(){return $r(this,"entries",t=>(t[1]=Ae(t[1]),t))},every(t,e){return ft(this,"every",t,e,void 0,arguments)},filter(t,e){return ft(this,"filter",t,e,s=>s.map(Ae),arguments)},find(t,e){return ft(this,"find",t,e,Ae,arguments)},findIndex(t,e){return ft(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ft(this,"findLast",t,e,Ae,arguments)},findLastIndex(t,e){return ft(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ft(this,"forEach",t,e,void 0,arguments)},includes(...t){return Rr(this,"includes",t)},indexOf(...t){return Rr(this,"indexOf",t)},join(t){return qt(this).join(t)},lastIndexOf(...t){return Rr(this,"lastIndexOf",t)},map(t,e){return ft(this,"map",t,e,void 0,arguments)},pop(){return ds(this,"pop")},push(...t){return ds(this,"push",t)},reduce(t,...e){return Wn(this,"reduce",t,e)},reduceRight(t,...e){return Wn(this,"reduceRight",t,e)},shift(){return ds(this,"shift")},some(t,e){return ft(this,"some",t,e,void 0,arguments)},splice(...t){return ds(this,"splice",t)},toReversed(){return qt(this).toReversed()},toSorted(t){return qt(this).toSorted(t)},toSpliced(...t){return qt(this).toSpliced(...t)},unshift(...t){return ds(this,"unshift",t)},values(){return $r(this,"values",Ae)}};function $r(t,e,s){const r=wr(t),n=r[e]();return r!==t&&!et(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Ha=Array.prototype;function ft(t,e,s,r,n,i){const o=wr(t),a=o!==t&&!et(t),l=o[e];if(l!==Ha[e]){const h=l.apply(t,i);return a?Ae(h):h}let c=s;o!==t&&(a?c=function(h,y){return s.call(this,Ae(h),y,t)}:s.length>2&&(c=function(h,y){return s.call(this,h,y,t)}));const u=l.call(o,c,r);return a&&n?n(u):u}function Wn(t,e,s,r){const n=wr(t);let i=s;return n!==t&&(et(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Ae(a),l,t)}),n[e](i,...r)}function Rr(t,e,s){const r=ue(t);Ie(r,"iterate",js);const n=r[e](...s);return(n===-1||n===!1)&&jn(s[0])?(s[0]=ue(s[0]),r[e](...s)):n}function ds(t,e,s=[]){yt(),xn();const r=ue(t)[e].apply(t,s);return Tn(),bt(),r}const Va=yn("__proto__,__v_isRef,__isVue"),co=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(jt));function Wa(t){jt(t)||(t=String(t));const e=ue(this);return Ie(e,"has",t),e.hasOwnProperty(t)}class uo{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?tl:go:i?po:fo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=z(e);if(!n){let l;if(o&&(l=qa[s]))return l;if(s==="hasOwnProperty")return Wa}const a=Reflect.get(e,s,Le(e)?e:r);return(jt(s)?co.has(s):Va(s))||(n||Ie(e,"get",s),i)?a:Le(a)?o&&Sn(s)?a:a.value:ve(a)?n?mo(a):Cn(a):a}}class ho extends uo{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Ct(i);if(!et(r)&&!Ct(r)&&(i=ue(i),r=ue(r)),!z(e)&&Le(i)&&!Le(r))return l?!1:(i.value=r,!0)}const o=z(e)&&Sn(s)?Number(s)<e.length:he(e,s),a=Reflect.set(e,s,r,Le(e)?e:n);return e===ue(n)&&(o?Ot(r,i)&&_t(e,"set",s,r):_t(e,"add",s,r)),a}deleteProperty(e,s){const r=he(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&_t(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!jt(s)||!co.has(s))&&Ie(e,"has",s),r}ownKeys(e){return Ie(e,"iterate",z(e)?"length":Nt),Reflect.ownKeys(e)}}class Ja extends uo{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Ka=new ho,za=new Ja,Ga=new ho(!0),sn=t=>t,Ks=t=>Reflect.getPrototypeOf(t);function Ya(t,e,s){return function(...r){const n=this.__v_raw,i=ue(n),o=ss(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...r),u=s?sn:e?lr:Ae;return!e&&Ie(i,"iterate",l?tn:Nt),{next(){const{value:h,done:y}=c.next();return y?{value:h,done:y}:{value:a?[u(h[0]),u(h[1])]:u(h),done:y}},[Symbol.iterator](){return this}}}}function zs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Qa(t,e){const s={get(n){const i=this.__v_raw,o=ue(i),a=ue(n);t||(Ot(n,a)&&Ie(o,"get",n),Ie(o,"get",a));const{has:l}=Ks(o),c=e?sn:t?lr:Ae;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&Ie(ue(n),"iterate",Nt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=ue(i),a=ue(n);return t||(Ot(n,a)&&Ie(o,"has",n),Ie(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=ue(a),c=e?sn:t?lr:Ae;return!t&&Ie(l,"iterate",Nt),a.forEach((u,h)=>n.call(i,c(u),c(h),o))}};return He(s,t?{add:zs("add"),set:zs("set"),delete:zs("delete"),clear:zs("clear")}:{add(n){!e&&!et(n)&&!Ct(n)&&(n=ue(n));const i=ue(this);return Ks(i).has.call(i,n)||(i.add(n),_t(i,"add",n,n)),this},set(n,i){!e&&!et(i)&&!Ct(i)&&(i=ue(i));const o=ue(this),{has:a,get:l}=Ks(o);let c=a.call(o,n);c||(n=ue(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?Ot(i,u)&&_t(o,"set",n,i):_t(o,"add",n,i),this},delete(n){const i=ue(this),{has:o,get:a}=Ks(i);let l=o.call(i,n);l||(n=ue(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&_t(i,"delete",n,void 0),c},clear(){const n=ue(this),i=n.size!==0,o=n.clear();return i&&_t(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Ya(n,t,e)}),s}function Pn(t,e){const s=Qa(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(he(s,n)&&n in r?s:r,n,i)}const Xa={get:Pn(!1,!1)},Za={get:Pn(!1,!0)},el={get:Pn(!0,!1)},fo=new WeakMap,po=new WeakMap,go=new WeakMap,tl=new WeakMap;function sl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rl(t){return t.__v_skip||!Object.isExtensible(t)?0:sl(Ca(t))}function Cn(t){return Ct(t)?t:An(t,!1,Ka,Xa,fo)}function nl(t){return An(t,!1,Ga,Za,po)}function mo(t){return An(t,!0,za,el,go)}function An(t,e,s,r,n){if(!ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=rl(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function rs(t){return Ct(t)?rs(t.__v_raw):!!(t&&t.__v_isReactive)}function Ct(t){return!!(t&&t.__v_isReadonly)}function et(t){return!!(t&&t.__v_isShallow)}function jn(t){return t?!!t.__v_raw:!1}function ue(t){const e=t&&t.__v_raw;return e?ue(e):t}function il(t){return!he(t,"__v_skip")&&Object.isExtensible(t)&&Qi(t,"__v_skip",!0),t}const Ae=t=>ve(t)?Cn(t):t,lr=t=>ve(t)?mo(t):t;function Le(t){return t?t.__v_isRef===!0:!1}function Ke(t){return ol(t,!1)}function ol(t,e){return Le(t)?t:new al(t,e)}class al{constructor(e,s){this.dep=new On,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:ue(e),this._value=s?e:Ae(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||et(e)||Ct(e);e=r?e:ue(e),Ot(e,s)&&(this._rawValue=e,this._value=r?e:Ae(e),this.dep.trigger())}}function $s(t){return Le(t)?t.value:t}const ll={get:(t,e,s)=>e==="__v_raw"?t:$s(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return Le(n)&&!Le(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function _o(t){return rs(t)?t:new Proxy(t,ll)}class cl{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new On(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=As-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&_e!==this)return ro(this,!0),!0}get value(){const e=this.dep.track();return oo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ul(t,e,s=!1){let r,n;return ee(t)?r=t:(r=t.get,n=t.set),new cl(r,n,s)}const Gs={},cr=new WeakMap;let Lt;function hl(t,e=!1,s=Lt){if(s){let r=cr.get(s);r||cr.set(s,r=[]),r.push(t)}}function dl(t,e,s=pe){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,c=v=>n?v:et(v)||n===!1||n===0?vt(v,1):vt(v);let u,h,y,b,f=!1,p=!1;if(Le(t)?(h=()=>t.value,f=et(t)):rs(t)?(h=()=>c(t),f=!0):z(t)?(p=!0,f=t.some(v=>rs(v)||et(v)),h=()=>t.map(v=>{if(Le(v))return v.value;if(rs(v))return c(v);if(ee(v))return l?l(v,2):v()})):ee(t)?e?h=l?()=>l(t,2):t:h=()=>{if(y){yt();try{y()}finally{bt()}}const v=Lt;Lt=u;try{return l?l(t,3,[b]):t(b)}finally{Lt=v}}:h=ct,e&&n){const v=h,j=n===!0?1/0:n;h=()=>vt(v(),j)}const E=Na(),D=()=>{u.stop(),E&&E.active&&wn(E.effects,u)};if(i&&e){const v=e;e=(...j)=>{v(...j),D()}}let L=p?new Array(t.length).fill(Gs):Gs;const T=v=>{if(!(!(u.flags&1)||!u.dirty&&!v))if(e){const j=u.run();if(n||f||(p?j.some((F,W)=>Ot(F,L[W])):Ot(j,L))){y&&y();const F=Lt;Lt=u;try{const W=[j,L===Gs?void 0:p&&L[0]===Gs?[]:L,b];L=j,l?l(e,3,W):e(...W)}finally{Lt=F}}}else u.run()};return a&&a(T),u=new to(h),u.scheduler=o?()=>o(T,!1):T,b=v=>hl(v,!1,u),y=u.onStop=()=>{const v=cr.get(u);if(v){if(l)l(v,4);else for(const j of v)j();cr.delete(u)}},e?r?T(!0):L=u.run():o?o(T.bind(null,!0),!0):u.run(),D.pause=u.pause.bind(u),D.resume=u.resume.bind(u),D.stop=D,D}function vt(t,e=1/0,s){if(e<=0||!ve(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Le(t))vt(t.value,e,s);else if(z(t))for(let r=0;r<t.length;r++)vt(t[r],e,s);else if(Ji(t)||ss(t))t.forEach(r=>{vt(r,e,s)});else if(Gi(t)){for(const r in t)vt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&vt(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ns(t,e,s,r){try{return r?t(...r):t()}catch(n){Sr(n,e,s)}}function ht(t,e,s,r){if(ee(t)){const n=Ns(t,e,s,r);return n&&Ki(n)&&n.catch(i=>{Sr(i,e,s)}),n}if(z(t)){const n=[];for(let i=0;i<t.length;i++)n.push(ht(t[i],e,s,r));return n}}function Sr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||pe;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(i){yt(),Ns(i,null,10,[t,l,c]),bt();return}}fl(t,s,n,r,o)}function fl(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Be=[];let ot=-1;const ns=[];let kt=null,Xt=0;const vo=Promise.resolve();let ur=null;function yo(t){const e=ur||vo;return t?e.then(this?t.bind(this):t):e}function pl(t){let e=ot+1,s=Be.length;for(;e<s;){const r=e+s>>>1,n=Be[r],i=Rs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function $n(t){if(!(t.flags&1)){const e=Rs(t),s=Be[Be.length-1];!s||!(t.flags&2)&&e>=Rs(s)?Be.push(t):Be.splice(pl(e),0,t),t.flags|=1,bo()}}function bo(){ur||(ur=vo.then(So))}function gl(t){z(t)?ns.push(...t):kt&&t.id===-1?kt.splice(Xt+1,0,t):t.flags&1||(ns.push(t),t.flags|=1),bo()}function Jn(t,e,s=ot+1){for(;s<Be.length;s++){const r=Be[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Be.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function wo(t){if(ns.length){const e=[...new Set(ns)].sort((s,r)=>Rs(s)-Rs(r));if(ns.length=0,kt){kt.push(...e);return}for(kt=e,Xt=0;Xt<kt.length;Xt++){const s=kt[Xt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}kt=null,Xt=0}}const Rs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function So(t){try{for(ot=0;ot<Be.length;ot++){const e=Be[ot];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ns(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ot<Be.length;ot++){const e=Be[ot];e&&(e.flags&=-2)}ot=-1,Be.length=0,wo(),ur=null,(Be.length||ns.length)&&So()}}let Ze=null,ko=null;function hr(t){const e=Ze;return Ze=t,ko=t&&t.type.__scopeId||null,e}function ml(t,e=Ze,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&ti(-1);const i=hr(e);let o;try{o=t(...n)}finally{hr(i),r._d&&ti(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function xo(t,e){if(Ze===null)return t;const s=Or(Ze),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=pe]=e[n];i&&(ee(i)&&(i={mounted:i,updated:i}),i.deep&&vt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Rt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(yt(),ht(l,s,8,[t.el,a,t,e]),bt())}}const _l=Symbol("_vte"),vl=t=>t.__isTeleport;function Rn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Rn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function To(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function dr(t,e,s,r,n=!1){if(z(t)){t.forEach((f,p)=>dr(f,e&&(z(e)?e[p]:e),s,r,n));return}if(ks(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&dr(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Or(r.component):r.el,o=n?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===pe?a.refs={}:a.refs,h=a.setupState,y=ue(h),b=h===pe?()=>!1:f=>he(y,f);if(c!=null&&c!==l&&(we(c)?(u[c]=null,b(c)&&(h[c]=null)):Le(c)&&(c.value=null)),ee(l))Ns(l,a,12,[o,u]);else{const f=we(l),p=Le(l);if(f||p){const E=()=>{if(t.f){const D=f?b(l)?h[l]:u[l]:l.value;n?z(D)&&wn(D,i):z(D)?D.includes(i)||D.push(i):f?(u[l]=[i],b(l)&&(h[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,b(l)&&(h[l]=o)):p&&(l.value=o,t.k&&(u[t.k]=o))};o?(E.id=-1,Ye(E,s)):E()}}}br().requestIdleCallback;br().cancelIdleCallback;const ks=t=>!!t.type.__asyncLoader,Eo=t=>t.type.__isKeepAlive;function yl(t,e){Oo(t,"a",e)}function bl(t,e){Oo(t,"da",e)}function Oo(t,e,s=qe){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(kr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Eo(n.parent.vnode)&&wl(r,e,s,n),n=n.parent}}function wl(t,e,s,r){const n=kr(e,t,r,!0);Co(()=>{wn(r[e],n)},s)}function kr(t,e,s=qe,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{yt();const a=Fs(s),l=ht(e,s,t,o);return a(),bt(),l});return r?n.unshift(i):n.push(i),i}}const wt=t=>(e,s=qe)=>{(!Ls||t==="sp")&&kr(t,(...r)=>e(...r),s)},Sl=wt("bm"),xr=wt("m"),kl=wt("bu"),xl=wt("u"),Po=wt("bum"),Co=wt("um"),Tl=wt("sp"),El=wt("rtg"),Ol=wt("rtc");function Pl(t,e=qe){kr("ec",t,e)}const Cl=Symbol.for("v-ndc");function Is(t,e,s,r){let n;const i=s,o=z(t);if(o||we(t)){const a=o&&rs(t);let l=!1,c=!1;a&&(l=!et(t),c=Ct(t),t=wr(t)),n=new Array(t.length);for(let u=0,h=t.length;u<h;u++)n[u]=e(l?c?lr(Ae(t[u])):Ae(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ve(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(t[u],u,l,i)}}else n=[];return n}const rn=t=>t?Yo(t)?Or(t):rn(t.parent):null,xs=He(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>rn(t.parent),$root:t=>rn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>jo(t),$forceUpdate:t=>t.f||(t.f=()=>{$n(t.update)}),$nextTick:t=>t.n||(t.n=yo.bind(t.proxy)),$watch:t=>Ql.bind(t)}),Ir=(t,e)=>t!==pe&&!t.__isScriptSetup&&he(t,e),Al={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const b=o[e];if(b!==void 0)switch(b){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(Ir(r,e))return o[e]=1,r[e];if(n!==pe&&he(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&he(c,e))return o[e]=3,i[e];if(s!==pe&&he(s,e))return o[e]=4,s[e];nn&&(o[e]=0)}}const u=xs[e];let h,y;if(u)return e==="$attrs"&&Ie(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==pe&&he(s,e))return o[e]=4,s[e];if(y=l.config.globalProperties,he(y,e))return y[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return Ir(n,e)?(n[e]=s,!0):r!==pe&&he(r,e)?(r[e]=s,!0):he(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==pe&&he(t,o)||Ir(e,o)||(a=i[0])&&he(a,o)||he(r,o)||he(xs,o)||he(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:he(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Kn(t){return z(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let nn=!0;function jl(t){const e=jo(t),s=t.proxy,r=t.ctx;nn=!1,e.beforeCreate&&zn(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:y,beforeUpdate:b,updated:f,activated:p,deactivated:E,beforeDestroy:D,beforeUnmount:L,destroyed:T,unmounted:v,render:j,renderTracked:F,renderTriggered:W,errorCaptured:ge,serverPrefetch:De,expose:xe,inheritAttrs:re,components:Pe,directives:Se,filters:Ce}=e;if(c&&$l(c,r,null),o)for(const de in o){const ie=o[de];ee(ie)&&(r[de]=ie.bind(s))}if(n){const de=n.call(s,s);ve(de)&&(t.data=Cn(de))}if(nn=!0,i)for(const de in i){const ie=i[de],Ge=ee(ie)?ie.bind(s,s):ee(ie.get)?ie.get.bind(s,s):ct,S=!ee(ie)&&ee(ie.set)?ie.set.bind(s):ct,_=vs({get:Ge,set:S});Object.defineProperty(r,de,{enumerable:!0,configurable:!0,get:()=>_.value,set:N=>_.value=N})}if(a)for(const de in a)Ao(a[de],r,s,de);if(l){const de=ee(l)?l.call(s):l;Reflect.ownKeys(de).forEach(ie=>{Ul(ie,de[ie])})}u&&zn(u,t,"c");function ye(de,ie){z(ie)?ie.forEach(Ge=>de(Ge.bind(s))):ie&&de(ie.bind(s))}if(ye(Sl,h),ye(xr,y),ye(kl,b),ye(xl,f),ye(yl,p),ye(bl,E),ye(Pl,ge),ye(Ol,F),ye(El,W),ye(Po,L),ye(Co,v),ye(Tl,De),z(xe))if(xe.length){const de=t.exposed||(t.exposed={});xe.forEach(ie=>{Object.defineProperty(de,ie,{get:()=>s[ie],set:Ge=>s[ie]=Ge})})}else t.exposed||(t.exposed={});j&&t.render===ct&&(t.render=j),re!=null&&(t.inheritAttrs=re),Pe&&(t.components=Pe),Se&&(t.directives=Se),De&&To(t)}function $l(t,e,s=ct){z(t)&&(t=on(t));for(const r in t){const n=t[r];let i;ve(n)?"default"in n?i=rr(n.from||r,n.default,!0):i=rr(n.from||r):i=rr(n),Le(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function zn(t,e,s){ht(z(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Ao(t,e,s,r){let n=r.includes(".")?Vo(s,r):()=>s[r];if(we(t)){const i=e[t];ee(i)&&Ts(n,i)}else if(ee(t))Ts(n,t.bind(s));else if(ve(t))if(z(t))t.forEach(i=>Ao(i,e,s,r));else{const i=ee(t.handler)?t.handler.bind(s):e[t.handler];ee(i)&&Ts(n,i,t)}}function jo(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(c=>fr(l,c,o,!0)),fr(l,e,o)),ve(e)&&i.set(e,l),l}function fr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&fr(t,i,s,!0),n&&n.forEach(o=>fr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Rl[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Rl={data:Gn,props:Yn,emits:Yn,methods:ms,computed:ms,beforeCreate:Ne,created:Ne,beforeMount:Ne,mounted:Ne,beforeUpdate:Ne,updated:Ne,beforeDestroy:Ne,beforeUnmount:Ne,destroyed:Ne,unmounted:Ne,activated:Ne,deactivated:Ne,errorCaptured:Ne,serverPrefetch:Ne,components:ms,directives:ms,watch:Ml,provide:Gn,inject:Il};function Gn(t,e){return e?t?function(){return He(ee(t)?t.call(this,this):t,ee(e)?e.call(this,this):e)}:e:t}function Il(t,e){return ms(on(t),on(e))}function on(t){if(z(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Ne(t,e){return t?[...new Set([].concat(t,e))]:e}function ms(t,e){return t?He(Object.create(null),t,e):e}function Yn(t,e){return t?z(t)&&z(e)?[...new Set([...t,...e])]:He(Object.create(null),Kn(t),Kn(e??{})):e}function Ml(t,e){if(!t)return e;if(!e)return t;const s=He(Object.create(null),t);for(const r in e)s[r]=Ne(t[r],e[r]);return s}function $o(){return{app:null,config:{isNativeTag:Oa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ll=0;function Dl(t,e){return function(r,n=null){ee(r)||(r=He({},r)),n!=null&&!ve(n)&&(n=null);const i=$o(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Ll++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:_c,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&ee(u.install)?(o.add(u),u.install(c,...h)):ee(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,y){if(!l){const b=c._ceVNode||ut(r,n);return b.appContext=i,y===!0?y="svg":y===!1&&(y=void 0),t(b,u,y),l=!0,c._container=u,u.__vue_app__=c,Or(b.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ht(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=is;is=c;try{return u()}finally{is=h}}};return c}}let is=null;function Ul(t,e){if(qe){let s=qe.provides;const r=qe.parent&&qe.parent.provides;r===s&&(s=qe.provides=Object.create(r)),s[t]=e}}function rr(t,e,s=!1){const r=qe||Ze;if(r||is){let n=is?is._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&ee(e)?e.call(r&&r.proxy):e}}const Ro={},Io=()=>Object.create(Ro),Mo=t=>Object.getPrototypeOf(t)===Ro;function Nl(t,e,s,r=!1){const n={},i=Io();t.propsDefaults=Object.create(null),Lo(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:nl(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Fl(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=ue(n),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let y=u[h];if(Tr(t.emitsOptions,y))continue;const b=e[y];if(l)if(he(i,y))b!==i[y]&&(i[y]=b,c=!0);else{const f=Pt(y);n[f]=an(l,a,f,b,t,!1)}else b!==i[y]&&(i[y]=b,c=!0)}}}else{Lo(t,e,n,i)&&(c=!0);let u;for(const h in a)(!e||!he(e,h)&&((u=Ft(h))===h||!he(e,u)))&&(l?s&&(s[h]!==void 0||s[u]!==void 0)&&(n[h]=an(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!he(e,h))&&(delete i[h],c=!0)}c&&_t(t.attrs,"set","")}function Lo(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(bs(l))continue;const c=e[l];let u;n&&he(n,u=Pt(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:Tr(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=ue(s),c=a||pe;for(let u=0;u<i.length;u++){const h=i[u];s[h]=an(n,l,h,c[h],t,!he(c,h))}}return o}function an(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=he(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ee(l)){const{propsDefaults:c}=n;if(s in c)r=c[s];else{const u=Fs(n);r=c[s]=l.call(null,e),u()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ft(s))&&(r=!0))}return r}const Bl=new WeakMap;function Do(t,e,s=!1){const r=s?Bl:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!ee(t)){const u=h=>{l=!0;const[y,b]=Do(h,e,!0);He(o,y),b&&a.push(...b)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return ve(t)&&r.set(t,ts),ts;if(z(i))for(let u=0;u<i.length;u++){const h=Pt(i[u]);Qn(h)&&(o[h]=pe)}else if(i)for(const u in i){const h=Pt(u);if(Qn(h)){const y=i[u],b=o[h]=z(y)||ee(y)?{type:y}:He({},y),f=b.type;let p=!1,E=!0;if(z(f))for(let D=0;D<f.length;++D){const L=f[D],T=ee(L)&&L.name;if(T==="Boolean"){p=!0;break}else T==="String"&&(E=!1)}else p=ee(f)&&f.name==="Boolean";b[0]=p,b[1]=E,(p||he(b,"default"))&&a.push(h)}}const c=[o,a];return ve(t)&&r.set(t,c),c}function Qn(t){return t[0]!=="$"&&!bs(t)}const In=t=>t[0]==="_"||t==="$stable",Mn=t=>z(t)?t.map(lt):[lt(t)],ql=(t,e,s)=>{if(e._n)return e;const r=ml((...n)=>Mn(e(...n)),s);return r._c=!1,r},Uo=(t,e,s)=>{const r=t._ctx;for(const n in t){if(In(n))continue;const i=t[n];if(ee(i))e[n]=ql(n,i,r);else if(i!=null){const o=Mn(i);e[n]=()=>o}}},No=(t,e)=>{const s=Mn(e);t.slots.default=()=>s},Fo=(t,e,s)=>{for(const r in e)(s||!In(r))&&(t[r]=e[r])},Hl=(t,e,s)=>{const r=t.slots=Io();if(t.vnode.shapeFlag&32){const n=e._;n?(Fo(r,e,s),s&&Qi(r,"_",n,!0)):Uo(e,r)}else e&&No(t,e)},Vl=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=pe;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Fo(n,e,s):(i=!e.$stable,Uo(e,n)),o=e}else e&&(No(t,e),o={default:1});if(i)for(const a in n)!In(a)&&o[a]==null&&delete n[a]},Ye=nc;function Wl(t){return Jl(t)}function Jl(t,e){const s=br();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:y,setScopeId:b=ct,insertStaticContent:f}=t,p=(d,g,w,P=null,O=null,C=null,I=void 0,R=null,$=!!g.dynamicChildren)=>{if(d===g)return;d&&!fs(d,g)&&(P=V(d),N(d,O,C,!0),d=null),g.patchFlag===-2&&($=!1,g.dynamicChildren=null);const{type:A,ref:q,shapeFlag:U}=g;switch(A){case Er:E(d,g,w,P);break;case At:D(d,g,w,P);break;case Lr:d==null&&L(g,w,P,I);break;case Me:Pe(d,g,w,P,O,C,I,R,$);break;default:U&1?j(d,g,w,P,O,C,I,R,$):U&6?Se(d,g,w,P,O,C,I,R,$):(U&64||U&128)&&A.process(d,g,w,P,O,C,I,R,$,le)}q!=null&&O&&dr(q,d&&d.ref,C,g||d,!g)},E=(d,g,w,P)=>{if(d==null)r(g.el=a(g.children),w,P);else{const O=g.el=d.el;g.children!==d.children&&c(O,g.children)}},D=(d,g,w,P)=>{d==null?r(g.el=l(g.children||""),w,P):g.el=d.el},L=(d,g,w,P)=>{[d.el,d.anchor]=f(d.children,g,w,P,d.el,d.anchor)},T=({el:d,anchor:g},w,P)=>{let O;for(;d&&d!==g;)O=y(d),r(d,w,P),d=O;r(g,w,P)},v=({el:d,anchor:g})=>{let w;for(;d&&d!==g;)w=y(d),n(d),d=w;n(g)},j=(d,g,w,P,O,C,I,R,$)=>{g.type==="svg"?I="svg":g.type==="math"&&(I="mathml"),d==null?F(g,w,P,O,C,I,R,$):De(d,g,O,C,I,R,$)},F=(d,g,w,P,O,C,I,R)=>{let $,A;const{props:q,shapeFlag:U,transition:B,dirs:J}=d;if($=d.el=o(d.type,C,q&&q.is,q),U&8?u($,d.children):U&16&&ge(d.children,$,null,P,O,Mr(d,C),I,R),J&&Rt(d,null,P,"created"),W($,d,d.scopeId,I,P),q){for(const ce in q)ce!=="value"&&!bs(ce)&&i($,ce,null,q[ce],C,P);"value"in q&&i($,"value",null,q.value,C),(A=q.onVnodeBeforeMount)&&it(A,P,d)}J&&Rt(d,null,P,"beforeMount");const te=Kl(O,B);te&&B.beforeEnter($),r($,g,w),((A=q&&q.onVnodeMounted)||te||J)&&Ye(()=>{A&&it(A,P,d),te&&B.enter($),J&&Rt(d,null,P,"mounted")},O)},W=(d,g,w,P,O)=>{if(w&&b(d,w),P)for(let C=0;C<P.length;C++)b(d,P[C]);if(O){let C=O.subTree;if(g===C||Jo(C.type)&&(C.ssContent===g||C.ssFallback===g)){const I=O.vnode;W(d,I,I.scopeId,I.slotScopeIds,O.parent)}}},ge=(d,g,w,P,O,C,I,R,$=0)=>{for(let A=$;A<d.length;A++){const q=d[A]=R?xt(d[A]):lt(d[A]);p(null,q,g,w,P,O,C,I,R)}},De=(d,g,w,P,O,C,I)=>{const R=g.el=d.el;let{patchFlag:$,dynamicChildren:A,dirs:q}=g;$|=d.patchFlag&16;const U=d.props||pe,B=g.props||pe;let J;if(w&&It(w,!1),(J=B.onVnodeBeforeUpdate)&&it(J,w,g,d),q&&Rt(g,d,w,"beforeUpdate"),w&&It(w,!0),(U.innerHTML&&B.innerHTML==null||U.textContent&&B.textContent==null)&&u(R,""),A?xe(d.dynamicChildren,A,R,w,P,Mr(g,O),C):I||ie(d,g,R,null,w,P,Mr(g,O),C,!1),$>0){if($&16)re(R,U,B,w,O);else if($&2&&U.class!==B.class&&i(R,"class",null,B.class,O),$&4&&i(R,"style",U.style,B.style,O),$&8){const te=g.dynamicProps;for(let ce=0;ce<te.length;ce++){const ne=te[ce],Te=U[ne],ke=B[ne];(ke!==Te||ne==="value")&&i(R,ne,Te,ke,O,w)}}$&1&&d.children!==g.children&&u(R,g.children)}else!I&&A==null&&re(R,U,B,w,O);((J=B.onVnodeUpdated)||q)&&Ye(()=>{J&&it(J,w,g,d),q&&Rt(g,d,w,"updated")},P)},xe=(d,g,w,P,O,C,I)=>{for(let R=0;R<g.length;R++){const $=d[R],A=g[R],q=$.el&&($.type===Me||!fs($,A)||$.shapeFlag&198)?h($.el):w;p($,A,q,null,P,O,C,I,!0)}},re=(d,g,w,P,O)=>{if(g!==w){if(g!==pe)for(const C in g)!bs(C)&&!(C in w)&&i(d,C,g[C],null,O,P);for(const C in w){if(bs(C))continue;const I=w[C],R=g[C];I!==R&&C!=="value"&&i(d,C,R,I,O,P)}"value"in w&&i(d,"value",g.value,w.value,O)}},Pe=(d,g,w,P,O,C,I,R,$)=>{const A=g.el=d?d.el:a(""),q=g.anchor=d?d.anchor:a("");let{patchFlag:U,dynamicChildren:B,slotScopeIds:J}=g;J&&(R=R?R.concat(J):J),d==null?(r(A,w,P),r(q,w,P),ge(g.children||[],w,q,O,C,I,R,$)):U>0&&U&64&&B&&d.dynamicChildren?(xe(d.dynamicChildren,B,w,O,C,I,R),(g.key!=null||O&&g===O.subTree)&&Bo(d,g,!0)):ie(d,g,w,q,O,C,I,R,$)},Se=(d,g,w,P,O,C,I,R,$)=>{g.slotScopeIds=R,d==null?g.shapeFlag&512?O.ctx.activate(g,w,P,I,$):Ce(g,w,P,O,C,I,$):ze(d,g,$)},Ce=(d,g,w,P,O,C,I)=>{const R=d.component=hc(d,P,O);if(Eo(d)&&(R.ctx.renderer=le),dc(R,!1,I),R.asyncDep){if(O&&O.registerDep(R,ye,I),!d.el){const $=R.subTree=ut(At);D(null,$,g,w)}}else ye(R,d,g,w,O,C,I)},ze=(d,g,w)=>{const P=g.component=d.component;if(sc(d,g,w))if(P.asyncDep&&!P.asyncResolved){de(P,g,w);return}else P.next=g,P.update();else g.el=d.el,P.vnode=g},ye=(d,g,w,P,O,C,I)=>{const R=()=>{if(d.isMounted){let{next:U,bu:B,u:J,parent:te,vnode:ce}=d;{const Ve=qo(d);if(Ve){U&&(U.el=ce.el,de(d,U,I)),Ve.asyncDep.then(()=>{d.isUnmounted||R()});return}}let ne=U,Te;It(d,!1),U?(U.el=ce.el,de(d,U,I)):U=ce,B&&sr(B),(Te=U.props&&U.props.onVnodeBeforeUpdate)&&it(Te,te,U,ce),It(d,!0);const ke=Zn(d),je=d.subTree;d.subTree=ke,p(je,ke,h(je.el),V(je),d,O,C),U.el=ke.el,ne===null&&rc(d,ke.el),J&&Ye(J,O),(Te=U.props&&U.props.onVnodeUpdated)&&Ye(()=>it(Te,te,U,ce),O)}else{let U;const{el:B,props:J}=g,{bm:te,m:ce,parent:ne,root:Te,type:ke}=d,je=ks(g);It(d,!1),te&&sr(te),!je&&(U=J&&J.onVnodeBeforeMount)&&it(U,ne,g),It(d,!0);{Te.ce&&Te.ce._injectChildStyle(ke);const Ve=d.subTree=Zn(d);p(null,Ve,w,P,d,O,C),g.el=Ve.el}if(ce&&Ye(ce,O),!je&&(U=J&&J.onVnodeMounted)){const Ve=g;Ye(()=>it(U,ne,Ve),O)}(g.shapeFlag&256||ne&&ks(ne.vnode)&&ne.vnode.shapeFlag&256)&&d.a&&Ye(d.a,O),d.isMounted=!0,g=w=P=null}};d.scope.on();const $=d.effect=new to(R);d.scope.off();const A=d.update=$.run.bind($),q=d.job=$.runIfDirty.bind($);q.i=d,q.id=d.uid,$.scheduler=()=>$n(q),It(d,!0),A()},de=(d,g,w)=>{g.component=d;const P=d.vnode.props;d.vnode=g,d.next=null,Fl(d,g.props,P,w),Vl(d,g.children,w),yt(),Jn(d),bt()},ie=(d,g,w,P,O,C,I,R,$=!1)=>{const A=d&&d.children,q=d?d.shapeFlag:0,U=g.children,{patchFlag:B,shapeFlag:J}=g;if(B>0){if(B&128){S(A,U,w,P,O,C,I,R,$);return}else if(B&256){Ge(A,U,w,P,O,C,I,R,$);return}}J&8?(q&16&&G(A,O,C),U!==A&&u(w,U)):q&16?J&16?S(A,U,w,P,O,C,I,R,$):G(A,O,C,!0):(q&8&&u(w,""),J&16&&ge(U,w,P,O,C,I,R,$))},Ge=(d,g,w,P,O,C,I,R,$)=>{d=d||ts,g=g||ts;const A=d.length,q=g.length,U=Math.min(A,q);let B;for(B=0;B<U;B++){const J=g[B]=$?xt(g[B]):lt(g[B]);p(d[B],J,w,null,O,C,I,R,$)}A>q?G(d,O,C,!0,!1,U):ge(g,w,P,O,C,I,R,$,U)},S=(d,g,w,P,O,C,I,R,$)=>{let A=0;const q=g.length;let U=d.length-1,B=q-1;for(;A<=U&&A<=B;){const J=d[A],te=g[A]=$?xt(g[A]):lt(g[A]);if(fs(J,te))p(J,te,w,null,O,C,I,R,$);else break;A++}for(;A<=U&&A<=B;){const J=d[U],te=g[B]=$?xt(g[B]):lt(g[B]);if(fs(J,te))p(J,te,w,null,O,C,I,R,$);else break;U--,B--}if(A>U){if(A<=B){const J=B+1,te=J<q?g[J].el:P;for(;A<=B;)p(null,g[A]=$?xt(g[A]):lt(g[A]),w,te,O,C,I,R,$),A++}}else if(A>B)for(;A<=U;)N(d[A],O,C,!0),A++;else{const J=A,te=A,ce=new Map;for(A=te;A<=B;A++){const Ue=g[A]=$?xt(g[A]):lt(g[A]);Ue.key!=null&&ce.set(Ue.key,A)}let ne,Te=0;const ke=B-te+1;let je=!1,Ve=0;const dt=new Array(ke);for(A=0;A<ke;A++)dt[A]=0;for(A=J;A<=U;A++){const Ue=d[A];if(Te>=ke){N(Ue,O,C,!0);continue}let Xe;if(Ue.key!=null)Xe=ce.get(Ue.key);else for(ne=te;ne<=B;ne++)if(dt[ne-te]===0&&fs(Ue,g[ne])){Xe=ne;break}Xe===void 0?N(Ue,O,C,!0):(dt[Xe-te]=A+1,Xe>=Ve?Ve=Xe:je=!0,p(Ue,g[Xe],w,null,O,C,I,R,$),Te++)}const Ws=je?zl(dt):ts;for(ne=Ws.length-1,A=ke-1;A>=0;A--){const Ue=te+A,Xe=g[Ue],Js=Ue+1<q?g[Ue+1].el:P;dt[A]===0?p(null,Xe,w,Js,O,C,I,R,$):je&&(ne<0||A!==Ws[ne]?_(Xe,w,Js,2):ne--)}}},_=(d,g,w,P,O=null)=>{const{el:C,type:I,transition:R,children:$,shapeFlag:A}=d;if(A&6){_(d.component.subTree,g,w,P);return}if(A&128){d.suspense.move(g,w,P);return}if(A&64){I.move(d,g,w,le);return}if(I===Me){r(C,g,w);for(let U=0;U<$.length;U++)_($[U],g,w,P);r(d.anchor,g,w);return}if(I===Lr){T(d,g,w);return}if(P!==2&&A&1&&R)if(P===0)R.beforeEnter(C),r(C,g,w),Ye(()=>R.enter(C),O);else{const{leave:U,delayLeave:B,afterLeave:J}=R,te=()=>{d.ctx.isUnmounted?n(C):r(C,g,w)},ce=()=>{U(C,()=>{te(),J&&J()})};B?B(C,te,ce):ce()}else r(C,g,w)},N=(d,g,w,P=!1,O=!1)=>{const{type:C,props:I,ref:R,children:$,dynamicChildren:A,shapeFlag:q,patchFlag:U,dirs:B,cacheIndex:J}=d;if(U===-2&&(O=!1),R!=null&&(yt(),dr(R,null,w,d,!0),bt()),J!=null&&(g.renderCache[J]=void 0),q&256){g.ctx.deactivate(d);return}const te=q&1&&B,ce=!ks(d);let ne;if(ce&&(ne=I&&I.onVnodeBeforeUnmount)&&it(ne,g,d),q&6)Y(d.component,w,P);else{if(q&128){d.suspense.unmount(w,P);return}te&&Rt(d,null,g,"beforeUnmount"),q&64?d.type.remove(d,g,w,le,P):A&&!A.hasOnce&&(C!==Me||U>0&&U&64)?G(A,g,w,!1,!0):(C===Me&&U&384||!O&&q&16)&&G($,g,w),P&&M(d)}(ce&&(ne=I&&I.onVnodeUnmounted)||te)&&Ye(()=>{ne&&it(ne,g,d),te&&Rt(d,null,g,"unmounted")},w)},M=d=>{const{type:g,el:w,anchor:P,transition:O}=d;if(g===Me){H(w,P);return}if(g===Lr){v(d);return}const C=()=>{n(w),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(d.shapeFlag&1&&O&&!O.persisted){const{leave:I,delayLeave:R}=O,$=()=>I(w,C);R?R(d.el,C,$):$()}else C()},H=(d,g)=>{let w;for(;d!==g;)w=y(d),n(d),d=w;n(g)},Y=(d,g,w)=>{const{bum:P,scope:O,job:C,subTree:I,um:R,m:$,a:A,parent:q,slots:{__:U}}=d;Xn($),Xn(A),P&&sr(P),q&&z(U)&&U.forEach(B=>{q.renderCache[B]=void 0}),O.stop(),C&&(C.flags|=8,N(I,d,g,w)),R&&Ye(R,g),Ye(()=>{d.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},G=(d,g,w,P=!1,O=!1,C=0)=>{for(let I=C;I<d.length;I++)N(d[I],g,w,P,O)},V=d=>{if(d.shapeFlag&6)return V(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const g=y(d.anchor||d.el),w=g&&g[_l];return w?y(w):g};let Q=!1;const ae=(d,g,w)=>{d==null?g._vnode&&N(g._vnode,null,null,!0):p(g._vnode||null,d,g,null,null,null,w),g._vnode=d,Q||(Q=!0,Jn(),wo(),Q=!1)},le={p,um:N,m:_,r:M,mt:Ce,mc:ge,pc:ie,pbc:xe,n:V,o:t};return{render:ae,hydrate:void 0,createApp:Dl(ae)}}function Mr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function It({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Kl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Bo(t,e,s=!1){const r=t.children,n=e.children;if(z(r)&&z(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=xt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Bo(o,a)),a.type===Er&&(a.el=o.el),a.type===At&&!a.el&&(a.el=o.el)}}function zl(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(n=s[s.length-1],t[n]<c){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<c?i=a+1:o=a;c<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function qo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:qo(e)}function Xn(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Gl=Symbol.for("v-scx"),Yl=()=>rr(Gl);function Ts(t,e,s){return Ho(t,e,s)}function Ho(t,e,s=pe){const{immediate:r,deep:n,flush:i,once:o}=s,a=He({},s),l=e&&r||!e&&i!=="post";let c;if(Ls){if(i==="sync"){const b=Yl();c=b.__watcherHandles||(b.__watcherHandles=[])}else if(!l){const b=()=>{};return b.stop=ct,b.resume=ct,b.pause=ct,b}}const u=qe;a.call=(b,f,p)=>ht(b,u,f,p);let h=!1;i==="post"?a.scheduler=b=>{Ye(b,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(b,f)=>{f?b():$n(b)}),a.augmentJob=b=>{e&&(b.flags|=4),h&&(b.flags|=2,u&&(b.id=u.uid,b.i=u))};const y=dl(t,e,a);return Ls&&(c?c.push(y):l&&y()),y}function Ql(t,e,s){const r=this.proxy,n=we(t)?t.includes(".")?Vo(r,t):()=>r[t]:t.bind(r,r);let i;ee(e)?i=e:(i=e.handler,s=e);const o=Fs(this),a=Ho(n,i.bind(r),s);return o(),a}function Vo(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Xl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Pt(e)}Modifiers`]||t[`${Ft(e)}Modifiers`];function Zl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||pe;let n=s;const i=e.startsWith("update:"),o=i&&Xl(r,e.slice(7));o&&(o.trim&&(n=s.map(u=>we(u)?u.trim():u)),o.number&&(n=s.map(Xr)));let a,l=r[a=Cr(e)]||r[a=Cr(Pt(e))];!l&&i&&(l=r[a=Cr(Ft(e))]),l&&ht(l,t,6,n);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ht(c,t,6,n)}}function Wo(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!ee(t)){const l=c=>{const u=Wo(c,e,!0);u&&(a=!0,He(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ve(t)&&r.set(t,null),null):(z(i)?i.forEach(l=>o[l]=null):He(o,i),ve(t)&&r.set(t,o),o)}function Tr(t,e){return!t||!_r(e)?!1:(e=e.slice(2).replace(/Once$/,""),he(t,e[0].toLowerCase()+e.slice(1))||he(t,Ft(e))||he(t,e))}function Zn(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:y,setupState:b,ctx:f,inheritAttrs:p}=t,E=hr(t);let D,L;try{if(s.shapeFlag&4){const v=n||r,j=v;D=lt(c.call(j,v,u,h,b,y,f)),L=a}else{const v=e;D=lt(v.length>1?v(h,{attrs:a,slots:o,emit:l}):v(h,null)),L=e.props?a:ec(a)}}catch(v){Es.length=0,Sr(v,t,1),D=ut(At)}let T=D;if(L&&p!==!1){const v=Object.keys(L),{shapeFlag:j}=T;v.length&&j&7&&(i&&v.some(bn)&&(L=tc(L,i)),T=as(T,L,!1,!0))}return s.dirs&&(T=as(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(s.dirs):s.dirs),s.transition&&Rn(T,s.transition),D=T,hr(E),D}const ec=t=>{let e;for(const s in t)(s==="class"||s==="style"||_r(s))&&((e||(e={}))[s]=t[s]);return e},tc=(t,e)=>{const s={};for(const r in t)(!bn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function sc(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?ei(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const y=u[h];if(o[y]!==r[y]&&!Tr(c,y))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?ei(r,o,c):!0:!!o;return!1}function ei(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Tr(s,i))return!0}return!1}function rc({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Jo=t=>t.__isSuspense;function nc(t,e){e&&e.pendingBranch?z(t)?e.effects.push(...t):e.effects.push(t):gl(t)}const Me=Symbol.for("v-fgt"),Er=Symbol.for("v-txt"),At=Symbol.for("v-cmt"),Lr=Symbol.for("v-stc"),Es=[];let Qe=null;function K(t=!1){Es.push(Qe=t?null:[])}function ic(){Es.pop(),Qe=Es[Es.length-1]||null}let Ms=1;function ti(t,e=!1){Ms+=t,t<0&&Qe&&e&&(Qe.hasOnce=!0)}function Ko(t){return t.dynamicChildren=Ms>0?Qe||ts:null,ic(),Ms>0&&Qe&&Qe.push(t),t}function Z(t,e,s,r,n,i){return Ko(m(t,e,s,r,n,i,!0))}function _s(t,e,s,r,n){return Ko(ut(t,e,s,r,n,!0))}function zo(t){return t?t.__v_isVNode===!0:!1}function fs(t,e){return t.type===e.type&&t.key===e.key}const Go=({key:t})=>t??null,nr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?we(t)||Le(t)||ee(t)?{i:Ze,r:t,k:e,f:!!s}:t:null);function m(t,e=null,s=null,r=0,n=null,i=t===Me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Go(e),ref:e&&nr(e),scopeId:ko,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ze};return a?(Ln(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=we(s)?8:16),Ms>0&&!o&&Qe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Qe.push(l),l}const ut=oc;function oc(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Cl)&&(t=At),zo(t)){const a=as(t,e,!0);return s&&Ln(a,s),Ms>0&&!i&&Qe&&(a.shapeFlag&6?Qe[Qe.indexOf(t)]=a:Qe.push(a)),a.patchFlag=-2,a}if(mc(t)&&(t=t.__vccOpts),e){e=ac(e);let{class:a,style:l}=e;a&&!we(a)&&(e.class=at(a)),ve(l)&&(jn(l)&&!z(l)&&(l=He({},l)),e.style=kn(l))}const o=we(t)?1:Jo(t)?128:vl(t)?64:ve(t)?4:ee(t)?2:0;return m(t,e,s,r,n,o,i,!0)}function ac(t){return t?jn(t)||Mo(t)?He({},t):t:null}function as(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?lc(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Go(c),ref:e&&e.ref?s&&i?z(i)?i.concat(nr(e)):[i,nr(e)]:nr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Me?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&as(t.ssContent),ssFallback:t.ssFallback&&as(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Rn(u,l.clone(u)),u}function rt(t=" ",e=0){return ut(Er,null,t,e)}function be(t="",e=!1){return e?(K(),_s(At,null,t)):ut(At,null,t)}function lt(t){return t==null||typeof t=="boolean"?ut(At):z(t)?ut(Me,null,t.slice()):zo(t)?xt(t):ut(Er,null,String(t))}function xt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:as(t)}function Ln(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(z(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Ln(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Mo(e)?e._ctx=Ze:n===3&&Ze&&(Ze.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ee(e)?(e={default:e,_ctx:Ze},s=32):(e=String(e),r&64?(s=16,e=[rt(e)]):s=8);t.children=e,t.shapeFlag|=s}function lc(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=at([e.class,r.class]));else if(n==="style")e.style=kn([e.style,r.style]);else if(_r(n)){const i=e[n],o=r[n];o&&i!==o&&!(z(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function it(t,e,s,r=null){ht(t,e,7,[s,r])}const cc=$o();let uc=0;function hc(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||cc,i={uid:uc++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ua(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Do(r,n),emitsOptions:Wo(r,n),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:r.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Zl.bind(null,i),t.ce&&t.ce(i),i}let qe=null,pr,ln;{const t=br(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};pr=e("__VUE_INSTANCE_SETTERS__",s=>qe=s),ln=e("__VUE_SSR_SETTERS__",s=>Ls=s)}const Fs=t=>{const e=qe;return pr(t),t.scope.on(),()=>{t.scope.off(),pr(e)}},si=()=>{qe&&qe.scope.off(),pr(null)};function Yo(t){return t.vnode.shapeFlag&4}let Ls=!1;function dc(t,e=!1,s=!1){e&&ln(e);const{props:r,children:n}=t.vnode,i=Yo(t);Nl(t,r,i,e),Hl(t,n,s||e);const o=i?fc(t,e):void 0;return e&&ln(!1),o}function fc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Al);const{setup:r}=s;if(r){yt();const n=t.setupContext=r.length>1?gc(t):null,i=Fs(t),o=Ns(r,t,0,[t.props,n]),a=Ki(o);if(bt(),i(),(a||t.sp)&&!ks(t)&&To(t),a){if(o.then(si,si),e)return o.then(l=>{ri(t,l)}).catch(l=>{Sr(l,t,0)});t.asyncDep=o}else ri(t,o)}else Qo(t)}function ri(t,e,s){ee(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ve(e)&&(t.setupState=_o(e)),Qo(t)}function Qo(t,e,s){const r=t.type;t.render||(t.render=r.render||ct);{const n=Fs(t);yt();try{jl(t)}finally{bt(),n()}}}const pc={get(t,e){return Ie(t,"get",""),t[e]}};function gc(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,pc),slots:t.slots,emit:t.emit,expose:e}}function Or(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(_o(il(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in xs)return xs[s](t)},has(e,s){return s in e||s in xs}})):t.proxy}function mc(t){return ee(t)&&"__vccOpts"in t}const vs=(t,e)=>ul(t,e,Ls),_c="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cn;const ni=typeof window<"u"&&window.trustedTypes;if(ni)try{cn=ni.createPolicy("vue",{createHTML:t=>t})}catch{}const Xo=cn?t=>cn.createHTML(t):t=>t,vc="http://www.w3.org/2000/svg",yc="http://www.w3.org/1998/Math/MathML",gt=typeof document<"u"?document:null,ii=gt&&gt.createElement("template"),bc={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?gt.createElementNS(vc,t):e==="mathml"?gt.createElementNS(yc,t):s?gt.createElement(t,{is:s}):gt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>gt.createTextNode(t),createComment:t=>gt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>gt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{ii.innerHTML=Xo(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=ii.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},wc=Symbol("_vtc");function Sc(t,e,s){const r=t[wc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const oi=Symbol("_vod"),kc=Symbol("_vsh"),xc=Symbol(""),Tc=/(^|;)\s*display\s*:/;function Ec(t,e,s){const r=t.style,n=we(s);let i=!1;if(s&&!n){if(e)if(we(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&ir(r,a,"")}else for(const o in e)s[o]==null&&ir(r,o,"");for(const o in s)o==="display"&&(i=!0),ir(r,o,s[o])}else if(n){if(e!==s){const o=r[xc];o&&(s+=";"+o),r.cssText=s,i=Tc.test(s)}}else e&&t.removeAttribute("style");oi in t&&(t[oi]=i?r.display:"",t[kc]&&(r.display="none"))}const ai=/\s*!important$/;function ir(t,e,s){if(z(s))s.forEach(r=>ir(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Oc(t,e);ai.test(s)?t.setProperty(Ft(r),s.replace(ai,""),"important"):t[r]=s}}const li=["Webkit","Moz","ms"],Dr={};function Oc(t,e){const s=Dr[e];if(s)return s;let r=Pt(e);if(r!=="filter"&&r in t)return Dr[e]=r;r=Yi(r);for(let n=0;n<li.length;n++){const i=li[n]+r;if(i in t)return Dr[e]=i}return e}const ci="http://www.w3.org/1999/xlink";function ui(t,e,s,r,n,i=Da(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(ci,e.slice(6,e.length)):t.setAttributeNS(ci,e,s):s==null||i&&!Xi(s)?t.removeAttribute(e):t.setAttribute(e,i?"":jt(s)?String(s):s)}function hi(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Xo(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Xi(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Zt(t,e,s,r){t.addEventListener(e,s,r)}function Pc(t,e,s,r){t.removeEventListener(e,s,r)}const di=Symbol("_vei");function Cc(t,e,s,r,n=null){const i=t[di]||(t[di]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Ac(e);if(r){const c=i[e]=Rc(r,n);Zt(t,a,c,l)}else o&&(Pc(t,a,o,l),i[e]=void 0)}}const fi=/(?:Once|Passive|Capture)$/;function Ac(t){let e;if(fi.test(t)){e={};let r;for(;r=t.match(fi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ft(t.slice(2)),e]}let Ur=0;const jc=Promise.resolve(),$c=()=>Ur||(jc.then(()=>Ur=0),Ur=Date.now());function Rc(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;ht(Ic(r,s.value),e,5,[r])};return s.value=t,s.attached=$c(),s}function Ic(t,e){if(z(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const pi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Mc=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Sc(t,r,o):e==="style"?Ec(t,s,r):_r(e)?bn(e)||Cc(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Lc(t,e,r,o))?(hi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ui(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!we(r))?hi(t,Pt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ui(t,e,r,o))};function Lc(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&pi(e)&&ee(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return pi(e)&&we(s)?!1:e in t}const gi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return z(e)?s=>sr(e,s):e};function Dc(t){t.target.composing=!0}function mi(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Nr=Symbol("_assign"),Zo={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Nr]=gi(n);const i=r||n.props&&n.props.type==="number";Zt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Xr(a)),t[Nr](a)}),s&&Zt(t,"change",()=>{t.value=t.value.trim()}),e||(Zt(t,"compositionstart",Dc),Zt(t,"compositionend",mi),Zt(t,"change",mi))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Nr]=gi(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Xr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Uc=["ctrl","shift","alt","meta"],Nc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Uc.some(s=>t[`${s}Key`]&&!e.includes(s))},Ds=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Nc[e[o]];if(a&&a(n,e))return}return t(n,...i)})},Fc=He({patchProp:Mc},bc);let _i;function Bc(){return _i||(_i=Wl(Fc))}const qc=(...t)=>{const e=Bc().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Vc(r);if(!n)return;const i=e._component;!ee(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Hc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Hc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Vc(t){return we(t)?document.querySelector(t):t}const Bs=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Wc={key:0,class:"action-buttons"},Jc=["disabled"],Kc={class:"players-grid"},zc={class:"avatar-placeholder"},Gc=["src"],Yc={class:"player-name"},Qc={class:"player-actions"},Xc=["onClick"],Zc=["onClick"],eu=["onClick"],tu={class:"action-buttons"},su={__name:"PlayerSelector",props:{predefinedPlayers:Array,role:String},emits:["start-game"],setup(t,{emit:e}){const s=t,r=e,n=Ke([]),i=Ke(""),o=["/shanghai/img/invite_1.jpg","/shanghai/img/invite_2.png","/shanghai/img/invite_3.png","/shanghai/img/invite_4.png","/shanghai/img/invite_5.png","/shanghai/img/invite_6.png","/shanghai/img/invite_7.png","/shanghai/img/invite_8.png","/shanghai/img/invite_9.png","/shanghai/img/invite_10.png","/shanghai/img/invite_11.png"];let a=[...o];function l(){a.length===0&&(a=[...o]);const L=Math.floor(Math.random()*a.length);return a.splice(L,1)[0]}function c(){const L=i.value.trim();if(L===""||n.value.some(v=>v.name===L))return;const T=s.predefinedPlayers.find(v=>v.name===L);n.value.push({name:L,avatar:(T==null?void 0:T.avatar)||l()}),i.value=""}function u(){c()}function h(){n.value=s.predefinedPlayers.map(L=>({id:L.id,name:L.name,avatar:L.avatar||l()}))}function y(L){n.value=n.value.filter(T=>T.name!==L)}function b(L){const T=n.value.findIndex(v=>v.name===L);T<=0||([n.value[T-1],n.value[T]]=[n.value[T],n.value[T-1]])}function f(L){const T=n.value.findIndex(v=>v.name===L);T===-1||T>=n.value.length-1||([n.value[T+1],n.value[T]]=[n.value[T],n.value[T+1]])}function p(){for(let L=n.value.length-1;L>0;L--){const T=Math.floor(Math.random()*(L+1));[n.value[L],n.value[T]]=[n.value[T],n.value[L]]}}function E(){const L=document.documentElement;L.requestFullscreen?L.requestFullscreen():L.mozRequestFullScreen?L.mozRequestFullScreen():L.webkitRequestFullscreen?L.webkitRequestFullscreen():L.msRequestFullscreen&&L.msRequestFullscreen()}function D(){E(),r("start-game",n.value)}return xr(()=>{s.role==="admin"&&h()}),(L,T)=>(K(),Z(Me,null,[T[3]||(T[3]=m("h1",null,"Shanghai ",-1)),t.role==="admin"?(K(),Z("div",Wc,[m("a",{href:"#",onClick:T[0]||(T[0]=Ds(v=>L.$emit("view-scores"),["prevent"])),class:"link-button"},"Voir le classement")])):be("",!0),m("form",{onSubmit:Ds(c,["prevent"])},[xo(m("input",{type:"text","onUpdate:modelValue":T[1]||(T[1]=v=>i.value=v),placeholder:"Ajouter un joueur",onChange:u},null,544),[[Zo,i.value]]),m("button",{disabled:i.value.length===0},"Ajouter",8,Jc)],32),m("ul",Kc,[(K(!0),Z(Me,null,Is(n.value,v=>(K(),Z("li",{key:v.name,class:"player-card"},[m("div",zc,[m("img",{src:v.avatar,alt:"avatar",class:"avatar-img"},null,8,Gc)]),m("div",Yc,x(v.name),1),m("div",Qc,[m("button",{onClick:j=>b(v.name)},"",8,Xc),m("button",{onClick:j=>y(v.name)},"",8,Zc),m("button",{onClick:j=>f(v.name)},"",8,eu)])]))),128))]),m("div",tu,[n.value.length>=2?(K(),Z("button",{key:0,onClick:T[2]||(T[2]=v=>p())},"Ordre alatoire")):be("",!0),n.value.length>=1?(K(),Z("button",{key:1,onClick:D,class:"jouer-button"},"JOUER")):be("",!0)]),T[4]||(T[4]=m("br",null,null,-1))],64))}},ru=Bs(su,[["__scopeId","data-v-91569e23"]]),nu="modulepreload",iu=function(t){return"/shanghai/"+t},vi={},qs=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=o(s.map(c=>{if(c=iu(c),c in vi)return;vi[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const y=document.createElement("link");if(y.rel=u?"stylesheet":nu,u||(y.as="script"),y.crossOrigin="",y.href=c,l&&y.setAttribute("nonce",l),document.head.appendChild(y),u)return new Promise((b,f)=>{y.addEventListener("load",b),y.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},ou=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>qs(async()=>{const{default:r}=await Promise.resolve().then(()=>cs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Dn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class au extends Dn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class lu extends Dn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class cu extends Dn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var un;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(un||(un={}));var uu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class hu{constructor(e,{headers:s={},customFetch:r,region:n=un.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=ou(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return uu(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(f=>{throw new au(f)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new lu(u);if(!u.ok)throw new cu(u);let y=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield u.json():y==="application/octet-stream"?b=yield u.blob():y==="text/event-stream"?b=u:y==="multipart/form-data"?b=yield u.formData():b=yield u.text(),{data:b,error:null}}catch(n){return{data:null,error:n}}})}}function du(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fu(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Ee={},Ht={},Vt={},Wt={},Jt={},Kt={},pu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ls=pu();const gu=ls.fetch,ea=ls.fetch.bind(ls),ta=ls.Headers,mu=ls.Request,_u=ls.Response,cs=Object.freeze(Object.defineProperty({__proto__:null,Headers:ta,Request:mu,Response:_u,default:ea,fetch:gu},Symbol.toStringTag,{value:"Module"})),vu=fu(cs);var Ys={},yi;function sa(){if(yi)return Ys;yi=1,Object.defineProperty(Ys,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ys.default=t,Ys}var bi;function ra(){if(bi)return Kt;bi=1;var t=Kt&&Kt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Kt,"__esModule",{value:!0});const e=t(vu),s=t(sa());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,y;let b=null,f=null,p=null,E=c.status,D=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=j:f=JSON.parse(j))}const T=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),v=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");T&&v&&v.length>1&&(p=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(b={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,E=406,D="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const T=await c.text();try{b=JSON.parse(T),Array.isArray(b)&&c.status===404&&(f=[],b=null,E=200,D="OK")}catch{c.status===404&&T===""?(E=204,D="No Content"):b={message:T}}if(b&&this.isMaybeSingle&&(!((y=b==null?void 0:b.details)===null||y===void 0)&&y.includes("0 rows"))&&(b=null,E=200,D="OK"),b&&this.shouldThrowOnError)throw new s.default(b)}return{error:b,data:f,count:p,status:E,statusText:D}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,y;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(y=c==null?void 0:c.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Kt.default=r,Kt}var wi;function na(){if(wi)return Jt;wi=1;var t=Jt&&Jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jt,"__esModule",{value:!0});const e=t(ra());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),y=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${y}"; options=${h};`,c==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Jt.default=s,Jt}var Si;function Un(){if(Si)return Wt;Si=1;var t=Wt&&Wt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wt,"__esModule",{value:!0});const e=t(na());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${c}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return Wt.default=s,Wt}var ki;function ia(){if(ki)return Vt;ki=1;var t=Vt&&Vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vt,"__esModule",{value:!0});const e=t(Un());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(n??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const c=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(n)){const h=n.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(h.length>0){const y=[...new Set(h)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Vt.default=s,Vt}var ps={},gs={},xi;function yu(){return xi||(xi=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.version=void 0,gs.version="0.0.0-automated"),gs}var Ti;function bu(){if(Ti)return ps;Ti=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.DEFAULT_HEADERS=void 0;const t=yu();return ps.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},ps}var Ei;function wu(){if(Ei)return Ht;Ei=1;var t=Ht&&Ht.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ht,"__esModule",{value:!0});const e=t(ia()),s=t(Un()),r=bu();class n{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let h;const y=new URL(`${this.url}/rpc/${o}`);let b;l||c?(h=l?"HEAD":"GET",Object.entries(a).filter(([p,E])=>E!==void 0).map(([p,E])=>[p,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([p,E])=>{y.searchParams.append(p,E)})):(h="POST",b=a);const f=Object.assign({},this.headers);return u&&(f.Prefer=`count=${u}`),new s.default({method:h,url:y,headers:f,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return Ht.default=n,Ht}var Oi;function Su(){if(Oi)return Ee;Oi=1;var t=Ee&&Ee.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;const e=t(wu());Ee.PostgrestClient=e.default;const s=t(ia());Ee.PostgrestQueryBuilder=s.default;const r=t(Un());Ee.PostgrestFilterBuilder=r.default;const n=t(na());Ee.PostgrestTransformBuilder=n.default;const i=t(ra());Ee.PostgrestBuilder=i.default;const o=t(sa());return Ee.PostgrestError=o.default,Ee.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ee}var ku=Su();const xu=du(ku),{PostgrestClient:Tu,PostgrestQueryBuilder:Zf,PostgrestFilterBuilder:ep,PostgrestTransformBuilder:tp,PostgrestBuilder:sp,PostgrestError:rp}=xu;let hn;typeof window>"u"?hn=require("ws"):hn=window.WebSocket;const Eu="2.11.10",Ou={"X-Client-Info":`realtime-js/${Eu}`},Pu="1.0.0",oa=1e4,Cu=1e3;var os;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(os||(os={}));var Fe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Fe||(Fe={}));var st;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(st||(st={}));var dn;(function(t){t.websocket="websocket"})(dn||(dn={}));var Ut;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ut||(Ut={}));class Au{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class aa{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(me||(me={}));const Pi=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=ju(o,t,e,n),i),{})},ju=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?la(i,o):fn(o)},la=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Mu(e,s)}switch(t){case me.bool:return $u(e);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return Ru(e);case me.json:case me.jsonb:return Iu(e);case me.timestamp:return Lu(e);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return fn(e);default:return fn(e)}},fn=t=>t,$u=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ru=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Iu=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Mu=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>la(e,a))}return t},Lu=t=>typeof t=="string"?t.replace(" ","T"):t,ca=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Fr{constructor(e,s,r={},n=oa){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ci;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ci||(Ci={}));class Os{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Os.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Os.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Os.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const y=u.map(E=>E.presence_ref),b=h.map(E=>E.presence_ref),f=u.filter(E=>b.indexOf(E.presence_ref)<0),p=h.filter(E=>y.indexOf(E.presence_ref)<0);f.length>0&&(a[c]=f),p.length>0&&(l[c]=p)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(b=>b.presence_ref),y=u.filter(b=>h.indexOf(b.presence_ref)<0);e[a].unshift(...y)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ai;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ai||(Ai={}));var ji;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ji||(ji={}));var mt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class Nn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Fr(this,st.join,this.params,this.timeout),this.rejoinTimer=new aa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Os(this),this.broadcastEndpointURL=ca(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(mt.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(mt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(mt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(h=y==null?void 0:y.length)!==null&&h!==void 0?h:0,f=[];for(let p=0;p<b;p++){const E=y[p],{filter:{event:D,schema:L,table:T,filter:v}}=E,j=u&&u[p];if(j&&j.event===D&&j.schema===L&&j.table===T&&j.filter===v)f.push(Object.assign(Object.assign({},E),{id:j.id}));else{this.unsubscribe(),this.state=Fe.errored,e==null||e(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e(mt.SUBSCRIBED);return}}).receive("error",u=>{this.state=Fe.errored,e==null||e(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const n=new Fr(this,st.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Fr(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=st;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let y=this._onMessage(o,s,r);if(s&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(b=>{var f,p,E;return((f=b.filter)===null||f===void 0?void 0:f.event)==="*"||((E=(p=b.filter)===null||p===void 0?void 0:p.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(b=>b.callback(y,r)):(i=this.bindings[o])===null||i===void 0||i.filter(b=>{var f,p,E,D,L,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const v=b.id,j=(f=b.filter)===null||f===void 0?void 0:f.event;return v&&((p=s.ids)===null||p===void 0?void 0:p.includes(v))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((E=s.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const v=(L=(D=b==null?void 0:b.filter)===null||D===void 0?void 0:D.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return v==="*"||v===((T=s==null?void 0:s.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof y=="object"&&"ids"in y){const f=y.data,{schema:p,table:E,commit_timestamp:D,type:L,errors:T}=f;y=Object.assign(Object.assign({},{schema:p,table:E,commit_timestamp:D,eventType:L,new:{},old:{},errors:T}),this._getPayloadRecords(f))}b.callback(y,r)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Nn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(st.close,{},e)}_onError(e){this._on(st.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Pi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Pi(e.columns,e.old_record)),s}}const $i=()=>{},Du=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Uu{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Ou,this.params={},this.timeout=oa,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$i,this.ref=0,this.logger=$i,this.conn=null,this.sendBuffer=[],this.serializer=new Au,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>qs(async()=>{const{default:l}=await Promise.resolve().then(()=>cs);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${dn.websocket}`,this.httpEndpoint=ca(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new aa(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=hn),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Nu(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pu}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return Ut.Connecting;case os.open:return Ut.Open;case os.closing:return Ut.Closing;default:return Ut.Closed}}isConnected(){return this.connectionState()===Ut.Open}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new Nn(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{s&&r.updateJoinPayload({access_token:s,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(st.access_token,{access_token:s})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Cu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;r==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(st.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Du],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Nu{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=os.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Fn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Fu extends Fn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pn extends Fn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Bu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ua=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>qs(async()=>{const{default:r}=await Promise.resolve().then(()=>cs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},qu=()=>Bu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qs(()=>Promise.resolve().then(()=>cs),void 0)).Response:Response}),gn=t=>{if(Array.isArray(t))return t.map(s=>gn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=gn(r)}),e};var Bt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Br=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hu=(t,e,s)=>Bt(void 0,void 0,void 0,function*(){const r=yield qu();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new Fu(Br(n),t.status||500))}).catch(n=>{e(new pn(Br(n),n))}):e(new pn(Br(t),t))}),Vu=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Hs(t,e,s,r,n,i){return Bt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Vu(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Hu(l,a,r))})})}function gr(t,e,s,r){return Bt(this,void 0,void 0,function*(){return Hs(t,"GET",e,s,r)})}function Tt(t,e,s,r,n){return Bt(this,void 0,void 0,function*(){return Hs(t,"POST",e,r,n,s)})}function Wu(t,e,s,r,n){return Bt(this,void 0,void 0,function*(){return Hs(t,"PUT",e,r,n,s)})}function Ju(t,e,s,r){return Bt(this,void 0,void 0,function*(){return Hs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function ha(t,e,s,r,n){return Bt(this,void 0,void 0,function*(){return Hs(t,"DELETE",e,r,n,s)})}var We=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Ku={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ri={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zu{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=ua(n)}uploadOrUpdate(e,s,r,n){return We(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ri),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),y=yield h.json();return h.ok?{data:{path:c,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(i){if(Oe(i))return{data:null,error:i};throw i}})}upload(e,s,r){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return We(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Ri.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),y=yield h.json();return h.ok?{data:{path:i,fullPath:y.Key},error:null}:{data:null,error:y}}catch(l){if(Oe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return We(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Tt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Fn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}update(e,s,r){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return We(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}copy(e,s,r){return We(this,void 0,void 0,function*(){try{return{data:{path:(yield Tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return We(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Tt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return We(this,void 0,void 0,function*(){try{const n=yield Tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}download(e,s){return We(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield gr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Oe(a))return{data:null,error:a};throw a}})}info(e){return We(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield gr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:gn(r),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}exists(e){return We(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Ju(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Oe(r)&&r instanceof pn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return We(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}list(e,s,r){return We(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Ku),s),{prefix:e||""});return{data:yield Tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Gu="2.7.1",Yu={"X-Client-Info":`storage-js/${Gu}`};var zt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Qu{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Yu),s),this.fetch=ua(r)}listBuckets(){return zt(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Oe(e))return{data:null,error:e};throw e}})}getBucket(e){return zt(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return zt(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return zt(this,void 0,void 0,function*(){try{return{data:yield Wu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return zt(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return zt(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}}class Xu extends Qu{constructor(e,s={},r){super(e,s,r)}from(e){return new zu(this.url,this.headers,e,this.fetch)}}const Zu="2.50.0";let ys="";typeof Deno<"u"?ys="deno":typeof document<"u"?ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ys="react-native":ys="node";const eh={"X-Client-Info":`supabase-js-${ys}/${Zu}`},th={headers:eh},sh={schema:"public"},rh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nh={};var ih=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const oh=t=>{let e;return t?e=t:typeof fetch>"u"?e=ea:e=fetch,(...s)=>e(...s)},ah=()=>typeof Headers>"u"?ta:Headers,lh=(t,e,s)=>{const r=oh(s),n=ah();return(i,o)=>ih(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var ch=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function uh(t){return t.endsWith("/")?t:t+"/"}function hh(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,y={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ch(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const da="2.70.0",es=30*1e3,mn=3,qr=mn*es,dh="http://localhost:9999",fh="supabase.auth.token",ph={"X-Client-Info":`gotrue-js/${da}`},_n="X-Supabase-Api-Version",fa={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mh=6e5;class Bn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function X(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _h extends Bn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function vh(t){return X(t)&&t.name==="AuthApiError"}class pa extends Bn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class $t extends Bn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class St extends $t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yh(t){return X(t)&&t.name==="AuthSessionMissingError"}class Qs extends $t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xs extends $t{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zs extends $t{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bh(t){return X(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ii extends $t{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vn extends $t{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Hr(t){return X(t)&&t.name==="AuthRetryableFetchError"}class Mi extends $t{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Ps extends $t{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Li=` 	
\r=`.split(""),wh=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Li.length;e+=1)t[Li[e].charCodeAt(0)]=-2;for(let e=0;e<mr.length;e+=1)t[mr[e].charCodeAt(0)]=e;return t})();function Di(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(mr[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(mr[r]),e.queuedBits-=6}}function ga(t,e,s){const r=wh[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ui(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{xh(o,r,s)};for(let o=0;o<t.length;o+=1)ga(t.charCodeAt(o),n,i);return e.join("")}function Sh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function kh(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Sh(r,e)}}function xh(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Th(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)ga(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Eh(t){const e=[];return kh(t,s=>e.push(s)),new Uint8Array(e)}function Oh(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>Di(n,s,r)),Di(null,s,r),e.join("")}function Ph(t){return Math.round(Date.now()/1e3)+t}function Ch(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const tt=()=>typeof window<"u"&&typeof document<"u",Mt={tested:!1,writable:!1},Cs=()=>{if(!tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mt.tested)return Mt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Mt.tested=!0,Mt.writable=!0}catch{Mt.tested=!0,Mt.writable=!1}return Mt.writable};function Ah(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const ma=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>qs(async()=>{const{default:r}=await Promise.resolve().then(()=>cs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},jh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_a=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},er=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},tr=async(t,e)=>{await t.removeItem(e)};class Pr{constructor(){this.promise=new Pr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Pr.promiseConstructor=Promise;function Vr(t){const e=t.split(".");if(e.length!==3)throw new Ps("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!gh.test(e[r]))throw new Ps("JWT not in base64url format");return{header:JSON.parse(Ui(e[0])),payload:JSON.parse(Ui(e[1])),signature:Th(e[2]),raw:{header:e[0],payload:e[1]}}}async function $h(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Rh(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Ih(t){return("0"+t.toString(16)).substr(-2)}function Mh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Ih).join("")}async function Lh(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Dh(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Lh(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gt(t,e,s=!1){const r=Mh();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await _a(t,`${e}-code-verifier`,n);const i=await Dh(r);return[i,r===i?"plain":"s256"]}const Uh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Nh(t){const e=t.headers.get(_n);if(!e||!e.match(Uh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Fh(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Bh(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qh=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yt(t){if(!qh.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Hh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Dt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Vh=[502,503,504];async function Ni(t){var e;if(!jh(t))throw new vn(Dt(t),0);if(Vh.includes(t.status))throw new vn(Dt(t),t.status);let s;try{s=await t.json()}catch(i){throw new pa(Dt(i),i)}let r;const n=Nh(t);if(n&&n.getTime()>=fa["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Mi(Dt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new St}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Mi(Dt(s),t.status,s.weak_password.reasons);throw new _h(Dt(s),t.status||500,r)}const Wh=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function se(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[_n]||(i[_n]=fa["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Jh(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Jh(t,e,s,r,n,i){const o=Wh(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new vn(Dt(l),0)}if(a.ok||await Ni(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ni(l)}}function pt(t){var e;let s=null;Yh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Ph(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Fi(t){const e=pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Et(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Kh(t){return{data:t,error:null}}function zh(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Hh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Gh(t){return t}function Yh(t){return t.access_token&&t.refresh_token&&t.expires_in}const Wr=["global","local","others"];var Qh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Xh{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=ma(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=Wr[0]){if(Wr.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wr.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Et})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Qh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:zh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(X(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Et})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Gh});if(u.error)throw u.error;const h=await u.json(),y=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return b.length>0&&(b.forEach(f=>{const p=parseInt(f.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(f.split(";")[1].split("=")[1]);c[`${E}Page`]=p}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(X(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Yt(e);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Et})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Yt(e);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Et})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Yt(e);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Et})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Yt(e.userId);try{const{data:s,error:r}=await se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Yt(e.userId),Yt(e.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}}const Zh={getItem:t=>Cs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Cs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Cs()&&globalThis.localStorage.removeItem(t)}};function Bi(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function ed(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qt={debug:!!(globalThis&&Cs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class va extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class td extends va{}async function sd(t,e,s){Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new td(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Qt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}ed();const rd={url:dh,storageKey:fh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ph,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qi(t,e,s){return await s()}class Us{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Us.nextInstanceID,Us.nextInstanceID+=1,this.instanceID>0&&tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},rd),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Xh({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ma(n.fetch),this.lock=n.lock||qi,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:tt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=sd:this.lock=qi,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Cs()?this.storage=Zh:(this.memoryStorage={},this.storage=Bi(this.memoryStorage)):(this.memoryStorage={},this.storage=Bi(this.memoryStorage)),tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${da}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Ah(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),tt()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bh(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return X(s)?{error:s}:{error:new pa("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:pt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:u,password:h,options:y}=e;let b=null,f=null;this.flowType==="pkce"&&([b,f]=await Gt(this.storage,this.storageKey)),i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:u,password:h,data:(s=y==null?void 0:y.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:b,code_challenge_method:f},xform:pt})}else if("phone"in e){const{phone:u,password:h,options:y}=e;i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(n=y==null?void 0:y.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:pt})}else throw new Xs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fi})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fi})}else throw new Xs("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Qs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,i,o,a,l,c,u,h,y,b;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:E,wallet:D,statement:L,options:T}=e;let v;if(tt())if(typeof D=="object")v=D;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))v=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=D}const j=new URL((s=T==null?void 0:T.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in v&&v.signIn){const F=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),L?{statement:L}:null));let W;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")W=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)W=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)f=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),p=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${j.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(n=(r=T==null?void 0:T.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=T==null?void 0:T.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((a=T==null?void 0:T.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((h=(u=T==null?void 0:T.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...T.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const F=await v.signMessage(new TextEncoder().encode(f),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=F}}try{const{data:E,error:D}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Oh(p)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:pt});if(D)throw D;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Qs}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:D})}catch(E){if(X(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const s=await er(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:pt});if(await tr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Qs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(X(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:pt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Qs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Gt(this.storage,this.storageKey));const{error:h}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Xs("You must provide either an email or phone number.")}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:pt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(X(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Gt(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Kh})}catch(i){if(X(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new St;const{error:n}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(X(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await se(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await se(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Xs("You must provide either an email or phone number and a type")}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await er(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<qr:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Et}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Et})})}catch(s){if(X(s))return yh(s)&&(await this._removeSession(),await tr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new St;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Gt(this.storage,this.storageKey));const{data:c,error:u}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Et});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new St;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=Vr(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(X(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new St;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(X(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!tt())throw new Zs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ii("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ii("No code detected.");const{data:L,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Zs("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let y=u+h;l&&(y=parseInt(l));const b=y-u;b*1e3<=es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${h}s`);const f=y-h;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,y,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,y,u);const{data:p,error:E}=await this._getUser(i);if(E)throw E;const D={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:y,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:e.type},error:null}}catch(r){if(X(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await er(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(vh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await tr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Ch(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Gt(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(X(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:y}=i;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",b,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return tt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(X(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Rh(async n=>(n>0&&await $h(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Hr(i)&&Date.now()+o-r<es})}catch(r){if(this._debug(s,"error",r),X(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),tt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await er(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<qr;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${qr}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Hr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Pr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new St;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),X(i)){const o={session:null,error:i};return Hr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _a(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await tr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),es);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${es}ms, refresh threshold is ${mn} ticks`),n<=mn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof va)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await se(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(X(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(X(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Vr(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+mh>Date.now()))return r;const{data:n,error:i}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Ps("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new Ps("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:b,error:f}=await this.getSession();if(f||!b.session)return{data:null,error:f};r=b.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Vr(r);if(Fh(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:i,header:n,signature:o},error:null}}const c=Bh(n.alg),u=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Eh(`${a}.${l}`)))throw new Ps("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}}Us.nextInstanceID=0;const nd=Us;class id extends nd{constructor(e){super(e)}}var od=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class ad{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=uh(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:sh,realtime:nh,auth:Object.assign(Object.assign({},rh),{storageKey:c}),global:th},h=hh(r??{},u);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=lh(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Tu(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new hu(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Xu(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return od(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new id({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Uu(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ld=(t,e,s)=>new ad(t,e,s),cd="https://kueodidcmdsxaoctjtug.supabase.co/",ud="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt1ZW9kaWRjbWRzeGFvY3RqdHVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk2NzE0NzYsImV4cCI6MjA2NTI0NzQ3Nn0.zuRgrGhf-PwpeX_1yJaUxXda4-uKw4Fk6gxrhcelpZI",qn=ld(cd,ud),hd="admin@monapp.local";async function dd(t){const{data:e,error:s}=await qn.auth.signInWithPassword({email:hd,password:t});return s?(console.error("Erreur login:",s.message),!1):!0}const fd={class:"final-scores"},pd={class:"final-player-name-above"},gd={key:0},md={key:1},_d={key:2},vd={key:3},yd={class:"final-player-score"},bd=["src"],wd={class:"final-player-info"},Sd={class:"final-player-stats"},kd={class:"stat-badge"},xd={class:"stat-badge"},Td={class:"stat-badge"},Ed={class:"stat-badge"},Od={class:"stat-badge"},Pd={class:"stat-badge"},Cd={class:"stat-badge"},Ad={class:"stat-badge"},jd={class:"stat-badge"},$d={class:"stat-badge"},Rd={key:0,class:"stat-badge awsome-badge"},Id={key:1,class:"stat-badge awsome-badge"},Md={key:2,class:"stat-badge awsome-badge"},Ld={key:3,class:"stat-badge awsome-badge"},Dd={key:4,class:"stat-badge awsome-badge"},Ud={key:5,class:"stat-badge awsome-badge"},Nd={key:0,class:"action-buttons"},Fd={__name:"GameStats",props:["sortedPlayers","humanPlayersSorted","robotName","stats","role"],setup(t){const e=t;async function s(){const n=Date.now();console.log(e.sortedPlayers);const i=e.sortedPlayers.map(l=>({player_id:l.id,name:l.name,timestamp:n,score:l.totalScore,hits:l.scores})),{data:o,error:a}=await qn.from("scores").insert(i)}function r(){window.location.reload()}return e.role==="admin"&&s(),(n,i)=>(K(),Z("div",null,[i[1]||(i[1]=m("h2",null,"Partie termine",-1)),m("ul",fd,[(K(!0),Z(Me,null,Is(t.sortedPlayers,(o,a)=>{var l,c,u,h;return K(),Z("li",{key:o.name,class:"final-score-item"},[m("div",pd,[o.name!==t.robotName?(K(),Z(Me,{key:0},[((l=t.humanPlayersSorted[0])==null?void 0:l.name)===o.name?(K(),Z("span",gd,"")):((c=t.humanPlayersSorted[1])==null?void 0:c.name)===o.name?(K(),Z("span",md,"")):((u=t.humanPlayersSorted[2])==null?void 0:u.name)===o.name?(K(),Z("span",_d,"")):((h=t.humanPlayersSorted[3])==null?void 0:h.name)===o.name?(K(),Z("span",vd,"")):be("",!0)],64)):be("",!0),rt(" "+x(o.name),1)]),m("span",yd,x(o.totalScore)+" pts",1),m("img",{src:o.avatar,alt:"avatar",class:"final-avatar-large"},null,8,bd),m("div",wd,[m("div",Sd,[m("span",kd,"Hits : "+x(t.stats(o).hits)+"/"+x(t.stats(o).total),1),m("span",xd,"Hits (F1) : "+x(t.stats(o).hitsF1)+"/"+x(t.stats(o).total/3),1),m("span",Td,"Hits (F2) : "+x(t.stats(o).hitsF2)+"/"+x(t.stats(o).total/3),1),m("span",Ed,"Hits (F3) : "+x(t.stats(o).hitsF3)+"/"+x(t.stats(o).total/3),1),m("span",Od,"Miss : "+x(t.stats(o).miss),1),m("span",Pd,"Streak : "+x(t.stats(o).strk),1),m("span",Cd,"Streak loose : "+x(t.stats(o).strkloose),1),m("span",Ad,"Single : "+x(t.stats(o).single),1),m("span",jd,"Double : "+x(t.stats(o).double),1),m("span",$d,"Triple : "+x(t.stats(o).triple),1),t.stats(o).shangai>=1?(K(),Z("span",Rd,"Shangai : "+x(t.stats(o).shangai),1)):be("",!0),t.stats(o).ttt>=1?(K(),Z("span",Id,"ttt : "+x(t.stats(o).ttt),1)):be("",!0),t.stats(o).ddd>=1?(K(),Z("span",Md,"ddd : "+x(t.stats(o).ddd),1)):be("",!0),t.stats(o).tt>=1?(K(),Z("span",Ld,"tt : "+x(t.stats(o).tt),1)):be("",!0),t.stats(o).dd>=1?(K(),Z("span",Dd,"dd : "+x(t.stats(o).dd),1)):be("",!0),t.stats(o).curses>=1?(K(),Z("span",Ud," : "+x(t.stats(o).curses),1)):be("",!0)])])])}),128))]),m("p",null,[m("button",{onClick:r},"Rejouer")]),t.role==="admin"?(K(),Z("div",Nd,[m("a",{href:"#",onClick:i[0]||(i[0]=Ds(o=>n.$emit("view-scores"),["prevent"])),class:"link-button"},"Voir le classement")])):be("",!0)]))}},Bd=Bs(Fd,[["__scopeId","data-v-9a33e7e3"]]);function qd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ya(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hd(t,e){let s=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++s;else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&++s}return s}class Vd extends Map{constructor(e,s=Kd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),e!=null)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(Hi(this,e))}has(e){return super.has(Hi(this,e))}set(e,s){return super.set(Wd(this,e),s)}delete(e){return super.delete(Jd(this,e))}}function Hi({_intern:t,_key:e},s){const r=e(s);return t.has(r)?t.get(r):s}function Wd({_intern:t,_key:e},s){const r=e(s);return t.has(r)?t.get(r):(t.set(r,s),s)}function Jd({_intern:t,_key:e},s){const r=e(s);return t.has(r)&&(s=t.get(r),t.delete(r)),s}function Kd(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Vi(t){return t}function zd(t,...e){return Gd(t,Vi,Vi,e)}function Gd(t,e,s,r){return function n(i,o){if(o>=r.length)return s(i);const a=new Vd,l=r[o++];let c=-1;for(const u of i){const h=l(u,++c,i),y=a.get(h);y?y.push(u):a.set(h,[u])}for(const[u,h]of a)a.set(u,n(h,o));return e(a)}(t,0)}function Yd(t,e){let s;if(e===void 0)for(const r of t)r!=null&&(s<r||s===void 0&&r>=r)&&(s=r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(s<n||s===void 0&&n>=n)&&(s=n)}return s}function Qd(t,e){let s;if(e===void 0)for(const r of t)r!=null&&(s>r||s===void 0&&r>=r)&&(s=r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(s>n||s===void 0&&n>=n)&&(s=n)}return s}function ba(t,e){let s=0,r=0;if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(++s,r+=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(i=+i)>=i&&(++s,r+=i)}if(s)return r/s}function Xd(t,e){let s=0;if(e===void 0)for(let r of t)(r=+r)&&(s+=r);else{let r=-1;for(let n of t)(n=+e(n,++r,t))&&(s+=n)}return s}const wa=Object.assign({},{mean:ba,descending:ya});function or(t){t=t.flat();let e=0,s=0;for(let r=0;r<t.length;r++)t[r]!==0?(s++,s>e&&(e=s)):s=0;return e}function ar(t){t=t.flat();let e=0,s=0;for(let r=0;r<t.length;r++)t[r]===0?(s++,s>e&&(e=s)):s=0;return e}function Wi(){const t=new Date,e=t.getFullYear(),s=t.getMonth(),n=(s>=8?new Date(e,8,1):new Date(e-1,8,1)).getTime(),o=(s<=6?new Date(e,6,31):new Date(e+1,6,31)).getTime();return{septFirstLastYear:n,july31Next:o}}function Jr(t){return t.filter(e=>{const s=[0,0,0,0];return e.forEach(r=>s[r]++),s[1]===1&&s[2]===1&&s[3]===1}).length}function Kr(t){return t.filter(e=>{const s=[0,0,0,0];return e.forEach(r=>s[r]++),s[3]===2}).length}function zr(t){return t.filter(e=>{const s=[0,0,0,0];return e.forEach(r=>s[r]++),s[3]===3}).length}function Gr(t){return t.filter(e=>{const s=[0,0,0,0];return e.forEach(r=>s[r]++),s[2]===2}).length}function Yr(t){return t.filter(e=>{const s=[0,0,0,0];return e.forEach(r=>s[r]++),s[2]===3}).length}function Qr(t,e,s){let r=s.filter(i=>e.map(o=>o.timestamp).includes(i.timestamp)).map(i=>({timestamp:i.timestamp,name:i.name,score:i.score})),n=0;return e.map(i=>i.timestamp).forEach(i=>{r.filter(a=>a.timestamp==i).slice().sort((a,l)=>wa.descending(a.score,l.score)).map(a=>a)[1].name==t&&n++}),n/e.length*100}function Zd(t){const e=[...new Set(t.map(n=>n.name))];let s=[];return e.forEach(n=>{const i=t.filter(o=>o.name==n).map(o=>o.score).sort((o,a)=>a-o).slice(0,10);s.push({name:n,scores:i,mean:wa.mean(i)})}),s.filter(n=>n.scores.length>=10).sort((n,i)=>i.mean-n.mean).filter(n=>n.name!=="Number One")}function ef(t){let e="<table>";return e+="<tbody>",[...t].forEach((s,r)=>{if(e+=`<tr><td>${oe(r+1)} ${s.name}</td><td>${s.mean}</td></tr>`,s.scores&&s.scores.length){const n=s.scores.sort().join(", ");e+=`<tr><td colspan="2" style="font-size: 0.75em; color: #666;">${n}</td></tr>`}}),e+="</tbody>",e+="</table>",e}function tf(t){let e="<table>";return e+="<tbody>",[...t].forEach((s,r)=>{if(e+=`<tr><td>${oe(r+1)} ${s.name}</td><td>${s.mean_last}</td></tr>`,s.data_last&&s.data_last.length){const n=s.data_last.join(", ");e+=`<tr><td colspan="2" style="font-size: 0.75em; color: #666;">${n}</td></tr>`}}),e+="</tbody>",e+="</table>",e}function oe(t){switch(t){case 1:return"";case 2:return"";case 3:return"";case 4:return"";default:return""}}var Vs={};(function t(e,s,r,n){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var S=new OffscreenCanvas(1,1),_=S.getContext("2d");_.fillRect(0,0,1,1);var N=S.transferToImageBitmap();try{_.createPattern(N,"no-repeat")}catch{return!1}return!0}();function l(){}function c(S){var _=s.exports.Promise,N=_!==void 0?_:e.Promise;return typeof N=="function"?new N(S):(S(l,l),null)}var u=function(S,_){return{transform:function(N){if(S)return N;if(_.has(N))return _.get(N);var M=new OffscreenCanvas(N.width,N.height),H=M.getContext("2d");return H.drawImage(N,0,0),_.set(N,M),M},clear:function(){_.clear()}}}(a,new Map),h=function(){var S=Math.floor(16.666666666666668),_,N,M={},H=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(_=function(Y){var G=Math.random();return M[G]=requestAnimationFrame(function V(Q){H===Q||H+S-1<Q?(H=Q,delete M[G],Y()):M[G]=requestAnimationFrame(V)}),G},N=function(Y){M[Y]&&cancelAnimationFrame(M[Y])}):(_=function(Y){return setTimeout(Y,S)},N=function(Y){return clearTimeout(Y)}),{frame:_,cancel:N}}(),y=function(){var S,_,N={};function M(H){function Y(G,V){H.postMessage({options:G||{},callback:V})}H.init=function(V){var Q=V.transferControlToOffscreen();H.postMessage({canvas:Q},[Q])},H.fire=function(V,Q,ae){if(_)return Y(V,null),_;var le=Math.random().toString(36).slice(2);return _=c(function(fe){function d(g){g.data.callback===le&&(delete N[le],H.removeEventListener("message",d),_=null,u.clear(),ae(),fe())}H.addEventListener("message",d),Y(V,le),N[le]=d.bind(null,{data:{callback:le}})}),_},H.reset=function(){H.postMessage({reset:!0});for(var V in N)N[V](),delete N[V]}}return function(){if(S)return S;if(!r&&i){var H=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{S=new Worker(URL.createObjectURL(new Blob([H])))}catch(Y){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",Y),null}M(S)}return S}}(),b={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function f(S,_){return _?_(S):S}function p(S){return S!=null}function E(S,_,N){return f(S&&p(S[_])?S[_]:b[_],N)}function D(S){return S<0?0:Math.floor(S)}function L(S,_){return Math.floor(Math.random()*(_-S))+S}function T(S){return parseInt(S,16)}function v(S){return S.map(j)}function j(S){var _=String(S).replace(/[^0-9a-f]/gi,"");return _.length<6&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]),{r:T(_.substring(0,2)),g:T(_.substring(2,4)),b:T(_.substring(4,6))}}function F(S){var _=E(S,"origin",Object);return _.x=E(_,"x",Number),_.y=E(_,"y",Number),_}function W(S){S.width=document.documentElement.clientWidth,S.height=document.documentElement.clientHeight}function ge(S){var _=S.getBoundingClientRect();S.width=_.width,S.height=_.height}function De(S){var _=document.createElement("canvas");return _.style.position="fixed",_.style.top="0px",_.style.left="0px",_.style.pointerEvents="none",_.style.zIndex=S,_}function xe(S,_,N,M,H,Y,G,V,Q){S.save(),S.translate(_,N),S.rotate(Y),S.scale(M,H),S.arc(0,0,1,G,V,Q),S.restore()}function re(S){var _=S.angle*(Math.PI/180),N=S.spread*(Math.PI/180);return{x:S.x,y:S.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:S.startVelocity*.5+Math.random()*S.startVelocity,angle2D:-_+(.5*N-Math.random()*N),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:S.color,shape:S.shape,tick:0,totalTicks:S.ticks,decay:S.decay,drift:S.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:S.gravity*3,ovalScalar:.6,scalar:S.scalar,flat:S.flat}}function Pe(S,_){_.x+=Math.cos(_.angle2D)*_.velocity+_.drift,_.y+=Math.sin(_.angle2D)*_.velocity+_.gravity,_.velocity*=_.decay,_.flat?(_.wobble=0,_.wobbleX=_.x+10*_.scalar,_.wobbleY=_.y+10*_.scalar,_.tiltSin=0,_.tiltCos=0,_.random=1):(_.wobble+=_.wobbleSpeed,_.wobbleX=_.x+10*_.scalar*Math.cos(_.wobble),_.wobbleY=_.y+10*_.scalar*Math.sin(_.wobble),_.tiltAngle+=.1,_.tiltSin=Math.sin(_.tiltAngle),_.tiltCos=Math.cos(_.tiltAngle),_.random=Math.random()+2);var N=_.tick++/_.totalTicks,M=_.x+_.random*_.tiltCos,H=_.y+_.random*_.tiltSin,Y=_.wobbleX+_.random*_.tiltCos,G=_.wobbleY+_.random*_.tiltSin;if(S.fillStyle="rgba("+_.color.r+", "+_.color.g+", "+_.color.b+", "+(1-N)+")",S.beginPath(),o&&_.shape.type==="path"&&typeof _.shape.path=="string"&&Array.isArray(_.shape.matrix))S.fill(de(_.shape.path,_.shape.matrix,_.x,_.y,Math.abs(Y-M)*.1,Math.abs(G-H)*.1,Math.PI/10*_.wobble));else if(_.shape.type==="bitmap"){var V=Math.PI/10*_.wobble,Q=Math.abs(Y-M)*.1,ae=Math.abs(G-H)*.1,le=_.shape.bitmap.width*_.scalar,fe=_.shape.bitmap.height*_.scalar,d=new DOMMatrix([Math.cos(V)*Q,Math.sin(V)*Q,-Math.sin(V)*ae,Math.cos(V)*ae,_.x,_.y]);d.multiplySelf(new DOMMatrix(_.shape.matrix));var g=S.createPattern(u.transform(_.shape.bitmap),"no-repeat");g.setTransform(d),S.globalAlpha=1-N,S.fillStyle=g,S.fillRect(_.x-le/2,_.y-fe/2,le,fe),S.globalAlpha=1}else if(_.shape==="circle")S.ellipse?S.ellipse(_.x,_.y,Math.abs(Y-M)*_.ovalScalar,Math.abs(G-H)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI):xe(S,_.x,_.y,Math.abs(Y-M)*_.ovalScalar,Math.abs(G-H)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI);else if(_.shape==="star")for(var w=Math.PI/2*3,P=4*_.scalar,O=8*_.scalar,C=_.x,I=_.y,R=5,$=Math.PI/R;R--;)C=_.x+Math.cos(w)*O,I=_.y+Math.sin(w)*O,S.lineTo(C,I),w+=$,C=_.x+Math.cos(w)*P,I=_.y+Math.sin(w)*P,S.lineTo(C,I),w+=$;else S.moveTo(Math.floor(_.x),Math.floor(_.y)),S.lineTo(Math.floor(_.wobbleX),Math.floor(H)),S.lineTo(Math.floor(Y),Math.floor(G)),S.lineTo(Math.floor(M),Math.floor(_.wobbleY));return S.closePath(),S.fill(),_.tick<_.totalTicks}function Se(S,_,N,M,H){var Y=_.slice(),G=S.getContext("2d"),V,Q,ae=c(function(le){function fe(){V=Q=null,G.clearRect(0,0,M.width,M.height),u.clear(),H(),le()}function d(){r&&!(M.width===n.width&&M.height===n.height)&&(M.width=S.width=n.width,M.height=S.height=n.height),!M.width&&!M.height&&(N(S),M.width=S.width,M.height=S.height),G.clearRect(0,0,M.width,M.height),Y=Y.filter(function(g){return Pe(G,g)}),Y.length?V=h.frame(d):fe()}V=h.frame(d),Q=fe});return{addFettis:function(le){return Y=Y.concat(le),ae},canvas:S,promise:ae,reset:function(){V&&h.cancel(V),Q&&Q()}}}function Ce(S,_){var N=!S,M=!!E(_||{},"resize"),H=!1,Y=E(_,"disableForReducedMotion",Boolean),G=i&&!!E(_||{},"useWorker"),V=G?y():null,Q=N?W:ge,ae=S&&V?!!S.__confetti_initialized:!1,le=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,fe;function d(w,P,O){for(var C=E(w,"particleCount",D),I=E(w,"angle",Number),R=E(w,"spread",Number),$=E(w,"startVelocity",Number),A=E(w,"decay",Number),q=E(w,"gravity",Number),U=E(w,"drift",Number),B=E(w,"colors",v),J=E(w,"ticks",Number),te=E(w,"shapes"),ce=E(w,"scalar"),ne=!!E(w,"flat"),Te=F(w),ke=C,je=[],Ve=S.width*Te.x,dt=S.height*Te.y;ke--;)je.push(re({x:Ve,y:dt,angle:I,spread:R,startVelocity:$,color:B[ke%B.length],shape:te[L(0,te.length)],ticks:J,decay:A,gravity:q,drift:U,scalar:ce,flat:ne}));return fe?fe.addFettis(je):(fe=Se(S,je,Q,P,O),fe.promise)}function g(w){var P=Y||E(w,"disableForReducedMotion",Boolean),O=E(w,"zIndex",Number);if(P&&le)return c(function($){$()});N&&fe?S=fe.canvas:N&&!S&&(S=De(O),document.body.appendChild(S)),M&&!ae&&Q(S);var C={width:S.width,height:S.height};V&&!ae&&V.init(S),ae=!0,V&&(S.__confetti_initialized=!0);function I(){if(V){var $={getBoundingClientRect:function(){if(!N)return S.getBoundingClientRect()}};Q($),V.postMessage({resize:{width:$.width,height:$.height}});return}C.width=C.height=null}function R(){fe=null,M&&(H=!1,e.removeEventListener("resize",I)),N&&S&&(document.body.contains(S)&&document.body.removeChild(S),S=null,ae=!1)}return M&&!H&&(H=!0,e.addEventListener("resize",I,!1)),V?V.fire(w,C,R):d(w,C,R)}return g.reset=function(){V&&V.reset(),fe&&fe.reset()},g}var ze;function ye(){return ze||(ze=Ce(null,{useWorker:!0,resize:!0})),ze}function de(S,_,N,M,H,Y,G){var V=new Path2D(S),Q=new Path2D;Q.addPath(V,new DOMMatrix(_));var ae=new Path2D;return ae.addPath(Q,new DOMMatrix([Math.cos(G)*H,Math.sin(G)*H,-Math.sin(G)*Y,Math.cos(G)*Y,N,M])),ae}function ie(S){if(!o)throw new Error("path confetti are not supported in this browser");var _,N;typeof S=="string"?_=S:(_=S.path,N=S.matrix);var M=new Path2D(_),H=document.createElement("canvas"),Y=H.getContext("2d");if(!N){for(var G=1e3,V=G,Q=G,ae=0,le=0,fe,d,g=0;g<G;g+=2)for(var w=0;w<G;w+=2)Y.isPointInPath(M,g,w,"nonzero")&&(V=Math.min(V,g),Q=Math.min(Q,w),ae=Math.max(ae,g),le=Math.max(le,w));fe=ae-V,d=le-Q;var P=10,O=Math.min(P/fe,P/d);N=[O,0,0,O,-Math.round(fe/2+V)*O,-Math.round(d/2+Q)*O]}return{type:"path",path:_,matrix:N}}function Ge(S){var _,N=1,M="#000000",H='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof S=="string"?_=S:(_=S.text,N="scalar"in S?S.scalar:N,H="fontFamily"in S?S.fontFamily:H,M="color"in S?S.color:M);var Y=10*N,G=""+Y+"px "+H,V=new OffscreenCanvas(Y,Y),Q=V.getContext("2d");Q.font=G;var ae=Q.measureText(_),le=Math.ceil(ae.actualBoundingBoxRight+ae.actualBoundingBoxLeft),fe=Math.ceil(ae.actualBoundingBoxAscent+ae.actualBoundingBoxDescent),d=2,g=ae.actualBoundingBoxLeft+d,w=ae.actualBoundingBoxAscent+d;le+=d+d,fe+=d+d,V=new OffscreenCanvas(le,fe),Q=V.getContext("2d"),Q.font=G,Q.fillStyle=M,Q.fillText(_,g,w);var P=1/N;return{type:"bitmap",bitmap:V.transferToImageBitmap(),matrix:[P,0,0,P,-le*P/2,-fe*P/2]}}s.exports=function(){return ye().apply(this,arguments)},s.exports.reset=function(){ye().reset()},s.exports.create=Ce,s.exports.shapeFromPath=ie,s.exports.shapeFromText=Ge})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Vs,!1);const sf=Vs.exports;Vs.exports.create;const rf={key:0,style:{"font-size":"0.8rem",color:"gray","text-align":"center","margin-bottom":"-10px"}},nf={class:"container"},of={key:0},af={class:"round-circle"},lf={class:"avatar-lineup"},cf=["src","alt"],uf={key:0,class:"buttons"},hf=["onClick"],df=["onClick"],ff=["onClick"],pf=["onClick"],gf={key:0,id:"submitScoreContainer"},mf={key:1},_f=20,Re="Number One",vf="https://cdn-icons-png.flaticon.com/512/4712/4712027.png",yf={__name:"Game",props:{players:Array,role:String},setup(t){let e=0;function s(v){e=v.touches[0].clientY}function r(v){const j=v.touches[0].clientY;window.scrollY===0&&j>e&&v.preventDefault()}xr(()=>{window.addEventListener("touchstart",s,{passive:!1}),window.addEventListener("touchmove",r,{passive:!1})}),Po(()=>{window.removeEventListener("touchstart",s),window.removeEventListener("touchmove",r)});const n=t,i=Ke(1),o=Ke(0),a=Ke([0,0,0]);let l=0;Ts(()=>n.players.length,v=>{const j=n.players.findIndex(F=>F.name===Re);v>1&&j===-1?n.players.push({id:0,name:Re,avatar:vf,scores:[],totalScore:0}):v<=1&&j!==-1&&(n.players.splice(j,1),o.value>=n.players.length&&(o.value=0))},{immediate:!0}),n.players.forEach(v=>{v.scores||(v.scores=[]),v.curses||(v.curses=0),v.totalScore===void 0&&(v.totalScore=0)});function c(v){const j=v.scores.flat(),F=or(j),W=ar(j),ge=j.length,De=j.filter(M=>M===0).length,xe=j.filter(M=>M!==0).length,re=v.scores.map(M=>M[0]).filter(M=>M!==0).length,Pe=v.scores.map(M=>M[1]).filter(M=>M!==0).length,Se=v.scores.map(M=>M[2]).filter(M=>M!==0).length,Ce=j.filter(M=>M===1).length,ze=j.filter(M=>M===2).length,ye=j.filter(M=>M===3).length,de=v.scores.filter(M=>M.filter(H=>H===3).length===3).length,ie=v.scores.filter(M=>M.filter(H=>H===3).length===2).length,Ge=v.scores.filter(M=>M.filter(H=>H===2).length===3).length,S=v.scores.filter(M=>M.filter(H=>H===2).length===2).length,_=v.scores.filter(M=>{const H=new Set(M);return H.has(1)&&H.has(2)&&H.has(3)}).length,N=v.curses;return{total:ge,hits:xe,hitsF1:re,hitsF2:Pe,hitsF3:Se,miss:De,single:Ce,double:ze,triple:ye,shangai:_,ttt:de,ddd:Ge,tt:ie,dd:S,strk:F,strkloose:W,curses:N}}function u(v,j){a.value[v]=j,navigator.vibrate&&navigator.vibrate(30)}const h=vs(()=>{const v=i.value;return a.value.reduce((j,F)=>j+F*v,0)});function y(){navigator.vibrate&&navigator.vibrate(30);const v=n.players[o.value];if(v.name===Re){const W=n.players.filter(re=>re.name!==Re).map(re=>re.scores[re.scores.length-1]),ge=W.map(re=>re[0]+re[1]+re[2]),De=ge.indexOf(Math.max(...ge)),xe=W[De];a.value=[...xe]}const j=[...a.value];v.scores.push(j),v.totalScore+=h.value,new Set(j).has(1)&&new Set(j).has(2)&&new Set(j).has(3)&&v.name!==Re&&sf({particleCount:150,spread:90,origin:{y:.6}}),a.value=[0,0,0],o.value<n.players.length-1?o.value++:(o.value=0,i.value++),l=Math.max(...n.players.filter(W=>W.name!==Re).map(W=>W.totalScore))}function b(){if(i.value===1&&o.value===0)return;let v=o.value,j=i.value;function F(re){const Pe=n.players.length;for(let Se=1;Se<=Pe;Se++){const Ce=(re-Se+Pe)%Pe;if(n.players[Ce].name!==Re)return Ce}return re}const W=n.players.findIndex(re=>re.name===Re);let ge=!1;if(v===0){if(j===1)return;j-=1,v=F(n.players.length),ge=!0}else v=F(v);o.value=v,i.value=j;const De=n.players[v],xe=De.scores.pop();if(xe){const re=j,Pe=xe.reduce((Se,Ce)=>Se+Ce*re,0);De.totalScore-=Pe}if(ge&&W!==-1){const re=n.players[W];if(re.scores.length>0){const Se=re.scores[re.scores.length-1].reduce((Ce,ze)=>Ce+ze*j,0);re.totalScore-=Se,re.scores.pop()}}a.value=[0,0,0]}function f(){const v=n.players[o.value];v.name!==Re&&(v.curses+=1)}const p=vs(()=>i.value>_f),E=vs(()=>[...n.players].sort((v,j)=>j.totalScore-v.totalScore));Ts(o,async v=>{n.players[v].name===Re&&!p.value&&(await yo(),y())});const D=vs(()=>n.players.filter(v=>v.name!==Re).sort((v,j)=>j.totalScore-v.totalScore));function L(v){const j=new Map([[1,"Ain"],[2,"Aisne"],[3,"Allier"],[4,"Alpes-de-Haute-Provence"],[5,"Hautes-Alpes"],[6,"Alpes-Maritimes"],[7,"Ardche"],[8,"Ardennes"],[9,"Arige"],[10,"Aube"],[11,"Aude"],[12,"Aveyron"],[13,"Bouches-du-Rhne"],[14,"Calvados"],[15,"Cantal"],[16,"Charente"],[17,"Charente-Maritime"],[18,"Cher"],[19,"Corrze"],[20,"Corse (2A Corse-du-Sud, 2B Haute-Corse)"],[21,"Cte-d'Or"],[22,"Ctes-d'Armor"],[23,"Creuse"],[24,"Dordogne"],[25,"Doubs"],[26,"Drme"],[27,"Eure"],[28,"Eure-et-Loir"],[29,"Finistre"],[30,"Gard"],[31,"Haute-Garonne"],[32,"Gers"],[33,"Gironde"],[34,"Hrault"],[35,"Ille-et-Vilaine"],[36,"Indre"],[37,"Indre-et-Loire"],[38,"Isre"],[39,"Jura"],[40,"Landes"],[41,"Loir-et-Cher"],[42,"Loire"],[43,"Haute-Loire"],[44,"Loire-Atlantique"],[45,"Loiret"],[46,"Lot"],[47,"Lot-et-Garonne"],[48,"Lozre"],[49,"Maine-et-Loire"],[50,"Manche"],[51,"Marne"],[52,"Haute-Marne"],[53,"Mayenne"],[54,"Meurthe-et-Moselle"],[55,"Meuse"],[56,"Morbihan"],[57,"Moselle"],[58,"Nivre"],[59,"Nord"],[60,"Oise"],[61,"Orne"],[62,"Pas-de-Calais"],[63,"Puy-de-Dme"],[64,"Pyrnes-Atlantiques"],[65,"Hautes-Pyrnes"],[66,"Pyrnes-Orientales"],[67,"Bas-Rhin"],[68,"Haut-Rhin"],[69,"Rhne"],[70,"Haute-Sane"],[71,"Sane-et-Loire"],[72,"Sarthe"],[73,"Savoie"],[74,"Haute-Savoie"],[75,"Paris"],[76,"Seine-Maritime"],[77,"Seine-et-Marne"],[78,"Yvelines"],[79,"Deux-Svres"],[80,"Somme"],[81,"Tarn"],[82,"Tarn-et-Garonne"],[83,"Var"],[84,"Vaucluse"],[85,"Vende"],[86,"Vienne"],[87,"Haute-Vienne"],[88,"Vosges"],[89,"Yonne"],[90,"Territoire de Belfort"],[91,"Essonne"],[92,"Hauts-de-Seine"],[93,"Seine-Saint-Denis"],[94,"Val-de-Marne"],[95,"Val-d'Oise"]]);if(v<=0||v>95&&v<100)return"";if(v<=95)return"| "+j.get(v);if(v>=100&&v<200)return"| Barrire de la honte franchie";if(v>=200&&v<300)return"| Barrire de l'honneur atteinte";if(v>=300&&v<400)return"| 300 valids ! Bien jou  ";if(v>=400&&v<500)return"|  Belle partie ";if(v>=500&&v<600)return"|  Record en vue ";if(v>=600)return"|  G.O.A.T "}function T(v){if(v<100)return"neutral";if(v>=100&&v<200)return"ultra1";if(v>=200&&v<300)return"ultra2";if(v>=300&&v<400)return"ultra3";if(v>=400&&v<500)return"ultra4";if(v>=500)return"ultra5"}return(v,j)=>(K(),Z("div",null,[t.role==="admin"?(K(),Z("p",rf," Partie officielle et enregistre ")):be("",!0),m("div",nf,[p.value?(K(),Z("div",mf,[ut(Bd,{sortedPlayers:E.value,humanPlayersSorted:D.value,robotName:Re,stats:c,replay:v.replay,role:n.role,onViewScores:j[0]||(j[0]=F=>v.$emit("view-scores"))},null,8,["sortedPlayers","humanPlayersSorted","replay","role"])])):(K(),Z("div",of,[m("h2",af,x(i.value),1),m("h1",null,x(n.players[o.value].name),1),m("div",lf,[(K(!0),Z(Me,null,Is(n.players,(F,W)=>(K(),Z("div",{key:F.name,class:"avatar-wrapper"},[m("img",{src:F.avatar,alt:F.name,class:at(["avatar",{current:W===o.value}])},null,10,cf),m("div",{class:at(["score-badge",{"bestscore-badge":F.totalScore===$s(l)&&F.name!==Re&&$s(l)!==0,"score-robot":F.name===Re}])},x(F.totalScore),3)]))),128))]),j[2]||(j[2]=m("hr",null,null,-1)),(K(!0),Z(Me,null,Is(a.value,(F,W)=>(K(),Z("div",{key:W,class:"dart-controls",style:{display:"flex","align-items":"center",gap:"6px"}},[n.players[o.value].name!==Re?(K(),Z("div",uf,[m("button",{class:at(["dart-button",{active:F===0}]),onClick:ge=>u(W,0)},"Miss",10,hf),m("button",{class:at(["dart-button",{active:F===1}]),onClick:ge=>u(W,1)},"Single",10,df),m("button",{class:at(["dart-button",{active:F===2}]),onClick:ge=>u(W,2)},"Double",10,ff),m("button",{class:at(["dart-button",{active:F===3}]),onClick:ge=>u(W,3)},"Triple",10,pf)])):be("",!0)]))),128)),n.players[o.value].name!==Re?(K(),Z("p",gf,[m("button",{onClick:f,class:"curseCounter"}," ! "+x(n.players[o.value].curses),1),m("button",{onClick:y,class:"validate"},"Valider ce tour (+"+x(h.value)+" pts)",1)])):be("",!0),m("p",{class:at(["dept-badge",T(n.players[o.value].totalScore+h.value)])},[j[1]||(j[1]=rt(" Total : ")),m("b",null,x(n.players[o.value].totalScore+h.value),1),rt(" "+x(L(n.players[o.value].totalScore+h.value)),1)],2),j[3]||(j[3]=rt()),m("p",null,[m("button",{onClick:b,class:"undo-button"},"")])]))])]))}},bf=Bs(yf,[["__scopeId","data-v-d377f0eb"]]),wf={class:"login-container"},Sf={class:"login-box"},kf=["disabled"],xf={key:0,class:"error"},Tf={__name:"Login",emits:["login"],setup(t,{emit:e}){const s=e,r=Ke(""),n=Ke(null),i=Ke(!1);async function o(){n.value=null,i.value=!0;const l=await dd(r.value);i.value=!1,l?s("login",{name:"Admin",role:"admin"}):n.value="Mot de passe incorrect."}function a(){s("login",{name:"Visiteur",role:"visiteur"})}return(l,c)=>(K(),Z("div",wf,[m("div",Sf,[m("form",{onSubmit:Ds(o,["prevent"])},[xo(m("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u),type:"password",placeholder:"Mot de passe",autocomplete:"current-password"},null,512),[[Zo,r.value]]),m("button",{type:"submit",disabled:i.value},x(i.value?"Connexion...":"Se connecter"),9,kf)],32),m("a",{onClick:Ds(a,["prevent"]),href:"#",class:"visitor-link"}," Continuer en tant que visiteur "),n.value?(K(),Z("p",xf,x(n.value),1)):be("",!0)])]))}},Ef=Bs(Tf,[["__scopeId","data-v-64bd7d6e"]]),Of="/shanghai/img/podium.webp",Pf={class:"scores-page"},Cf={key:0},Af={key:1},jf={key:0,class:"podium",style:{position:"relative",display:"inline-block"}},$f={class:"podium-text text-1"},Rf={style:{"font-size":"0.5rem"}},If={class:"podium-text text-2"},Mf={style:{"font-size":"0.5rem"}},Lf={class:"podium-text text-3"},Df={style:{"font-size":"0.5rem"}},Uf={class:"podium-text text-4"},Nf={align:"center"},Ff=["innerHTML"],Bf={key:1,class:"players-list"},qf=["innerHTML"],Hf={class:"player-name"},Vf={class:"score-table"},Wf={class:"player-card"},Jf={class:"player-name"},Kf={class:"score-table"},zf={__name:"RecordedStats",setup(t){const e=Object.assign({},{min:Qd,max:Yd,mean:ba,sum:Xd,ascending:qd,descending:ya,count:Hd,group:zd}),s=Ke([]),r=Ke([]),n=Ke([]);async function i(){const{data:a,error:l}=await qn.from("scores").select("*").order("score",{ascending:!1});if(l){console.error("Erreur de rcupration des scores :",l);return}if(!a.length)return;const c=Wi(),u=Array.from(e.group(a,b=>b.player_id)).filter(([b,f])=>f.length>=10).filter(([b,f])=>f.player_id!=0).map(([b])=>b),h=o(a.filter(b=>u.includes(b.player_id)));n.value=Zd(a.filter(b=>b.timestamp>=c.septFirstLastYear).filter(b=>b.timestamp<=c.july31Next));const y=["Number One"];s.value=h.filter(b=>b.data_last.length>=10).filter(b=>!y.includes(b.name)),r.value=h.find(b=>b.name==="Number One")}function o(a,l=10){let c=[...new Set(a.map(f=>f.name))].map(f=>({name:f}));const u=Wi(),h=a.filter(f=>f.timestamp>=u.septFirstLastYear).filter(f=>f.timestamp<=u.july31Next),y=a.filter(f=>f.name=="Number One").length,b=h.filter(f=>f.name=="Number One").length;return c=c.map(f=>{const p=a.filter(k=>k.name==f.name),E=h.filter(k=>k.name==f.name),D=E.slice().sort((k,$e)=>e.ascending(k.timestamp,$e.timestamp)).slice(-l),L=f.name,T=Qr(L,p,a),v=Qr(L,E,a),j=Qr(L,D,a),F=p.length,W=E.length,ge=D.length,De=Math.round(1e3*p.length/y)/10,xe=Math.round(1e3*E.length/b)/10,re=e.mean(p.map(k=>k.score)),Pe=Math.round(re),Se=e.mean(E.map(k=>k.score)),Ce=Math.round(Se),ze=e.mean(D.map(k=>k.score)),ye=Math.round(ze),de=Math.round(e.max(p.map(k=>k.score))),ie=Math.round(e.max(E.map(k=>k.score))),Ge=Math.round(e.max(D.map(k=>k.score))),S=Math.round(e.sum(p.map(k=>k.score))),_=Math.round(e.sum(E.map(k=>k.score))),N=Math.round(e.sum(D.map(k=>k.score))),M=Math.round(e.min(p.map(k=>k.score))),H=Math.round(e.min(E.map(k=>k.score))),Y=Math.round(e.min(D.map(k=>k.score))),G=e.max(p.map(k=>JSON.parse(k.hits)).map(k=>k.flat().filter($e=>$e!=0).length)),V=e.max(E.map(k=>JSON.parse(k.hits)).map(k=>k.flat().filter($e=>$e!=0).length)),Q=e.max(D.map(k=>JSON.parse(k.hits)).map(k=>k.flat().filter($e=>$e!=0).length)),ae=e.max(p.map(k=>JSON.parse(k.hits)).map(k=>e.sum(k.flat().filter($e=>$e!=0)))),le=e.max(E.map(k=>JSON.parse(k.hits)).map(k=>e.sum(k.flat().filter($e=>$e!=0)))),fe=e.max(D.map(k=>JSON.parse(k.hits)).map(k=>e.sum(k.flat().filter($e=>$e!=0)))),d=e.max(p.map((k,$e)=>e.max(JSON.parse(k.hits).map((us,hs)=>e.sum(us)*(hs+1))))),g=e.max(E.map((k,$e)=>e.max(JSON.parse(k.hits).map((us,hs)=>e.sum(us)*(hs+1))))),w=e.max(D.map((k,$e)=>e.max(JSON.parse(k.hits).map((us,hs)=>e.sum(us)*(hs+1))))),P=e.max(p.map(k=>JSON.parse(k.hits).flat()).map(k=>or(k))),O=e.max(E.map(k=>JSON.parse(k.hits).flat()).map(k=>or(k))),C=e.max(D.map(k=>JSON.parse(k.hits).flat()).map(k=>or(k))),I=e.max(p.map(k=>JSON.parse(k.hits).flat()).map(k=>ar(k))),R=e.max(E.map(k=>JSON.parse(k.hits).flat()).map(k=>ar(k))),$=e.max(D.map(k=>JSON.parse(k.hits).flat()).map(k=>ar(k))),A=Math.round(p.map(k=>JSON.parse(k.hits)).flat(2).filter(k=>k==3).length/F*10)/10,q=Math.round(E.map(k=>JSON.parse(k.hits)).flat(2).filter(k=>k==3).length/W*10)/10,U=Math.round(D.map(k=>JSON.parse(k.hits)).flat(2).filter(k=>k==3).length/ge*10)/10,B=Math.round(p.map(k=>JSON.parse(k.hits)).flat(2).filter(k=>k==2).length/F*10)/10,J=Math.round(E.map(k=>JSON.parse(k.hits)).flat(2).filter(k=>k==2).length/W*10)/10,te=Math.round(D.map(k=>JSON.parse(k.hits)).flat(2).filter(k=>k==2).length/ge*10)/10,ce=e.sum(p.map(k=>Jr(JSON.parse(k.hits)))),ne=e.sum(E.map(k=>Jr(JSON.parse(k.hits)))),Te=e.sum(D.map(k=>Jr(JSON.parse(k.hits)))),ke=e.sum(p.map(k=>Kr(JSON.parse(k.hits)))),je=e.sum(E.map(k=>Kr(JSON.parse(k.hits)))),Ve=e.sum(D.map(k=>Kr(JSON.parse(k.hits)))),dt=e.sum(p.map(k=>zr(JSON.parse(k.hits)))),Ws=e.sum(E.map(k=>zr(JSON.parse(k.hits)))),Ue=e.sum(D.map(k=>zr(JSON.parse(k.hits)))),Xe=e.sum(p.map(k=>Gr(JSON.parse(k.hits)))),Js=e.sum(E.map(k=>Gr(JSON.parse(k.hits)))),Sa=e.sum(D.map(k=>Gr(JSON.parse(k.hits)))),ka=e.sum(p.map(k=>Yr(JSON.parse(k.hits)))),xa=e.sum(E.map(k=>Yr(JSON.parse(k.hits)))),Ta=e.sum(D.map(k=>Yr(JSON.parse(k.hits))));return{...f,played_all:F,mean_all_raw:re,mean_all:Pe,max_all:de,min_all:M,streak_all:P,assiduity_all:De,shanghai_all:ce,played_year:W,mean_year_raw:Se,mean_year:Ce,max_year:ie,min_year:H,streak_year:O,assiduity_year:xe,shanghai_year:ne,played_last:ge,mean_last_raw:ze,mean_last:ye,max_last:Ge,min_last:Y,streak_last:C,shanghai_last:Te,hits_all:G,hits_year:V,hits_last:Q,hits2_all:ae,hits2_year:le,hits2_last:fe,hitbest_all:d,hitbest_year:g,hitbest_last:w,tt_all:ke,tt_year:je,tt_last:Ve,ttt_all:dt,ttt_year:Ws,ttt_last:Ue,dd_all:Xe,dd_year:Js,dd_last:Sa,ddd_all:ka,ddd_year:xa,ddd_last:Ta,cumul_all:S,cumul_year:_,cumul_last:N,triple_all:A,triple_year:q,triple_last:U,double_all:B,double_year:J,double_last:te,win_all:T,win_year:v,win_last:j,data_last:D.map(k=>k.score),streakloose_all:I,streakloose_year:R,streakloose_last:$}}),c=[...c].sort((f,p)=>p.max_all-f.max_all).map((f,p)=>({...f,medal_max_all:oe(p)})),c=[...c].sort((f,p)=>p.max_year-f.max_year).map((f,p)=>({...f,medal_max_year:oe(p)})),c=[...c].sort((f,p)=>p.max_last-f.max_last).map((f,p)=>({...f,medal_max_last:oe(p)})),c=[...c].sort((f,p)=>p.cumul_all-f.cumul_all).map((f,p)=>({...f,medal_cumul_all:oe(p)})),c=[...c].sort((f,p)=>p.cumul_year-f.cumul_year).map((f,p)=>({...f,medal_cumul_year:oe(p)})),c=[...c].sort((f,p)=>p.cumul_last-f.cumul_last).map((f,p)=>({...f,medal_cumul_last:oe(p)})),c=[...c].sort((f,p)=>p.streak_all-f.streak_all).map((f,p)=>({...f,medal_streak_all:oe(p)})),c=[...c].sort((f,p)=>p.streak_year-f.streak_year).map((f,p)=>({...f,medal_streak_year:oe(p)})),c=[...c].sort((f,p)=>p.streak_last-f.streak_last).map((f,p)=>({...f,medal_streak_last:oe(p)})),c=[...c].sort((f,p)=>p.streakloose_all-f.streakloose_all).map((f,p)=>({...f,medal_streakloose_all:oe(p)})),c=[...c].sort((f,p)=>p.streakloose_year-f.streakloose_year).map((f,p)=>({...f,medal_streakloose_year:oe(p)})),c=[...c].sort((f,p)=>p.streakloose_last-f.streakloose_last).map((f,p)=>({...f,medal_streakloose_last:oe(p)})),c=[...c].sort((f,p)=>p.hits_all-f.hits_all).map((f,p)=>({...f,medal_hits_all:oe(p)})),c=[...c].sort((f,p)=>p.hits_year-f.hits_year).map((f,p)=>({...f,medal_hits_year:oe(p)})),c=[...c].sort((f,p)=>p.hits_last-f.hits_last).map((f,p)=>({...f,medal_hits_last:oe(p)})),c=[...c].sort((f,p)=>p.hitbest_all-f.hitbest_all).map((f,p)=>({...f,medal_hitbest_all:oe(p)})),c=[...c].sort((f,p)=>p.hitbest_year-f.hitbest_year).map((f,p)=>({...f,medal_hitbest_year:oe(p)})),c=[...c].sort((f,p)=>p.hitbest_last-f.hitbest_last).map((f,p)=>({...f,medal_hitbest_last:oe(p)})),c=[...c].sort((f,p)=>p.hits2_all-f.hits2_all).map((f,p)=>({...f,medal_hits2_all:oe(p)})),c=[...c].sort((f,p)=>p.hits2_year-f.hits2_year).map((f,p)=>({...f,medal_hits2_year:oe(p)})),c=[...c].sort((f,p)=>p.hits2_last-f.hits2_last).map((f,p)=>({...f,medal_hits2_last:oe(p)})),c=[...c].sort((f,p)=>p.triple_all-f.triple_all).map((f,p)=>({...f,medal_triple_all:oe(p)})),c=[...c].sort((f,p)=>p.triple_year-f.triple_year).map((f,p)=>({...f,medal_triple_year:oe(p)})),c=[...c].sort((f,p)=>p.triple_last-f.triple_last).map((f,p)=>({...f,medal_triple_last:oe(p)})),c=[...c].sort((f,p)=>p.double_all-f.double_all).map((f,p)=>({...f,medal_double_all:oe(p)})),c=[...c].sort((f,p)=>p.double_year-f.double_year).map((f,p)=>({...f,medal_double_year:oe(p)})),c=[...c].sort((f,p)=>p.double_last-f.double_last).map((f,p)=>({...f,medal_double_last:oe(p)})),c=[...c].sort((f,p)=>p.mean_all_raw-f.mean_all_raw).map((f,p)=>({...f,medal_mean_all:oe(p)})),c=[...c].sort((f,p)=>p.mean_year_raw-f.mean_year_raw).map((f,p)=>({...f,medal_mean_year:oe(p)})),c=[...c].sort((f,p)=>p.mean_last_raw-f.mean_last_raw).map((f,p)=>({...f,medal_mean_last:oe(p)})),c}return xr(()=>{i()}),(a,l)=>(K(),Z("div",Pf,[l[31]||(l[31]=m("h1",null,[m("ins",null,"Classement glissant")],-1)),l[32]||(l[32]=m("p",null,"Sur les 10 dernires parties",-1)),s.value.length==0?(K(),Z("div",Cf,l[1]||(l[1]=[m("h1",null,"Dbut de saison, repassez plus tard !",-1)]))):be("",!0),s.value.length>0?(K(),Z("div",Af,[s.value.length>=3?(K(),Z("div",jf,[l[2]||(l[2]=m("img",{src:Of,alt:"Podium",class:"podium-image"},null,-1)),m("div",$f,[rt(x(s.value[0].name),1),m("span",Rf," ("+x(s.value[0].mean_last)+")",1)]),m("div",If,[rt(x(s.value[1].name),1),m("span",Mf," ("+x(s.value[1].mean_last)+")",1)]),m("div",Lf,[rt(x(s.value[2].name),1),m("span",Df," ("+x(s.value[2].mean_last)+")",1)]),m("div",Uf,"Chocolat : "+x(s.value[3].name)+" ("+x(s.value[3].mean_last)+")",1)])):be("",!0),m("div",Nf,[m("div",{class:"player-card",innerHTML:$s(tf)(s.value)},null,8,Ff)]),l[29]||(l[29]=m("h1",null,[m("ins",null,"Classement de la saison")],-1)),l[30]||(l[30]=m("p",null,"Moyenne des 10 meilleurs scores",-1)),s.value.length?(K(),Z("div",Bf,[m("div",{class:"player-card",innerHTML:$s(ef)(n.value)},null,8,qf),l[28]||(l[28]=m("h1",null,[m("ins",null,"Fiches individuelles")],-1)),(K(!0),Z(Me,null,Is(s.value,(c,u)=>(K(),Z("div",{key:u,class:"player-card"},[m("h2",Hf,[rt(x(c.medal_mean_last)+" "+x(c.name)+" - ",1),m("small",null,x(c.mean_last)+" pts",1)]),l[23]||(l[23]=m("div",{class:"last-scores"},null,-1)),m("table",Vf,[l[22]||(l[22]=m("thead",null,[m("tr",null,[m("th"),m("th",null,"Sur 10 parties"),m("th",null,"Sur l'anne"),m("th",null,"Hall of Fame")])],-1)),m("tbody",null,[m("tr",null,[l[3]||(l[3]=m("th",null,"Parties",-1)),m("td",null,x(c.played_last),1),m("td",null,x(c.played_year),1),m("td",null,x(c.played_all),1)]),m("tr",null,[l[4]||(l[4]=m("th",null,"Win",-1)),m("td",null,x(Math.round(c.win_last*10)/10)+" %",1),m("td",null,x(Math.round(c.win_year*10)/10)+" %",1),m("td",null,x(Math.round(c.win_all*10)/10)+" %",1)]),m("tr",null,[l[5]||(l[5]=m("th",null,"Assiduit",-1)),l[6]||(l[6]=m("td",null,"-",-1)),m("td",null,x(c.assiduity_year)+" %",1),m("td",null,x(c.assiduity_all)+" %",1)]),m("tr",null,[l[7]||(l[7]=m("th",null,"Moyenne",-1)),m("td",null,x(c.mean_last)+" "+x(c.medal_mean_last),1),m("td",null,x(c.mean_year)+" "+x(c.medal_mean_year),1),m("td",null,x(c.mean_all)+" "+x(c.medal_mean_all),1)]),m("tr",null,[l[8]||(l[8]=m("th",null,"Cumul",-1)),m("td",null,x(Math.round(c.cumul_last/100)/10+"K")+" "+x(c.medal_cumul_last),1),m("td",null,x(Math.round(c.cumul_year/100)/10+"K")+" "+x(c.medal_cumul_year),1),m("td",null,x(Math.round(c.cumul_all/100)/10+"K")+" "+x(c.medal_cumul_all),1)]),m("tr",null,[l[9]||(l[9]=m("th",null,"Meilleur",-1)),m("td",null,x(c.max_last)+" "+x(c.medal_max_last),1),m("td",null,x(c.max_year)+" "+x(c.medal_max_year),1),m("td",null,x(c.max_all)+" "+x(c.medal_max_all),1)]),m("tr",null,[l[10]||(l[10]=m("th",null,"Streak",-1)),m("td",null,x(c.streak_last)+" "+x(c.medal_streak_last),1),m("td",null,x(c.streak_year)+" "+x(c.medal_streak_year),1),m("td",null,x(c.streak_all)+" "+x(c.medal_streak_all),1)]),m("tr",null,[l[11]||(l[11]=m("th",null,"Streak Loose",-1)),m("td",null,x(c.streakloose_last)+" "+x(c.medal_streakloose_last),1),m("td",null,x(c.streakloose_year)+" "+x(c.medal_streakloose_year),1),m("td",null,x(c.streakloose_all)+" "+x(c.medal_streakloose_all),1)]),m("tr",null,[l[12]||(l[12]=m("th",null,[rt("Hits "),m("small",null,"(60)")],-1)),m("td",null,x(c.hits_last)+" "+x(c.medal_hits_last),1),m("td",null,x(c.hits_year)+" "+x(c.medal_hits_year),1),m("td",null,x(c.hits_all)+" "+x(c.medal_hits_all),1)]),m("tr",null,[l[13]||(l[13]=m("th",null,[rt("Hits "),m("small",null,"(180)")],-1)),m("td",null,x(c.hits2_last)+" "+x(c.medal_hits2_last),1),m("td",null,x(c.hits2_year)+" "+x(c.medal_hits2_year),1),m("td",null,x(c.hits2_all)+" "+x(c.medal_hits2_all),1)]),m("tr",null,[l[14]||(l[14]=m("th",null,"Meilleur coup",-1)),m("td",null,x(c.hitbest_last)+" "+x(c.medal_hitbest_last),1),m("td",null,x(c.hitbest_year)+" "+x(c.medal_hitbest_year),1),m("td",null,x(c.hitbest_all)+" "+x(c.medal_hitbest_all),1)]),m("tr",null,[l[15]||(l[15]=m("th",null,"Triples",-1)),m("td",null,x(c.triple_last)+" % "+x(c.medal_triple_last),1),m("td",null,x(c.triple_year)+" % "+x(c.medal_triple_year),1),m("td",null,x(c.triple_all)+" % "+x(c.medal_triple_all),1)]),m("tr",null,[l[16]||(l[16]=m("th",null,"Doubles",-1)),m("td",null,x(c.double_last)+" % "+x(c.medal_double_last),1),m("td",null,x(c.double_year)+" % "+x(c.medal_double_year),1),m("td",null,x(c.double_all)+" % "+x(c.medal_double_all),1)]),m("tr",null,[l[17]||(l[17]=m("th",null,"Shanghai",-1)),m("td",null,x(c.shanghai_last),1),m("td",null,x(c.shanghai_year),1),m("td",null,x(c.shanghai_all),1)]),m("tr",null,[l[18]||(l[18]=m("th",null,"ttt",-1)),m("td",null,x(c.ttt_last),1),m("td",null,x(c.ttt_year),1),m("td",null,x(c.ttt_all),1)]),m("tr",null,[l[19]||(l[19]=m("th",null,"tt",-1)),m("td",null,x(c.tt_last),1),m("td",null,x(c.tt_year),1),m("td",null,x(c.tt_all),1)]),m("tr",null,[l[20]||(l[20]=m("th",null,"ddd",-1)),m("td",null,x(c.ddd_last),1),m("td",null,x(c.ddd_year),1),m("td",null,x(c.ddd_all),1)]),m("tr",null,[l[21]||(l[21]=m("th",null,"dd",-1)),m("td",null,x(c.dd_last),1),m("td",null,x(c.dd_year),1),m("td",null,x(c.dd_all),1)])])])]))),128)),m("div",Wf,[m("h2",Jf,x(r.value.name),1),m("table",Kf,[l[27]||(l[27]=m("thead",null,[m("tr",null,[m("th"),m("th",null,"Sur 10 parties"),m("th",null,"Sur l'anne"),m("th",null,"Hall of Fame")])],-1)),m("tbody",null,[m("tr",null,[l[24]||(l[24]=m("th",null,"Parties",-1)),m("td",null,x(r.value.played_last),1),m("td",null,x(r.value.played_year),1),m("td",null,x(r.value.played_all),1)]),m("tr",null,[l[25]||(l[25]=m("th",null,"Moyenne",-1)),m("td",null,x(r.value.mean_last),1),m("td",null,x(r.value.mean_year),1),m("td",null,x(r.value.mean_all),1)]),m("tr",null,[l[26]||(l[26]=m("th",null,"Meilleur",-1)),m("td",null,x(r.value.max_last),1),m("td",null,x(r.value.max_year),1),m("td",null,x(r.value.max_all),1)])])])])])):be("",!0)])):be("",!0),m("button",{onClick:l[0]||(l[0]=c=>a.$emit("back")),class:"back-button"},"Retour")]))}},Gf=Bs(zf,[["__scopeId","data-v-019c9386"]]),Yf={__name:"App",setup(t){const e=[{id:1,name:"Matt"},{id:2,name:"Darts Vador",avatar:"/shanghai/img/dartsvador.png"},{id:3,name:"Dart Simpson",avatar:"/shanghai/img/dartsimpson.png"},{id:4,name:"Robull",avatar:"/shanghai/img/ro.jpg"},{id:5,name:"Louis CLXXX",avatar:"/shanghai/img/crown.jpeg"},{id:7,name:"Cramomille",avatar:"/shanghai/img/cramomille.png"}],s=Ke(null),r=Ke([]),n=Ke("login");function i(c){s.value=c,n.value="selection"}function o(c){r.value=c,n.value="game"}function a(){n.value="scores"}function l(){n.value="selection"}return(c,u)=>(K(),Z("div",null,[n.value==="login"?(K(),_s(Ef,{key:0,onLogin:i})):n.value==="selection"?(K(),_s(ru,{key:1,predefinedPlayers:e,role:s.value.role,onStartGame:o,onViewScores:a},null,8,["role"])):n.value==="game"?(K(),_s(bf,{key:2,players:r.value,role:s.value.role,onViewScores:a},null,8,["players","role"])):n.value==="scores"?(K(),_s(Gf,{key:3,onBack:l,onViewScores:a})):be("",!0)]))}};qc(Yf).mount("#app")});export default Qf();
