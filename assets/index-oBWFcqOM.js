var Hu=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var jv=Hu((Hv,Er)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ri(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const be={},xn=[],mt=()=>{},Vu=()=>!1,ms=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ii=e=>e.startsWith("onUpdate:"),Ke=Object.assign,Mi=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Wu=Object.prototype.hasOwnProperty,we=(e,t)=>Wu.call(e,t),Z=Array.isArray,Sn=e=>vr(e)==="[object Map]",Ia=e=>vr(e)==="[object Set]",uo=e=>vr(e)==="[object Date]",re=e=>typeof e=="function",Ee=e=>typeof e=="string",yt=e=>typeof e=="symbol",Te=e=>e!==null&&typeof e=="object",Ma=e=>(Te(e)||re(e))&&re(e.then)&&re(e.catch),ja=Object.prototype.toString,vr=e=>ja.call(e),Ju=e=>vr(e).slice(8,-1),La=e=>vr(e)==="[object Object]",ji=e=>Ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Gn=Ri(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_s=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ku=/-(\w)/g,qt=_s(e=>e.replace(Ku,(t,n)=>n?n.toUpperCase():"")),zu=/\B([A-Z])/g,an=_s(e=>e.replace(zu,"-$1").toLowerCase()),Na=_s(e=>e.charAt(0).toUpperCase()+e.slice(1)),Cs=_s(e=>e?`on${Na(e)}`:""),Bt=(e,t)=>!Object.is(e,t),qr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Da=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},ni=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let co;const vs=()=>co||(co=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Li(e){if(Z(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Ee(r)?Qu(r):Li(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(Ee(e)||Te(e))return e}const Gu=/;(?![^(]*\))/g,Yu=/:([^]+)/,Xu=/\/\*[^]*?\*\//g;function Qu(e){const t={};return e.replace(Xu,"").split(Gu).forEach(n=>{if(n){const r=n.split(Yu);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function at(e){let t="";if(Ee(e))t=e;else if(Z(e))for(let n=0;n<e.length;n++){const r=at(e[n]);r&&(t+=r+" ")}else if(Te(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Zu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ec=Ri(Zu);function Fa(e){return!!e||e===""}function tc(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Qr(e[r],t[r]);return n}function Qr(e,t){if(e===t)return!0;let n=uo(e),r=uo(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=yt(e),r=yt(t),n||r)return e===t;if(n=Z(e),r=Z(t),n||r)return n&&r?tc(e,t):!1;if(n=Te(e),r=Te(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Qr(e[o],t[o]))return!1}}return String(e)===String(t)}const Ua=e=>!!(e&&e.__v_isRef===!0),$=e=>Ee(e)?e:e==null?"":Z(e)||Te(e)&&(e.toString===ja||!re(e.toString))?Ua(e)?$(e.value):JSON.stringify(e,Ba,2):String(e),Ba=(e,t)=>Ua(t)?Ba(e,t.value):Sn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Ps(r,i)+" =>"]=s,n),{})}:Ia(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ps(n))}:yt(t)?Ps(t):Te(t)&&!Z(t)&&!La(t)?String(t):t,Ps=(e,t="")=>{var n;return yt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xe;class nc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xe,!t&&Xe&&(this.index=(Xe.scopes||(Xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Xe;try{return Xe=this,t()}finally{Xe=n}}}on(){++this._on===1&&(this.prevScope=Xe,Xe=this)}off(){this._on>0&&--this._on===0&&(Xe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function rc(){return Xe}let Se;const Rs=new WeakSet;class qa{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xe&&Xe.active&&Xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Rs.has(this)&&(Rs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Va(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ho(this),Wa(this);const t=Se,n=ct;Se=this,ct=!0;try{return this.fn()}finally{Ja(this),Se=t,ct=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Fi(t);this.deps=this.depsTail=void 0,ho(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Rs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ri(this)&&this.run()}get dirty(){return ri(this)}}let Ha=0,Yn,Xn;function Va(e,t=!1){if(e.flags|=8,t){e.next=Xn,Xn=e;return}e.next=Yn,Yn=e}function Ni(){Ha++}function Di(){if(--Ha>0)return;if(Xn){let t=Xn;for(Xn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Yn;){let t=Yn;for(Yn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Wa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ja(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Fi(r),sc(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function ri(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ka(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ka(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ir)||(e.globalVersion=ir,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ri(e))))return;e.flags|=2;const t=e.dep,n=Se,r=ct;Se=e,ct=!0;try{Wa(e);const s=e.fn(e._value);(t.version===0||Bt(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Se=n,ct=r,Ja(e),e.flags&=-3}}function Fi(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Fi(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function sc(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ct=!0;const za=[];function Ct(){za.push(ct),ct=!1}function Pt(){const e=za.pop();ct=e===void 0?!0:e}function ho(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Se;Se=void 0;try{t()}finally{Se=n}}}let ir=0;class ic{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ui{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Se||!ct||Se===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Se)n=this.activeLink=new ic(Se,this),Se.deps?(n.prevDep=Se.depsTail,Se.depsTail.nextDep=n,Se.depsTail=n):Se.deps=Se.depsTail=n,Ga(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Se.depsTail,n.nextDep=void 0,Se.depsTail.nextDep=n,Se.depsTail=n,Se.deps===n&&(Se.deps=r)}return n}trigger(t){this.version++,ir++,this.notify(t)}notify(t){Ni();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Di()}}}function Ga(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Ga(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const si=new WeakMap,rn=Symbol(""),ii=Symbol(""),or=Symbol("");function De(e,t,n){if(ct&&Se){let r=si.get(e);r||si.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Ui),s.map=r,s.key=n),s.track()}}function Ot(e,t,n,r,s,i){const o=si.get(e);if(!o){ir++;return}const a=l=>{l&&l.trigger()};if(Ni(),t==="clear")o.forEach(a);else{const l=Z(e),c=l&&ji(n);if(l&&n==="length"){const u=Number(r);o.forEach((f,h)=>{(h==="length"||h===or||!yt(h)&&h>=u)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(or)),t){case"add":l?c&&a(o.get("length")):(a(o.get(rn)),Sn(e)&&a(o.get(ii)));break;case"delete":l||(a(o.get(rn)),Sn(e)&&a(o.get(ii)));break;case"set":Sn(e)&&a(o.get(rn));break}}Di()}function un(e){const t=ye(e);return t===e?t:(De(t,"iterate",or),it(e)?t:t.map(Ie))}function ys(e){return De(e=ye(e),"iterate",or),e}const oc={__proto__:null,[Symbol.iterator](){return Is(this,Symbol.iterator,Ie)},concat(...e){return un(this).concat(...e.map(t=>Z(t)?un(t):t))},entries(){return Is(this,"entries",e=>(e[1]=Ie(e[1]),e))},every(e,t){return St(this,"every",e,t,void 0,arguments)},filter(e,t){return St(this,"filter",e,t,n=>n.map(Ie),arguments)},find(e,t){return St(this,"find",e,t,Ie,arguments)},findIndex(e,t){return St(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return St(this,"findLast",e,t,Ie,arguments)},findLastIndex(e,t){return St(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return St(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ms(this,"includes",e)},indexOf(...e){return Ms(this,"indexOf",e)},join(e){return un(this).join(e)},lastIndexOf(...e){return Ms(this,"lastIndexOf",e)},map(e,t){return St(this,"map",e,t,void 0,arguments)},pop(){return Nn(this,"pop")},push(...e){return Nn(this,"push",e)},reduce(e,...t){return fo(this,"reduce",e,t)},reduceRight(e,...t){return fo(this,"reduceRight",e,t)},shift(){return Nn(this,"shift")},some(e,t){return St(this,"some",e,t,void 0,arguments)},splice(...e){return Nn(this,"splice",e)},toReversed(){return un(this).toReversed()},toSorted(e){return un(this).toSorted(e)},toSpliced(...e){return un(this).toSpliced(...e)},unshift(...e){return Nn(this,"unshift",e)},values(){return Is(this,"values",Ie)}};function Is(e,t,n){const r=ys(e),s=r[t]();return r!==e&&!it(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const ac=Array.prototype;function St(e,t,n,r,s,i){const o=ys(e),a=o!==e&&!it(e),l=o[t];if(l!==ac[t]){const f=l.apply(e,i);return a?Ie(f):f}let c=n;o!==e&&(a?c=function(f,h){return n.call(this,Ie(f),h,e)}:n.length>2&&(c=function(f,h){return n.call(this,f,h,e)}));const u=l.call(o,c,r);return a&&s?s(u):u}function fo(e,t,n,r){const s=ys(e);let i=n;return s!==e&&(it(e)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,e)}):i=function(o,a,l){return n.call(this,o,Ie(a),l,e)}),s[t](i,...r)}function Ms(e,t,n){const r=ye(e);De(r,"iterate",or);const s=r[t](...n);return(s===-1||s===!1)&&Vi(n[0])?(n[0]=ye(n[0]),r[t](...n)):s}function Nn(e,t,n=[]){Ct(),Ni();const r=ye(e)[t].apply(e,n);return Di(),Pt(),r}const lc=Ri("__proto__,__v_isRef,__isVue"),Ya=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(yt));function uc(e){yt(e)||(e=String(e));const t=ye(this);return De(t,"has",e),t.hasOwnProperty(e)}class Xa{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?yc:tl:i?el:Za).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Z(t);if(!s){let l;if(o&&(l=oc[n]))return l;if(n==="hasOwnProperty")return uc}const a=Reflect.get(t,n,Ue(t)?t:r);return(yt(n)?Ya.has(n):lc(n))||(s||De(t,"get",n),i)?a:Ue(a)?o&&ji(n)?a:a.value:Te(a)?s?nl(a):qi(a):a}}class Qa extends Xa{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const l=Ht(i);if(!it(r)&&!Ht(r)&&(i=ye(i),r=ye(r)),!Z(t)&&Ue(i)&&!Ue(r))return l?!1:(i.value=r,!0)}const o=Z(t)&&ji(n)?Number(n)<t.length:we(t,n),a=Reflect.set(t,n,r,Ue(t)?t:s);return t===ye(s)&&(o?Bt(r,i)&&Ot(t,"set",n,r):Ot(t,"add",n,r)),a}deleteProperty(t,n){const r=we(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Ot(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!yt(n)||!Ya.has(n))&&De(t,"has",n),r}ownKeys(t){return De(t,"iterate",Z(t)?"length":rn),Reflect.ownKeys(t)}}class cc extends Xa{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const hc=new Qa,fc=new cc,dc=new Qa(!0),oi=e=>e,$r=e=>Reflect.getPrototypeOf(e);function pc(e,t,n){return function(...r){const s=this.__v_raw,i=ye(s),o=Sn(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),u=n?oi:t?Zr:Ie;return!t&&De(i,"iterate",l?ii:rn),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Cr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function gc(e,t){const n={get(s){const i=this.__v_raw,o=ye(i),a=ye(s);e||(Bt(s,a)&&De(o,"get",s),De(o,"get",a));const{has:l}=$r(o),c=t?oi:e?Zr:Ie;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!e&&De(ye(s),"iterate",rn),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=ye(i),a=ye(s);return e||(Bt(s,a)&&De(o,"has",s),De(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=ye(a),c=t?oi:e?Zr:Ie;return!e&&De(l,"iterate",rn),a.forEach((u,f)=>s.call(i,c(u),c(f),o))}};return Ke(n,e?{add:Cr("add"),set:Cr("set"),delete:Cr("delete"),clear:Cr("clear")}:{add(s){!t&&!it(s)&&!Ht(s)&&(s=ye(s));const i=ye(this);return $r(i).has.call(i,s)||(i.add(s),Ot(i,"add",s,s)),this},set(s,i){!t&&!it(i)&&!Ht(i)&&(i=ye(i));const o=ye(this),{has:a,get:l}=$r(o);let c=a.call(o,s);c||(s=ye(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?Bt(i,u)&&Ot(o,"set",s,i):Ot(o,"add",s,i),this},delete(s){const i=ye(this),{has:o,get:a}=$r(i);let l=o.call(i,s);l||(s=ye(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&Ot(i,"delete",s,void 0),c},clear(){const s=ye(this),i=s.size!==0,o=s.clear();return i&&Ot(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=pc(s,e,t)}),n}function Bi(e,t){const n=gc(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(we(n,s)&&s in r?n:r,s,i)}const mc={get:Bi(!1,!1)},_c={get:Bi(!1,!0)},vc={get:Bi(!0,!1)},Za=new WeakMap,el=new WeakMap,tl=new WeakMap,yc=new WeakMap;function wc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bc(e){return e.__v_skip||!Object.isExtensible(e)?0:wc(Ju(e))}function qi(e){return Ht(e)?e:Hi(e,!1,hc,mc,Za)}function xc(e){return Hi(e,!1,dc,_c,el)}function nl(e){return Hi(e,!0,fc,vc,tl)}function Hi(e,t,n,r,s){if(!Te(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=bc(e);if(i===0)return e;const o=s.get(e);if(o)return o;const a=new Proxy(e,i===2?r:n);return s.set(e,a),a}function kn(e){return Ht(e)?kn(e.__v_raw):!!(e&&e.__v_isReactive)}function Ht(e){return!!(e&&e.__v_isReadonly)}function it(e){return!!(e&&e.__v_isShallow)}function Vi(e){return e?!!e.__v_raw:!1}function ye(e){const t=e&&e.__v_raw;return t?ye(t):e}function Sc(e){return!we(e,"__v_skip")&&Object.isExtensible(e)&&Da(e,"__v_skip",!0),e}const Ie=e=>Te(e)?qi(e):e,Zr=e=>Te(e)?nl(e):e;function Ue(e){return e?e.__v_isRef===!0:!1}function Me(e){return kc(e,!1)}function kc(e,t){return Ue(e)?e:new Tc(e,t)}class Tc{constructor(t,n){this.dep=new Ui,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ye(t),this._value=n?t:Ie(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||it(t)||Ht(t);t=r?t:ye(t),Bt(t,n)&&(this._rawValue=t,this._value=r?t:Ie(t),this.dep.trigger())}}function tn(e){return Ue(e)?e.value:e}const Ec={get:(e,t,n)=>t==="__v_raw"?e:tn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Ue(s)&&!Ue(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function rl(e){return kn(e)?e:new Proxy(e,Ec)}class Ac{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ui(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ir-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Se!==this)return Va(this,!0),!0}get value(){const t=this.dep.track();return Ka(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Oc(e,t,n=!1){let r,s;return re(e)?r=e:(r=e.get,s=e.set),new Ac(r,s,n)}const Pr={},es=new WeakMap;let Yt;function $c(e,t=!1,n=Yt){if(n){let r=es.get(n);r||es.set(n,r=[]),r.push(e)}}function Cc(e,t,n=be){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,c=T=>s?T:it(T)||s===!1||s===0?$t(T,1):$t(T);let u,f,h,g,x=!1,A=!1;if(Ue(e)?(f=()=>e.value,x=it(e)):kn(e)?(f=()=>c(e),x=!0):Z(e)?(A=!0,x=e.some(T=>kn(T)||it(T)),f=()=>e.map(T=>{if(Ue(T))return T.value;if(kn(T))return c(T);if(re(T))return l?l(T,2):T()})):re(e)?t?f=l?()=>l(e,2):e:f=()=>{if(h){Ct();try{h()}finally{Pt()}}const T=Yt;Yt=u;try{return l?l(e,3,[g]):e(g)}finally{Yt=T}}:f=mt,t&&s){const T=f,S=s===!0?1/0:s;f=()=>$t(T(),S)}const O=rc(),m=()=>{u.stop(),O&&O.active&&Mi(O.effects,u)};if(i&&t){const T=t;t=(...S)=>{T(...S),m()}}let p=A?new Array(e.length).fill(Pr):Pr;const w=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(t){const S=u.run();if(s||x||(A?S.some((I,V)=>Bt(I,p[V])):Bt(S,p))){h&&h();const I=Yt;Yt=u;try{const V=[S,p===Pr?void 0:A&&p[0]===Pr?[]:p,g];p=S,l?l(t,3,V):t(...V)}finally{Yt=I}}}else u.run()};return a&&a(w),u=new qa(f),u.scheduler=o?()=>o(w,!1):w,g=T=>$c(T,!1,u),h=u.onStop=()=>{const T=es.get(u);if(T){if(l)l(T,4);else for(const S of T)S();es.delete(u)}},t?r?w(!0):p=u.run():o?o(w.bind(null,!0),!0):u.run(),m.pause=u.pause.bind(u),m.resume=u.resume.bind(u),m.stop=m,m}function $t(e,t=1/0,n){if(t<=0||!Te(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ue(e))$t(e.value,t,n);else if(Z(e))for(let r=0;r<e.length;r++)$t(e[r],t,n);else if(Ia(e)||Sn(e))e.forEach(r=>{$t(r,t,n)});else if(La(e)){for(const r in e)$t(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&$t(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yr(e,t,n,r){try{return r?e(...r):e()}catch(s){ws(s,t,n)}}function wt(e,t,n,r){if(re(e)){const s=yr(e,t,n,r);return s&&Ma(s)&&s.catch(i=>{ws(i,t,n)}),s}if(Z(e)){const s=[];for(let i=0;i<e.length;i++)s.push(wt(e[i],t,n,r));return s}}function ws(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||be;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,l,c)===!1)return}a=a.parent}if(i){Ct(),yr(i,null,10,[e,l,c]),Pt();return}}Pc(e,n,s,r,o)}function Pc(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const Ve=[];let pt=-1;const Tn=[];let Lt=null,yn=0;const sl=Promise.resolve();let ts=null;function il(e){const t=ts||sl;return e?t.then(this?e.bind(this):e):t}function Rc(e){let t=pt+1,n=Ve.length;for(;t<n;){const r=t+n>>>1,s=Ve[r],i=ar(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Wi(e){if(!(e.flags&1)){const t=ar(e),n=Ve[Ve.length-1];!n||!(e.flags&2)&&t>=ar(n)?Ve.push(e):Ve.splice(Rc(t),0,e),e.flags|=1,ol()}}function ol(){ts||(ts=sl.then(ll))}function Ic(e){Z(e)?Tn.push(...e):Lt&&e.id===-1?Lt.splice(yn+1,0,e):e.flags&1||(Tn.push(e),e.flags|=1),ol()}function po(e,t,n=pt+1){for(;n<Ve.length;n++){const r=Ve[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Ve.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function al(e){if(Tn.length){const t=[...new Set(Tn)].sort((n,r)=>ar(n)-ar(r));if(Tn.length=0,Lt){Lt.push(...t);return}for(Lt=t,yn=0;yn<Lt.length;yn++){const n=Lt[yn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Lt=null,yn=0}}const ar=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ll(e){try{for(pt=0;pt<Ve.length;pt++){const t=Ve[pt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),yr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;pt<Ve.length;pt++){const t=Ve[pt];t&&(t.flags&=-2)}pt=-1,Ve.length=0,al(),ts=null,(Ve.length||Tn.length)&&ll()}}let st=null,ul=null;function ns(e){const t=st;return st=e,ul=e&&e.type.__scopeId||null,t}function Mc(e,t=st,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&So(-1);const i=ns(t);let o;try{o=e(...s)}finally{ns(i),r._d&&So(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Hr(e,t){if(st===null)return e;const n=Ts(st),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,l=be]=t[s];i&&(re(i)&&(i={mounted:i,updated:i}),i.deep&&$t(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Jt(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Ct(),wt(l,n,8,[e.el,a,e,t]),Pt())}}const jc=Symbol("_vte"),Lc=e=>e.__isTeleport;function Ji(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ji(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function cl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function rs(e,t,n,r,s=!1){if(Z(e)){e.forEach((x,A)=>rs(x,t&&(Z(t)?t[A]:t),n,r,s));return}if(Qn(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&rs(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Ts(r.component):r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===be?a.refs={}:a.refs,f=a.setupState,h=ye(f),g=f===be?()=>!1:x=>we(h,x);if(c!=null&&c!==l&&(Ee(c)?(u[c]=null,g(c)&&(f[c]=null)):Ue(c)&&(c.value=null)),re(l))yr(l,a,12,[o,u]);else{const x=Ee(l),A=Ue(l);if(x||A){const O=()=>{if(e.f){const m=x?g(l)?f[l]:u[l]:l.value;s?Z(m)&&Mi(m,i):Z(m)?m.includes(i)||m.push(i):x?(u[l]=[i],g(l)&&(f[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else x?(u[l]=o,g(l)&&(f[l]=o)):A&&(l.value=o,e.k&&(u[e.k]=o))};o?(O.id=-1,Ze(O,n)):O()}}}vs().requestIdleCallback;vs().cancelIdleCallback;const Qn=e=>!!e.type.__asyncLoader,hl=e=>e.type.__isKeepAlive;function Nc(e,t){fl(e,"a",t)}function Dc(e,t){fl(e,"da",t)}function fl(e,t,n=We){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(bs(t,r,n),n){let s=n.parent;for(;s&&s.parent;)hl(s.parent.vnode)&&Fc(r,t,n,s),s=s.parent}}function Fc(e,t,n,r){const s=bs(t,e,r,!0);pl(()=>{Mi(r[t],s)},n)}function bs(e,t,n=We,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Ct();const a=wr(n),l=wt(t,n,e,o);return a(),Pt(),l});return r?s.unshift(i):s.push(i),i}}const It=e=>(t,n=We)=>{(!cr||e==="sp")&&bs(e,(...r)=>t(...r),n)},Uc=It("bm"),xs=It("m"),Bc=It("bu"),qc=It("u"),dl=It("bum"),pl=It("um"),Hc=It("sp"),Vc=It("rtg"),Wc=It("rtc");function Jc(e,t=We){bs("ec",e,t)}const Kc=Symbol.for("v-ndc");function lr(e,t,n,r){let s;const i=n,o=Z(e);if(o||Ee(e)){const a=o&&kn(e);let l=!1,c=!1;a&&(l=!it(e),c=Ht(e),e=ys(e)),s=new Array(e.length);for(let u=0,f=e.length;u<f;u++)s[u]=t(l?c?Zr(Ie(e[u])):Ie(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,i)}else if(Te(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=t(e[u],u,l,i)}}else s=[];return s}const ai=e=>e?jl(e)?Ts(e):ai(e.parent):null,Zn=Ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ai(e.parent),$root:e=>ai(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ml(e),$forceUpdate:e=>e.f||(e.f=()=>{Wi(e.update)}),$nextTick:e=>e.n||(e.n=il.bind(e.proxy)),$watch:e=>gh.bind(e)}),js=(e,t)=>e!==be&&!e.__isScriptSetup&&we(e,t),zc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(js(r,t))return o[t]=1,r[t];if(s!==be&&we(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&we(c,t))return o[t]=3,i[t];if(n!==be&&we(n,t))return o[t]=4,n[t];li&&(o[t]=0)}}const u=Zn[t];let f,h;if(u)return t==="$attrs"&&De(e.attrs,"get",""),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==be&&we(n,t))return o[t]=4,n[t];if(h=l.config.globalProperties,we(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return js(s,t)?(s[t]=n,!0):r!==be&&we(r,t)?(r[t]=n,!0):we(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==be&&we(e,o)||js(t,o)||(a=i[0])&&we(a,o)||we(r,o)||we(Zn,o)||we(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:we(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function go(e){return Z(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let li=!0;function Gc(e){const t=ml(e),n=e.proxy,r=e.ctx;li=!1,t.beforeCreate&&mo(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:g,updated:x,activated:A,deactivated:O,beforeDestroy:m,beforeUnmount:p,destroyed:w,unmounted:T,render:S,renderTracked:I,renderTriggered:V,errorCaptured:te,serverPrefetch:ce,expose:he,inheritAttrs:U,components:L,directives:D,filters:Y}=t;if(c&&Yc(c,r,null),o)for(const le in o){const se=o[le];re(se)&&(r[le]=se.bind(n))}if(s){const le=s.call(n,n);Te(le)&&(e.data=qi(le))}if(li=!0,i)for(const le in i){const se=i[le],Oe=re(se)?se.bind(n,n):re(se.get)?se.get.bind(n,n):mt,k=!re(se)&&re(se.set)?se.set.bind(n):mt,y=Vn({get:Oe,set:k});Object.defineProperty(r,le,{enumerable:!0,configurable:!0,get:()=>y.value,set:H=>y.value=H})}if(a)for(const le in a)gl(a[le],r,n,le);if(l){const le=re(l)?l.call(n):l;Reflect.ownKeys(le).forEach(se=>{nh(se,le[se])})}u&&mo(u,e,"c");function _e(le,se){Z(se)?se.forEach(Oe=>le(Oe.bind(n))):se&&le(se.bind(n))}if(_e(Uc,f),_e(xs,h),_e(Bc,g),_e(qc,x),_e(Nc,A),_e(Dc,O),_e(Jc,te),_e(Wc,I),_e(Vc,V),_e(dl,p),_e(pl,T),_e(Hc,ce),Z(he))if(he.length){const le=e.exposed||(e.exposed={});he.forEach(se=>{Object.defineProperty(le,se,{get:()=>n[se],set:Oe=>n[se]=Oe})})}else e.exposed||(e.exposed={});S&&e.render===mt&&(e.render=S),U!=null&&(e.inheritAttrs=U),L&&(e.components=L),D&&(e.directives=D),ce&&cl(e)}function Yc(e,t,n=mt){Z(e)&&(e=ui(e));for(const r in e){const s=e[r];let i;Te(s)?"default"in s?i=Vr(s.from||r,s.default,!0):i=Vr(s.from||r):i=Vr(s),Ue(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function mo(e,t,n){wt(Z(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function gl(e,t,n,r){let s=r.includes(".")?$l(n,r):()=>n[r];if(Ee(e)){const i=t[e];re(i)&&er(s,i)}else if(re(e))er(s,e.bind(n));else if(Te(e))if(Z(e))e.forEach(i=>gl(i,t,n,r));else{const i=re(e.handler)?e.handler.bind(n):t[e.handler];re(i)&&er(s,i,e)}}function ml(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>ss(l,c,o,!0)),ss(l,t,o)),Te(t)&&i.set(t,l),l}function ss(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&ss(e,i,n,!0),s&&s.forEach(o=>ss(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=Xc[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Xc={data:_o,props:vo,emits:vo,methods:qn,computed:qn,beforeCreate:qe,created:qe,beforeMount:qe,mounted:qe,beforeUpdate:qe,updated:qe,beforeDestroy:qe,beforeUnmount:qe,destroyed:qe,unmounted:qe,activated:qe,deactivated:qe,errorCaptured:qe,serverPrefetch:qe,components:qn,directives:qn,watch:Zc,provide:_o,inject:Qc};function _o(e,t){return t?e?function(){return Ke(re(e)?e.call(this,this):e,re(t)?t.call(this,this):t)}:t:e}function Qc(e,t){return qn(ui(e),ui(t))}function ui(e){if(Z(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function qe(e,t){return e?[...new Set([].concat(e,t))]:t}function qn(e,t){return e?Ke(Object.create(null),e,t):t}function vo(e,t){return e?Z(e)&&Z(t)?[...new Set([...e,...t])]:Ke(Object.create(null),go(e),go(t??{})):t}function Zc(e,t){if(!e)return t;if(!t)return e;const n=Ke(Object.create(null),e);for(const r in t)n[r]=qe(e[r],t[r]);return n}function _l(){return{app:null,config:{isNativeTag:Vu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let eh=0;function th(e,t){return function(r,s=null){re(r)||(r=Ke({},r)),s!=null&&!Te(s)&&(s=null);const i=_l(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:eh++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:jh,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&re(u.install)?(o.add(u),u.install(c,...f)):re(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,h){if(!l){const g=c._ceVNode||_t(r,s);return g.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),e(g,u,h),l=!0,c._container=u,u.__vue_app__=c,Ts(g.component)}},onUnmount(u){a.push(u)},unmount(){l&&(wt(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=En;En=c;try{return u()}finally{En=f}}};return c}}let En=null;function nh(e,t){if(We){let n=We.provides;const r=We.parent&&We.parent.provides;r===n&&(n=We.provides=Object.create(r)),n[e]=t}}function Vr(e,t,n=!1){const r=We||st;if(r||En){let s=En?En._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&re(t)?t.call(r&&r.proxy):t}}const vl={},yl=()=>Object.create(vl),wl=e=>Object.getPrototypeOf(e)===vl;function rh(e,t,n,r=!1){const s={},i=yl();e.propsDefaults=Object.create(null),bl(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:xc(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function sh(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=ye(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(Ss(e.emitsOptions,h))continue;const g=t[h];if(l)if(we(i,h))g!==i[h]&&(i[h]=g,c=!0);else{const x=qt(h);s[x]=ci(l,a,x,g,e,!1)}else g!==i[h]&&(i[h]=g,c=!0)}}}else{bl(e,t,s,i)&&(c=!0);let u;for(const f in a)(!t||!we(t,f)&&((u=an(f))===f||!we(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(s[f]=ci(l,a,f,void 0,e,!0)):delete s[f]);if(i!==a)for(const f in i)(!t||!we(t,f))&&(delete i[f],c=!0)}c&&Ot(e.attrs,"set","")}function bl(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Gn(l))continue;const c=t[l];let u;s&&we(s,u=qt(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Ss(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=ye(n),c=a||be;for(let u=0;u<i.length;u++){const f=i[u];n[f]=ci(s,l,f,c[f],e,!we(c,f))}}return o}function ci(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=we(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&re(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=wr(s);r=c[n]=l.call(null,t),u()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===an(n))&&(r=!0))}return r}const ih=new WeakMap;function xl(e,t,n=!1){const r=n?ih:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!re(e)){const u=f=>{l=!0;const[h,g]=xl(f,t,!0);Ke(o,h),g&&a.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return Te(e)&&r.set(e,xn),xn;if(Z(i))for(let u=0;u<i.length;u++){const f=qt(i[u]);yo(f)&&(o[f]=be)}else if(i)for(const u in i){const f=qt(u);if(yo(f)){const h=i[u],g=o[f]=Z(h)||re(h)?{type:h}:Ke({},h),x=g.type;let A=!1,O=!0;if(Z(x))for(let m=0;m<x.length;++m){const p=x[m],w=re(p)&&p.name;if(w==="Boolean"){A=!0;break}else w==="String"&&(O=!1)}else A=re(x)&&x.name==="Boolean";g[0]=A,g[1]=O,(A||we(g,"default"))&&a.push(f)}}const c=[o,a];return Te(e)&&r.set(e,c),c}function yo(e){return e[0]!=="$"&&!Gn(e)}const Ki=e=>e[0]==="_"||e==="$stable",zi=e=>Z(e)?e.map(gt):[gt(e)],oh=(e,t,n)=>{if(t._n)return t;const r=Mc((...s)=>zi(t(...s)),n);return r._c=!1,r},Sl=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Ki(s))continue;const i=e[s];if(re(i))t[s]=oh(s,i,r);else if(i!=null){const o=zi(i);t[s]=()=>o}}},kl=(e,t)=>{const n=zi(t);e.slots.default=()=>n},Tl=(e,t,n)=>{for(const r in t)(n||!Ki(r))&&(e[r]=t[r])},ah=(e,t,n)=>{const r=e.slots=yl();if(e.vnode.shapeFlag&32){const s=t._;s?(Tl(r,t,n),n&&Da(r,"_",s,!0)):Sl(t,r)}else t&&kl(e,t)},lh=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=be;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:Tl(s,t,n):(i=!t.$stable,Sl(t,s)),o=t}else t&&(kl(e,t),o={default:1});if(i)for(const a in s)!Ki(a)&&o[a]==null&&delete s[a]},Ze=xh;function uh(e){return ch(e)}function ch(e,t){const n=vs();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:g=mt,insertStaticContent:x}=e,A=(d,_,b,P=null,C=null,R=null,F=void 0,N=null,j=!!_.dynamicChildren)=>{if(d===_)return;d&&!Dn(d,_)&&(P=K(d),H(d,C,R,!0),d=null),_.patchFlag===-2&&(j=!1,_.dynamicChildren=null);const{type:M,ref:G,shapeFlag:q}=_;switch(M){case ks:O(d,_,b,P);break;case Vt:m(d,_,b,P);break;case Ns:d==null&&p(_,b,P,F);break;case Fe:L(d,_,b,P,C,R,F,N,j);break;default:q&1?S(d,_,b,P,C,R,F,N,j):q&6?D(d,_,b,P,C,R,F,N,j):(q&64||q&128)&&M.process(d,_,b,P,C,R,F,N,j,fe)}G!=null&&C&&rs(G,d&&d.ref,R,_||d,!_)},O=(d,_,b,P)=>{if(d==null)r(_.el=a(_.children),b,P);else{const C=_.el=d.el;_.children!==d.children&&c(C,_.children)}},m=(d,_,b,P)=>{d==null?r(_.el=l(_.children||""),b,P):_.el=d.el},p=(d,_,b,P)=>{[d.el,d.anchor]=x(d.children,_,b,P,d.el,d.anchor)},w=({el:d,anchor:_},b,P)=>{let C;for(;d&&d!==_;)C=h(d),r(d,b,P),d=C;r(_,b,P)},T=({el:d,anchor:_})=>{let b;for(;d&&d!==_;)b=h(d),s(d),d=b;s(_)},S=(d,_,b,P,C,R,F,N,j)=>{_.type==="svg"?F="svg":_.type==="math"&&(F="mathml"),d==null?I(_,b,P,C,R,F,N,j):ce(d,_,C,R,F,N,j)},I=(d,_,b,P,C,R,F,N)=>{let j,M;const{props:G,shapeFlag:q,transition:J,dirs:X}=d;if(j=d.el=o(d.type,R,G&&G.is,G),q&8?u(j,d.children):q&16&&te(d.children,j,null,P,C,Ls(d,R),F,N),X&&Jt(d,null,P,"created"),V(j,d,d.scopeId,F,P),G){for(const ve in G)ve!=="value"&&!Gn(ve)&&i(j,ve,null,G[ve],R,P);"value"in G&&i(j,"value",null,G.value,R),(M=G.onVnodeBeforeMount)&&ft(M,P,d)}X&&Jt(d,null,P,"beforeMount");const ie=hh(C,J);ie&&J.beforeEnter(j),r(j,_,b),((M=G&&G.onVnodeMounted)||ie||X)&&Ze(()=>{M&&ft(M,P,d),ie&&J.enter(j),X&&Jt(d,null,P,"mounted")},C)},V=(d,_,b,P,C)=>{if(b&&g(d,b),P)for(let R=0;R<P.length;R++)g(d,P[R]);if(C){let R=C.subTree;if(_===R||Pl(R.type)&&(R.ssContent===_||R.ssFallback===_)){const F=C.vnode;V(d,F,F.scopeId,F.slotScopeIds,C.parent)}}},te=(d,_,b,P,C,R,F,N,j=0)=>{for(let M=j;M<d.length;M++){const G=d[M]=N?Nt(d[M]):gt(d[M]);A(null,G,_,b,P,C,R,F,N)}},ce=(d,_,b,P,C,R,F)=>{const N=_.el=d.el;let{patchFlag:j,dynamicChildren:M,dirs:G}=_;j|=d.patchFlag&16;const q=d.props||be,J=_.props||be;let X;if(b&&Kt(b,!1),(X=J.onVnodeBeforeUpdate)&&ft(X,b,_,d),G&&Jt(_,d,b,"beforeUpdate"),b&&Kt(b,!0),(q.innerHTML&&J.innerHTML==null||q.textContent&&J.textContent==null)&&u(N,""),M?he(d.dynamicChildren,M,N,b,P,Ls(_,C),R):F||se(d,_,N,null,b,P,Ls(_,C),R,!1),j>0){if(j&16)U(N,q,J,b,C);else if(j&2&&q.class!==J.class&&i(N,"class",null,J.class,C),j&4&&i(N,"style",q.style,J.style,C),j&8){const ie=_.dynamicProps;for(let ve=0;ve<ie.length;ve++){const de=ie[ve],$e=q[de],Ae=J[de];(Ae!==$e||de==="value")&&i(N,de,$e,Ae,C,b)}}j&1&&d.children!==_.children&&u(N,_.children)}else!F&&M==null&&U(N,q,J,b,C);((X=J.onVnodeUpdated)||G)&&Ze(()=>{X&&ft(X,b,_,d),G&&Jt(_,d,b,"updated")},P)},he=(d,_,b,P,C,R,F)=>{for(let N=0;N<_.length;N++){const j=d[N],M=_[N],G=j.el&&(j.type===Fe||!Dn(j,M)||j.shapeFlag&198)?f(j.el):b;A(j,M,G,null,P,C,R,F,!0)}},U=(d,_,b,P,C)=>{if(_!==b){if(_!==be)for(const R in _)!Gn(R)&&!(R in b)&&i(d,R,_[R],null,C,P);for(const R in b){if(Gn(R))continue;const F=b[R],N=_[R];F!==N&&R!=="value"&&i(d,R,N,F,C,P)}"value"in b&&i(d,"value",_.value,b.value,C)}},L=(d,_,b,P,C,R,F,N,j)=>{const M=_.el=d?d.el:a(""),G=_.anchor=d?d.anchor:a("");let{patchFlag:q,dynamicChildren:J,slotScopeIds:X}=_;X&&(N=N?N.concat(X):X),d==null?(r(M,b,P),r(G,b,P),te(_.children||[],b,G,C,R,F,N,j)):q>0&&q&64&&J&&d.dynamicChildren?(he(d.dynamicChildren,J,b,C,R,F,N),(_.key!=null||C&&_===C.subTree)&&El(d,_,!0)):se(d,_,b,G,C,R,F,N,j)},D=(d,_,b,P,C,R,F,N,j)=>{_.slotScopeIds=N,d==null?_.shapeFlag&512?C.ctx.activate(_,b,P,F,j):Y(_,b,P,C,R,F,j):ke(d,_,j)},Y=(d,_,b,P,C,R,F)=>{const N=d.component=$h(d,P,C);if(hl(d)&&(N.ctx.renderer=fe),Ch(N,!1,F),N.asyncDep){if(C&&C.registerDep(N,_e,F),!d.el){const j=N.subTree=_t(Vt);m(null,j,_,b)}}else _e(N,d,_,b,C,R,F)},ke=(d,_,b)=>{const P=_.component=d.component;if(wh(d,_,b))if(P.asyncDep&&!P.asyncResolved){le(P,_,b);return}else P.next=_,P.update();else _.el=d.el,P.vnode=_},_e=(d,_,b,P,C,R,F)=>{const N=()=>{if(d.isMounted){let{next:q,bu:J,u:X,parent:ie,vnode:ve}=d;{const ze=Al(d);if(ze){q&&(q.el=ve.el,le(d,q,F)),ze.asyncDep.then(()=>{d.isUnmounted||N()});return}}let de=q,$e;Kt(d,!1),q?(q.el=ve.el,le(d,q,F)):q=ve,J&&qr(J),($e=q.props&&q.props.onVnodeBeforeUpdate)&&ft($e,ie,q,ve),Kt(d,!0);const Ae=bo(d),je=d.subTree;d.subTree=Ae,A(je,Ae,f(je.el),K(je),d,C,R),q.el=Ae.el,de===null&&bh(d,Ae.el),X&&Ze(X,C),($e=q.props&&q.props.onVnodeUpdated)&&Ze(()=>ft($e,ie,q,ve),C)}else{let q;const{el:J,props:X}=_,{bm:ie,m:ve,parent:de,root:$e,type:Ae}=d,je=Qn(_);Kt(d,!1),ie&&qr(ie),!je&&(q=X&&X.onVnodeBeforeMount)&&ft(q,de,_),Kt(d,!0);{$e.ce&&$e.ce._injectChildStyle(Ae);const ze=d.subTree=bo(d);A(null,ze,b,P,d,C,R),_.el=ze.el}if(ve&&Ze(ve,C),!je&&(q=X&&X.onVnodeMounted)){const ze=_;Ze(()=>ft(q,de,ze),C)}(_.shapeFlag&256||de&&Qn(de.vnode)&&de.vnode.shapeFlag&256)&&d.a&&Ze(d.a,C),d.isMounted=!0,_=b=P=null}};d.scope.on();const j=d.effect=new qa(N);d.scope.off();const M=d.update=j.run.bind(j),G=d.job=j.runIfDirty.bind(j);G.i=d,G.id=d.uid,j.scheduler=()=>Wi(G),Kt(d,!0),M()},le=(d,_,b)=>{_.component=d;const P=d.vnode.props;d.vnode=_,d.next=null,sh(d,_.props,P,b),lh(d,_.children,b),Ct(),po(d),Pt()},se=(d,_,b,P,C,R,F,N,j=!1)=>{const M=d&&d.children,G=d?d.shapeFlag:0,q=_.children,{patchFlag:J,shapeFlag:X}=_;if(J>0){if(J&128){k(M,q,b,P,C,R,F,N,j);return}else if(J&256){Oe(M,q,b,P,C,R,F,N,j);return}}X&8?(G&16&&Q(M,C,R),q!==M&&u(b,q)):G&16?X&16?k(M,q,b,P,C,R,F,N,j):Q(M,C,R,!0):(G&8&&u(b,""),X&16&&te(q,b,P,C,R,F,N,j))},Oe=(d,_,b,P,C,R,F,N,j)=>{d=d||xn,_=_||xn;const M=d.length,G=_.length,q=Math.min(M,G);let J;for(J=0;J<q;J++){const X=_[J]=j?Nt(_[J]):gt(_[J]);A(d[J],X,b,null,C,R,F,N,j)}M>G?Q(d,C,R,!0,!1,q):te(_,b,P,C,R,F,N,j,q)},k=(d,_,b,P,C,R,F,N,j)=>{let M=0;const G=_.length;let q=d.length-1,J=G-1;for(;M<=q&&M<=J;){const X=d[M],ie=_[M]=j?Nt(_[M]):gt(_[M]);if(Dn(X,ie))A(X,ie,b,null,C,R,F,N,j);else break;M++}for(;M<=q&&M<=J;){const X=d[q],ie=_[J]=j?Nt(_[J]):gt(_[J]);if(Dn(X,ie))A(X,ie,b,null,C,R,F,N,j);else break;q--,J--}if(M>q){if(M<=J){const X=J+1,ie=X<G?_[X].el:P;for(;M<=J;)A(null,_[M]=j?Nt(_[M]):gt(_[M]),b,ie,C,R,F,N,j),M++}}else if(M>J)for(;M<=q;)H(d[M],C,R,!0),M++;else{const X=M,ie=M,ve=new Map;for(M=ie;M<=J;M++){const Be=_[M]=j?Nt(_[M]):gt(_[M]);Be.key!=null&&ve.set(Be.key,M)}let de,$e=0;const Ae=J-ie+1;let je=!1,ze=0;const xt=new Array(Ae);for(M=0;M<Ae;M++)xt[M]=0;for(M=X;M<=q;M++){const Be=d[M];if($e>=Ae){H(Be,C,R,!0);continue}let nt;if(Be.key!=null)nt=ve.get(Be.key);else for(de=ie;de<=J;de++)if(xt[de-ie]===0&&Dn(Be,_[de])){nt=de;break}nt===void 0?H(Be,C,R,!0):(xt[nt-ie]=M+1,nt>=ze?ze=nt:je=!0,A(Be,_[nt],b,null,C,R,F,N,j),$e++)}const Ar=je?fh(xt):xn;for(de=Ar.length-1,M=Ae-1;M>=0;M--){const Be=ie+M,nt=_[Be],Or=Be+1<G?_[Be+1].el:P;xt[M]===0?A(null,nt,b,Or,C,R,F,N,j):je&&(de<0||M!==Ar[de]?y(nt,b,Or,2):de--)}}},y=(d,_,b,P,C=null)=>{const{el:R,type:F,transition:N,children:j,shapeFlag:M}=d;if(M&6){y(d.component.subTree,_,b,P);return}if(M&128){d.suspense.move(_,b,P);return}if(M&64){F.move(d,_,b,fe);return}if(F===Fe){r(R,_,b);for(let q=0;q<j.length;q++)y(j[q],_,b,P);r(d.anchor,_,b);return}if(F===Ns){w(d,_,b);return}if(P!==2&&M&1&&N)if(P===0)N.beforeEnter(R),r(R,_,b),Ze(()=>N.enter(R),C);else{const{leave:q,delayLeave:J,afterLeave:X}=N,ie=()=>{d.ctx.isUnmounted?s(R):r(R,_,b)},ve=()=>{q(R,()=>{ie(),X&&X()})};J?J(R,ie,ve):ve()}else r(R,_,b)},H=(d,_,b,P=!1,C=!1)=>{const{type:R,props:F,ref:N,children:j,dynamicChildren:M,shapeFlag:G,patchFlag:q,dirs:J,cacheIndex:X}=d;if(q===-2&&(C=!1),N!=null&&(Ct(),rs(N,null,b,d,!0),Pt()),X!=null&&(_.renderCache[X]=void 0),G&256){_.ctx.deactivate(d);return}const ie=G&1&&J,ve=!Qn(d);let de;if(ve&&(de=F&&F.onVnodeBeforeUnmount)&&ft(de,_,d),G&6)W(d.component,b,P);else{if(G&128){d.suspense.unmount(b,P);return}ie&&Jt(d,null,_,"beforeUnmount"),G&64?d.type.remove(d,_,b,fe,P):M&&!M.hasOnce&&(R!==Fe||q>0&&q&64)?Q(M,_,b,!1,!0):(R===Fe&&q&384||!C&&G&16)&&Q(j,_,b),P&&z(d)}(ve&&(de=F&&F.onVnodeUnmounted)||ie)&&Ze(()=>{de&&ft(de,_,d),ie&&Jt(d,null,_,"unmounted")},b)},z=d=>{const{type:_,el:b,anchor:P,transition:C}=d;if(_===Fe){B(b,P);return}if(_===Ns){T(d);return}const R=()=>{s(b),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(d.shapeFlag&1&&C&&!C.persisted){const{leave:F,delayLeave:N}=C,j=()=>F(b,R);N?N(d.el,R,j):j()}else R()},B=(d,_)=>{let b;for(;d!==_;)b=h(d),s(d),d=b;s(_)},W=(d,_,b)=>{const{bum:P,scope:C,job:R,subTree:F,um:N,m:j,a:M,parent:G,slots:{__:q}}=d;wo(j),wo(M),P&&qr(P),G&&Z(q)&&q.forEach(J=>{G.renderCache[J]=void 0}),C.stop(),R&&(R.flags|=8,H(F,d,_,b)),N&&Ze(N,_),Ze(()=>{d.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},Q=(d,_,b,P=!1,C=!1,R=0)=>{for(let F=R;F<d.length;F++)H(d[F],_,b,P,C)},K=d=>{if(d.shapeFlag&6)return K(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const _=h(d.anchor||d.el),b=_&&_[jc];return b?h(b):_};let ee=!1;const ue=(d,_,b)=>{d==null?_._vnode&&H(_._vnode,null,null,!0):A(_._vnode||null,d,_,null,null,null,b),_._vnode=d,ee||(ee=!0,po(),al(),ee=!1)},fe={p:A,um:H,m:y,r:z,mt:Y,mc:te,pc:se,pbc:he,n:K,o:e};return{render:ue,hydrate:void 0,createApp:th(ue)}}function Ls({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Kt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function hh(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function El(e,t,n=!1){const r=e.children,s=t.children;if(Z(r)&&Z(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Nt(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&El(o,a)),a.type===ks&&(a.el=o.el),a.type===Vt&&!a.el&&(a.el=o.el)}}function fh(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function Al(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Al(t)}function wo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const dh=Symbol.for("v-scx"),ph=()=>Vr(dh);function er(e,t,n){return Ol(e,t,n)}function Ol(e,t,n=be){const{immediate:r,deep:s,flush:i,once:o}=n,a=Ke({},n),l=t&&r||!t&&i!=="post";let c;if(cr){if(i==="sync"){const g=ph();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=mt,g.resume=mt,g.pause=mt,g}}const u=We;a.call=(g,x,A)=>wt(g,u,x,A);let f=!1;i==="post"?a.scheduler=g=>{Ze(g,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(g,x)=>{x?g():Wi(g)}),a.augmentJob=g=>{t&&(g.flags|=4),f&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const h=Cc(e,t,a);return cr&&(c?c.push(h):l&&h()),h}function gh(e,t,n){const r=this.proxy,s=Ee(e)?e.includes(".")?$l(r,e):()=>r[e]:e.bind(r,r);let i;re(t)?i=t:(i=t.handler,n=t);const o=wr(this),a=Ol(s,i.bind(r),n);return o(),a}function $l(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const mh=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${qt(t)}Modifiers`]||e[`${an(t)}Modifiers`];function _h(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||be;let s=n;const i=t.startsWith("update:"),o=i&&mh(r,t.slice(7));o&&(o.trim&&(s=n.map(u=>Ee(u)?u.trim():u)),o.number&&(s=n.map(ni)));let a,l=r[a=Cs(t)]||r[a=Cs(qt(t))];!l&&i&&(l=r[a=Cs(an(t))]),l&&wt(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,wt(c,e,6,s)}}function Cl(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!re(e)){const l=c=>{const u=Cl(c,t,!0);u&&(a=!0,Ke(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(Te(e)&&r.set(e,null),null):(Z(i)?i.forEach(l=>o[l]=null):Ke(o,i),Te(e)&&r.set(e,o),o)}function Ss(e,t){return!e||!ms(t)?!1:(t=t.slice(2).replace(/Once$/,""),we(e,t[0].toLowerCase()+t.slice(1))||we(e,an(t))||we(e,t))}function bo(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:h,setupState:g,ctx:x,inheritAttrs:A}=e,O=ns(e);let m,p;try{if(n.shapeFlag&4){const T=s||r,S=T;m=gt(c.call(S,T,u,f,g,h,x)),p=a}else{const T=t;m=gt(T.length>1?T(f,{attrs:a,slots:o,emit:l}):T(f,null)),p=t.props?a:vh(a)}}catch(T){tr.length=0,ws(T,e,1),m=_t(Vt)}let w=m;if(p&&A!==!1){const T=Object.keys(p),{shapeFlag:S}=w;T.length&&S&7&&(i&&T.some(Ii)&&(p=yh(p,i)),w=Cn(w,p,!1,!0))}return n.dirs&&(w=Cn(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&Ji(w,n.transition),m=w,ns(O),m}const vh=e=>{let t;for(const n in e)(n==="class"||n==="style"||ms(n))&&((t||(t={}))[n]=e[n]);return t},yh=(e,t)=>{const n={};for(const r in e)(!Ii(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function wh(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?xo(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==r[h]&&!Ss(c,h))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?xo(r,o,c):!0:!!o;return!1}function xo(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Ss(n,i))return!0}return!1}function bh({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Pl=e=>e.__isSuspense;function xh(e,t){t&&t.pendingBranch?Z(e)?t.effects.push(...e):t.effects.push(e):Ic(e)}const Fe=Symbol.for("v-fgt"),ks=Symbol.for("v-txt"),Vt=Symbol.for("v-cmt"),Ns=Symbol.for("v-stc"),tr=[];let et=null;function ae(e=!1){tr.push(et=e?null:[])}function Sh(){tr.pop(),et=tr[tr.length-1]||null}let ur=1;function So(e,t=!1){ur+=e,e<0&&et&&t&&(et.hasOnce=!0)}function Rl(e){return e.dynamicChildren=ur>0?et||xn:null,Sh(),ur>0&&et&&et.push(e),e}function ge(e,t,n,r,s,i){return Rl(v(e,t,n,r,s,i,!0))}function Hn(e,t,n,r,s){return Rl(_t(e,t,n,r,s,!0))}function Il(e){return e?e.__v_isVNode===!0:!1}function Dn(e,t){return e.type===t.type&&e.key===t.key}const Ml=({key:e})=>e??null,Wr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ee(e)||Ue(e)||re(e)?{i:st,r:e,k:t,f:!!n}:e:null);function v(e,t=null,n=null,r=0,s=null,i=e===Fe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ml(t),ref:t&&Wr(t),scopeId:ul,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:st};return a?(Gi(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=Ee(n)?8:16),ur>0&&!o&&et&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&et.push(l),l}const _t=kh;function kh(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Kc)&&(e=Vt),Il(e)){const a=Cn(e,t,!0);return n&&Gi(a,n),ur>0&&!i&&et&&(a.shapeFlag&6?et[et.indexOf(e)]=a:et.push(a)),a.patchFlag=-2,a}if(Mh(e)&&(e=e.__vccOpts),t){t=Th(t);let{class:a,style:l}=t;a&&!Ee(a)&&(t.class=at(a)),Te(l)&&(Vi(l)&&!Z(l)&&(l=Ke({},l)),t.style=Li(l))}const o=Ee(e)?1:Pl(e)?128:Lc(e)?64:Te(e)?4:re(e)?2:0;return v(e,t,n,r,s,o,i,!0)}function Th(e){return e?Vi(e)||wl(e)?Ke({},e):e:null}function Cn(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?Eh(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Ml(c),ref:t&&t.ref?n&&i?Z(i)?i.concat(Wr(t)):[i,Wr(t)]:Wr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Cn(e.ssContent),ssFallback:e.ssFallback&&Cn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Ji(u,l.clone(u)),u}function rt(e=" ",t=0){return _t(ks,null,e,t)}function Je(e="",t=!1){return t?(ae(),Hn(Vt,null,e)):_t(Vt,null,e)}function gt(e){return e==null||typeof e=="boolean"?_t(Vt):Z(e)?_t(Fe,null,e.slice()):Il(e)?Nt(e):_t(ks,null,String(e))}function Nt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Cn(e)}function Gi(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Z(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Gi(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!wl(t)?t._ctx=st:s===3&&st&&(st.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else re(t)?(t={default:t,_ctx:st},n=32):(t=String(t),r&64?(n=16,t=[rt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Eh(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=at([t.class,r.class]));else if(s==="style")t.style=Li([t.style,r.style]);else if(ms(s)){const i=t[s],o=r[s];o&&i!==o&&!(Z(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function ft(e,t,n,r=null){wt(e,t,7,[n,r])}const Ah=_l();let Oh=0;function $h(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Ah,i={uid:Oh++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new nc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xl(r,s),emitsOptions:Cl(r,s),emit:null,emitted:null,propsDefaults:be,inheritAttrs:r.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=_h.bind(null,i),e.ce&&e.ce(i),i}let We=null,is,hi;{const e=vs(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};is=t("__VUE_INSTANCE_SETTERS__",n=>We=n),hi=t("__VUE_SSR_SETTERS__",n=>cr=n)}const wr=e=>{const t=We;return is(e),e.scope.on(),()=>{e.scope.off(),is(t)}},ko=()=>{We&&We.scope.off(),is(null)};function jl(e){return e.vnode.shapeFlag&4}let cr=!1;function Ch(e,t=!1,n=!1){t&&hi(t);const{props:r,children:s}=e.vnode,i=jl(e);rh(e,r,i,t),ah(e,s,n||t);const o=i?Ph(e,t):void 0;return t&&hi(!1),o}function Ph(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,zc);const{setup:r}=n;if(r){Ct();const s=e.setupContext=r.length>1?Ih(e):null,i=wr(e),o=yr(r,e,0,[e.props,s]),a=Ma(o);if(Pt(),i(),(a||e.sp)&&!Qn(e)&&cl(e),a){if(o.then(ko,ko),t)return o.then(l=>{To(e,l)}).catch(l=>{ws(l,e,0)});e.asyncDep=o}else To(e,o)}else Ll(e)}function To(e,t,n){re(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Te(t)&&(e.setupState=rl(t)),Ll(e)}function Ll(e,t,n){const r=e.type;e.render||(e.render=r.render||mt);{const s=wr(e);Ct();try{Gc(e)}finally{Pt(),s()}}}const Rh={get(e,t){return De(e,"get",""),e[t]}};function Ih(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Rh),slots:e.slots,emit:e.emit,expose:t}}function Ts(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(rl(Sc(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Zn)return Zn[n](e)},has(t,n){return n in t||n in Zn}})):e.proxy}function Mh(e){return re(e)&&"__vccOpts"in e}const Vn=(e,t)=>Oc(e,t,cr),jh="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fi;const Eo=typeof window<"u"&&window.trustedTypes;if(Eo)try{fi=Eo.createPolicy("vue",{createHTML:e=>e})}catch{}const Nl=fi?e=>fi.createHTML(e):e=>e,Lh="http://www.w3.org/2000/svg",Nh="http://www.w3.org/1998/Math/MathML",Et=typeof document<"u"?document:null,Ao=Et&&Et.createElement("template"),Dh={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Et.createElementNS(Lh,e):t==="mathml"?Et.createElementNS(Nh,e):n?Et.createElement(e,{is:n}):Et.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Et.createTextNode(e),createComment:e=>Et.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Et.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Ao.innerHTML=Nl(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=Ao.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Fh=Symbol("_vtc");function Uh(e,t,n){const r=e[Fh];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Oo=Symbol("_vod"),Bh=Symbol("_vsh"),qh=Symbol(""),Hh=/(^|;)\s*display\s*:/;function Vh(e,t,n){const r=e.style,s=Ee(n);let i=!1;if(n&&!s){if(t)if(Ee(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Jr(r,a,"")}else for(const o in t)n[o]==null&&Jr(r,o,"");for(const o in n)o==="display"&&(i=!0),Jr(r,o,n[o])}else if(s){if(t!==n){const o=r[qh];o&&(n+=";"+o),r.cssText=n,i=Hh.test(n)}}else t&&e.removeAttribute("style");Oo in e&&(e[Oo]=i?r.display:"",e[Bh]&&(r.display="none"))}const $o=/\s*!important$/;function Jr(e,t,n){if(Z(n))n.forEach(r=>Jr(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Wh(e,t);$o.test(n)?e.setProperty(an(r),n.replace($o,""),"important"):e[r]=n}}const Co=["Webkit","Moz","ms"],Ds={};function Wh(e,t){const n=Ds[t];if(n)return n;let r=qt(t);if(r!=="filter"&&r in e)return Ds[t]=r;r=Na(r);for(let s=0;s<Co.length;s++){const i=Co[s]+r;if(i in e)return Ds[t]=i}return t}const Po="http://www.w3.org/1999/xlink";function Ro(e,t,n,r,s,i=ec(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Po,t.slice(6,t.length)):e.setAttributeNS(Po,t,n):n==null||i&&!Fa(n)?e.removeAttribute(t):e.setAttribute(t,i?"":yt(n)?String(n):n)}function Io(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Nl(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Fa(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(s||t)}function Zt(e,t,n,r){e.addEventListener(t,n,r)}function Jh(e,t,n,r){e.removeEventListener(t,n,r)}const Mo=Symbol("_vei");function Kh(e,t,n,r,s=null){const i=e[Mo]||(e[Mo]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=zh(t);if(r){const c=i[t]=Xh(r,s);Zt(e,a,c,l)}else o&&(Jh(e,a,o,l),i[t]=void 0)}}const jo=/(?:Once|Passive|Capture)$/;function zh(e){let t;if(jo.test(e)){t={};let r;for(;r=e.match(jo);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):an(e.slice(2)),t]}let Fs=0;const Gh=Promise.resolve(),Yh=()=>Fs||(Gh.then(()=>Fs=0),Fs=Date.now());function Xh(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;wt(Qh(r,n.value),t,5,[r])};return n.value=e,n.attached=Yh(),n}function Qh(e,t){if(Z(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Lo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Zh=(e,t,n,r,s,i)=>{const o=s==="svg";t==="class"?Uh(e,r,o):t==="style"?Vh(e,n,r):ms(t)?Ii(t)||Kh(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ef(e,t,r,o))?(Io(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ro(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ee(r))?Io(e,qt(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ro(e,t,r,o))};function ef(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Lo(t)&&re(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Lo(t)&&Ee(n)?!1:t in e}const os=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Z(t)?n=>qr(t,n):t};function tf(e){e.target.composing=!0}function No(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const An=Symbol("_assign"),Dl={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[An]=os(s);const i=r||s.props&&s.props.type==="number";Zt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=ni(a)),e[An](a)}),n&&Zt(e,"change",()=>{e.value=e.value.trim()}),t||(Zt(e,"compositionstart",tf),Zt(e,"compositionend",No),Zt(e,"change",No))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(e[An]=os(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?ni(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===l)||(e.value=l))}},Do={created(e,{value:t},n){e.checked=Qr(t,n.props.value),e[An]=os(n),Zt(e,"change",()=>{e[An](nf(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[An]=os(r),t!==n&&(e.checked=Qr(t,r.props.value))}};function nf(e){return"_value"in e?e._value:e.value}const rf=["ctrl","shift","alt","meta"],sf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>rf.some(n=>e[`${n}Key`]&&!t.includes(n))},hr=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<t.length;o++){const a=sf[t[o]];if(a&&a(s,t))return}return e(s,...i)})},of=Ke({patchProp:Zh},Dh);let Fo;function af(){return Fo||(Fo=uh(of))}const lf=(...e)=>{const t=af().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=cf(r);if(!s)return;const i=t._component;!re(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,uf(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function uf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function cf(e){return Ee(e)?document.querySelector(e):e}const br=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},hf={key:0,class:"action-buttons"},ff=["disabled"],df={class:"players-grid"},pf={class:"avatar-placeholder"},gf=["src"],mf={class:"player-name"},_f={class:"player-actions"},vf=["onClick"],yf=["onClick"],wf=["onClick"],bf={class:"action-buttons"},xf={__name:"PlayerSelector",props:{predefinedPlayers:Array,role:String},emits:["start-game"],setup(e,{emit:t}){const n=e,r=t,s=Me([]),i=Me(""),o=["/shanghai/img/invite_1.jpg","/shanghai/img/invite_2.png","/shanghai/img/invite_3.png","/shanghai/img/invite_4.png","/shanghai/img/invite_5.png","/shanghai/img/invite_6.png","/shanghai/img/invite_7.png","/shanghai/img/invite_8.png","/shanghai/img/invite_9.png","/shanghai/img/invite_10.png","/shanghai/img/invite_11.png"];let a=[...o];function l(){a.length===0&&(a=[...o]);const p=Math.floor(Math.random()*a.length);return a.splice(p,1)[0]}function c(){const p=i.value.trim();if(p===""||s.value.some(T=>T.name===p))return;const w=n.predefinedPlayers.find(T=>T.name===p);s.value.push({name:p,avatar:(w==null?void 0:w.avatar)||l()}),i.value=""}function u(){c()}function f(){s.value=n.predefinedPlayers.map(p=>({id:p.id,name:p.name,avatar:p.avatar||l()}))}function h(p){s.value=s.value.filter(w=>w.name!==p)}function g(p){const w=s.value.findIndex(T=>T.name===p);w<=0||([s.value[w-1],s.value[w]]=[s.value[w],s.value[w-1]])}function x(p){const w=s.value.findIndex(T=>T.name===p);w===-1||w>=s.value.length-1||([s.value[w+1],s.value[w]]=[s.value[w],s.value[w+1]])}function A(){for(let p=s.value.length-1;p>0;p--){const w=Math.floor(Math.random()*(p+1));[s.value[p],s.value[w]]=[s.value[w],s.value[p]]}}function O(){const p=document.documentElement;p.requestFullscreen?p.requestFullscreen():p.mozRequestFullScreen?p.mozRequestFullScreen():p.webkitRequestFullscreen?p.webkitRequestFullscreen():p.msRequestFullscreen&&p.msRequestFullscreen()}function m(){O(),r("start-game",s.value)}return xs(()=>{n.role==="admin"&&f()}),(p,w)=>(ae(),ge(Fe,null,[w[3]||(w[3]=v("h1",null,"Shanghai ",-1)),e.role==="admin"?(ae(),ge("div",hf,[v("a",{href:"#",onClick:w[0]||(w[0]=hr(T=>p.$emit("view-scores"),["prevent"])),class:"link-button"},"Voir le classement")])):Je("",!0),v("form",{onSubmit:hr(c,["prevent"])},[Hr(v("input",{type:"text","onUpdate:modelValue":w[1]||(w[1]=T=>i.value=T),placeholder:"Ajouter un joueur",onChange:u},null,544),[[Dl,i.value]]),v("button",{disabled:i.value.length===0},"Ajouter",8,ff)],32),v("ul",df,[(ae(!0),ge(Fe,null,lr(s.value,T=>(ae(),ge("li",{key:T.name,class:"player-card"},[v("div",pf,[v("img",{src:T.avatar,alt:"avatar",class:"avatar-img"},null,8,gf)]),v("div",mf,$(T.name),1),v("div",_f,[v("button",{onClick:S=>g(T.name)},"",8,vf),v("button",{onClick:S=>h(T.name)},"",8,yf),v("button",{onClick:S=>x(T.name)},"",8,wf)])]))),128))]),v("div",bf,[s.value.length>=2?(ae(),ge("button",{key:0,onClick:w[2]||(w[2]=T=>A())},"Ordre alatoire")):Je("",!0),s.value.length>=1?(ae(),ge("button",{key:1,onClick:m,class:"jouer-button"},"JOUER")):Je("",!0)]),w[4]||(w[4]=v("br",null,null,-1))],64))}},Sf=br(xf,[["__scopeId","data-v-91569e23"]]),kf="modulepreload",Tf=function(e){return"/shanghai/"+e},Uo={},xr=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=o(n.map(c=>{if(c=Tf(c),c in Uo)return;Uo[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":kf,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((g,x)=>{h.addEventListener("load",g),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Ef=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xr(async()=>{const{default:r}=await Promise.resolve().then(()=>Mn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Yi extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Af extends Yi{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Of extends Yi{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $f extends Yi{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var di;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(di||(di={}));var Cf=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Pf{constructor(t,{headers:n={},customFetch:r,region:s=di.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Ef(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Cf(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(x=>{throw new Af(x)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new Of(u);if(!u.ok)throw new $f(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield u.json():h==="application/octet-stream"?g=yield u.blob():h==="text/event-stream"?g=u:h==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}function Rf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function If(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Ce={},cn={},hn={},fn={},dn={},pn={},Mf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pn=Mf();const jf=Pn.fetch,Fl=Pn.fetch.bind(Pn),Ul=Pn.Headers,Lf=Pn.Request,Nf=Pn.Response,Mn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ul,Request:Lf,Response:Nf,default:Fl,fetch:jf},Symbol.toStringTag,{value:"Module"})),Df=If(Mn);var Rr={},Bo;function Bl(){if(Bo)return Rr;Bo=1,Object.defineProperty(Rr,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Rr.default=e,Rr}var qo;function ql(){if(qo)return pn;qo=1;var e=pn&&pn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(pn,"__esModule",{value:!0});const t=e(Df),n=e(Bl());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,f,h;let g=null,x=null,A=null,O=c.status,m=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=S:x=JSON.parse(S))}const w=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),T=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&T&&T.length>1&&(A=parseInt(T[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(g={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,A=null,O=406,m="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const w=await c.text();try{g=JSON.parse(w),Array.isArray(g)&&c.status===404&&(x=[],g=null,O=200,m="OK")}catch{c.status===404&&w===""?(O=204,m="No Content"):g={message:w}}if(g&&this.isMaybeSingle&&(!((h=g==null?void 0:g.details)===null||h===void 0)&&h.includes("0 rows"))&&(g=null,O=200,m="OK"),g&&this.shouldThrowOnError)throw new n.default(g)}return{error:g,data:x,count:A,status:O,statusText:m}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,f,h;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(f=c==null?void 0:c.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return pn.default=r,pn}var Ho;function Hl(){if(Ho)return dn;Ho=1;var e=dn&&dn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dn,"__esModule",{value:!0});const t=e(ql());class n extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${h}"; options=${f};`,c==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return dn.default=n,dn}var Vo;function Xi(){if(Vo)return fn;Vo=1;var e=fn&&fn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fn,"__esModule",{value:!0});const t=e(Hl());class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${l}fts${c}.${i}`),this}match(s){return Object.entries(s).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(s,i,o){return this.url.searchParams.append(s,`not.${i}.${o}`),this}or(s,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,i,o){return this.url.searchParams.append(s,`${i}.${o}`),this}}return fn.default=n,fn}var Wo;function Vl(){if(Wo)return hn;Wo=1;var e=hn&&hn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hn,"__esModule",{value:!0});const t=e(Xi());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=i,this.schema=o,this.fetch=a}select(s,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(s??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(s)){const c=s.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(s)){const f=s.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(f.length>0){const h=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const i="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return hn.default=n,hn}var Fn={},Un={},Jo;function Ff(){return Jo||(Jo=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.version=void 0,Un.version="0.0.0-automated"),Un}var Ko;function Uf(){if(Ko)return Fn;Ko=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.DEFAULT_HEADERS=void 0;const e=Ff();return Fn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Fn}var zo;function Bf(){if(zo)return cn;zo=1;var e=cn&&cn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cn,"__esModule",{value:!0});const t=e(Vl()),n=e(Xi()),r=Uf();class s{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let f;const h=new URL(`${this.url}/rpc/${o}`);let g;l||c?(f=l?"HEAD":"GET",Object.entries(a).filter(([A,O])=>O!==void 0).map(([A,O])=>[A,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([A,O])=>{h.searchParams.append(A,O)})):(f="POST",g=a);const x=Object.assign({},this.headers);return u&&(x.Prefer=`count=${u}`),new n.default({method:f,url:h,headers:x,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return cn.default=s,cn}var Go;function qf(){if(Go)return Ce;Go=1;var e=Ce&&Ce.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const t=e(Bf());Ce.PostgrestClient=t.default;const n=e(Vl());Ce.PostgrestQueryBuilder=n.default;const r=e(Xi());Ce.PostgrestFilterBuilder=r.default;const s=e(Hl());Ce.PostgrestTransformBuilder=s.default;const i=e(ql());Ce.PostgrestBuilder=i.default;const o=e(Bl());return Ce.PostgrestError=o.default,Ce.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ce}var Hf=qf();const Vf=Rf(Hf),{PostgrestClient:Wf,PostgrestQueryBuilder:Nv,PostgrestFilterBuilder:Dv,PostgrestTransformBuilder:Fv,PostgrestBuilder:Uv,PostgrestError:Bv}=Vf;let pi;typeof window>"u"?pi=require("ws"):pi=window.WebSocket;const Jf="2.11.10",Kf={"X-Client-Info":`realtime-js/${Jf}`},zf="1.0.0",Wl=1e4,Gf=1e3;var On;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(On||(On={}));var He;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(He||(He={}));var lt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(lt||(lt={}));var gi;(function(e){e.websocket="websocket"})(gi||(gi={}));var en;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(en||(en={}));class Yf{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}let Jl=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xe||(xe={}));const Yo=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Xf(o,e,t,s),i),{})},Xf=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Kl(i,o):mi(o)},Kl=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return td(t,n)}switch(e){case xe.bool:return Qf(t);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return Zf(t);case xe.json:case xe.jsonb:return ed(t);case xe.timestamp:return nd(t);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return mi(t);default:return mi(t)}},mi=e=>e,Qf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Zf=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ed=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},td=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Kl(t,a))}return e},nd=e=>typeof e=="string"?e.replace(" ","T"):e,zl=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Us{constructor(t,n,r={},s=Wl){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Xo;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Xo||(Xo={}));class nr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=nr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=nr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=i[c];if(f){const h=u.map(O=>O.presence_ref),g=f.map(O=>O.presence_ref),x=u.filter(O=>g.indexOf(O.presence_ref)<0),A=f.filter(O=>h.indexOf(O.presence_ref)<0);x.length>0&&(a[c]=x),A.length>0&&(l[c]=A)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const f=t[a].map(g=>g.presence_ref),h=u.filter(g=>f.indexOf(g.presence_ref)<0);t[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qo;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qo||(Qo={}));var Zo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zo||(Zo={}));var At;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(At||(At={}));class Qi{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Us(this,lt.join,this.params,this.timeout),this.rejoinTimer=new Jl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new nr(this),this.broadcastEndpointURL=zl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(At.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(At.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(At.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let A=0;A<g;A++){const O=h[A],{filter:{event:m,schema:p,table:w,filter:T}}=O,S=u&&u[A];if(S&&S.event===m&&S.schema===p&&S.table===w&&S.filter===T)x.push(Object.assign(Object.assign({},O),{id:S.id}));else{this.unsubscribe(),this.state=He.errored,t==null||t(At.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(At.SUBSCRIBED);return}}).receive("error",u=>{this.state=He.errored,t==null||t(At.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(At.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=He.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new Us(this,lt.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Us(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=lt;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,A,O;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((O=(A=g.filter)===null||A===void 0?void 0:A.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===o}).map(g=>g.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var x,A,O,m,p,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const T=g.id,S=(x=g.filter)===null||x===void 0?void 0:x.event;return T&&((A=n.ids)===null||A===void 0?void 0:A.includes(T))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const T=(p=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return T==="*"||T===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:A,table:O,commit_timestamp:m,type:p,errors:w}=x;h=Object.assign(Object.assign({},{schema:A,table:O,commit_timestamp:m,eventType:p,new:{},old:{},errors:w}),this._getPayloadRecords(x))}g.callback(h,r)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Qi.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(lt.close,{},t)}_onError(t){this._on(lt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Yo(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Yo(t.columns,t.old_record)),n}}const ea=()=>{},rd=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sd{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Kf,this.params={},this.timeout=Wl,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ea,this.ref=0,this.logger=ea,this.conn=null,this.sendBuffer=[],this.serializer=new Yf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>xr(async()=>{const{default:l}=await Promise.resolve().then(()=>Mn);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${gi.websocket}`,this.httpEndpoint=zl(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=pi),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new id(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zf}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case On.connecting:return en.Connecting;case On.open:return en.Open;case On.closing:return en.Closing;default:return en.Closed}}isConnected(){return this.connectionState()===en.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Qi(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(lt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Gf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(lt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([rd],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class id{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=On.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Zi extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class od extends Zi{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _i extends Zi{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var ad=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Gl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xr(async()=>{const{default:r}=await Promise.resolve().then(()=>Mn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ld=()=>ad(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xr(()=>Promise.resolve().then(()=>Mn),void 0)).Response:Response}),vi=e=>{if(Array.isArray(e))return e.map(n=>vi(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=vi(r)}),t};var ln=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Bs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ud=(e,t,n)=>ln(void 0,void 0,void 0,function*(){const r=yield ld();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new od(Bs(s),e.status||500))}).catch(s=>{t(new _i(Bs(s),s))}):t(new _i(Bs(e),e))}),cd=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Sr(e,t,n,r,s,i){return ln(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,cd(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ud(l,a,r))})})}function as(e,t,n,r){return ln(this,void 0,void 0,function*(){return Sr(e,"GET",t,n,r)})}function Dt(e,t,n,r,s){return ln(this,void 0,void 0,function*(){return Sr(e,"POST",t,r,s,n)})}function hd(e,t,n,r,s){return ln(this,void 0,void 0,function*(){return Sr(e,"PUT",t,r,s,n)})}function fd(e,t,n,r){return ln(this,void 0,void 0,function*(){return Sr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Yl(e,t,n,r,s){return ln(this,void 0,void 0,function*(){return Sr(e,"DELETE",t,r,s,n)})}var Ge=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const dd={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ta={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pd{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Gl(s)}uploadOrUpdate(t,n,r,s){return Ge(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ta),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Pe(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:ta.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Zi("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ge(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield Dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ge(this,void 0,void 0,function*(){try{const s=yield Dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}download(t,n){return Ge(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield as(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Pe(a))return{data:null,error:a};throw a}})}info(t){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield as(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:vi(r),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}exists(t){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield fd(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Pe(r)&&r instanceof _i){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ge(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},dd),n),{prefix:t||""});return{data:yield Dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const gd="2.7.1",md={"X-Client-Info":`storage-js/${gd}`};var gn=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class _d{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},md),n),this.fetch=Gl(r)}listBuckets(){return gn(this,void 0,void 0,function*(){try{return{data:yield as(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}})}getBucket(t){return gn(this,void 0,void 0,function*(){try{return{data:yield as(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return gn(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return gn(this,void 0,void 0,function*(){try{return{data:yield hd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return gn(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return gn(this,void 0,void 0,function*(){try{return{data:yield Yl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}}class vd extends _d{constructor(t,n={},r){super(t,n,r)}from(t){return new pd(this.url,this.headers,t,this.fetch)}}const yd="2.50.0";let Wn="";typeof Deno<"u"?Wn="deno":typeof document<"u"?Wn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wn="react-native":Wn="node";const wd={"X-Client-Info":`supabase-js-${Wn}/${yd}`},bd={headers:wd},xd={schema:"public"},Sd={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kd={};var Td=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Ed=e=>{let t;return e?t=e:typeof fetch>"u"?t=Fl:t=fetch,(...n)=>t(...n)},Ad=()=>typeof Headers>"u"?Ul:Headers,Od=(e,t,n)=>{const r=Ed(n),s=Ad();return(i,o)=>Td(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var $d=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function Cd(e){return e.endsWith("/")?e:e+"/"}function Pd(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:f}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>$d(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Xl="2.70.0",wn=30*1e3,yi=3,qs=yi*wn,Rd="http://localhost:9999",Id="supabase.auth.token",Md={"X-Client-Info":`gotrue-js/${Xl}`},wi="X-Supabase-Api-Version",Ql={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jd=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ld=6e5;class eo extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Nd extends eo{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Dd(e){return ne(e)&&e.name==="AuthApiError"}class Zl extends eo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Wt extends eo{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class jt extends Wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fd(e){return ne(e)&&e.name==="AuthSessionMissingError"}class Ir extends Wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mr extends Wt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jr extends Wt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ud(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class na extends Wt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bi extends Wt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Hs(e){return ne(e)&&e.name==="AuthRetryableFetchError"}class ra extends Wt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class rr extends Wt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ls="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sa=` 	
\r=`.split(""),Bd=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<sa.length;t+=1)e[sa[t].charCodeAt(0)]=-2;for(let t=0;t<ls.length;t+=1)e[ls[t].charCodeAt(0)]=t;return e})();function ia(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ls[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ls[r]),t.queuedBits-=6}}function eu(e,t,n){const r=Bd[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function oa(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Vd(o,r,n)};for(let o=0;o<e.length;o+=1)eu(e.charCodeAt(o),s,i);return t.join("")}function qd(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Hd(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}qd(r,t)}}function Vd(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Wd(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)eu(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Jd(e){const t=[];return Hd(e,n=>t.push(n)),new Uint8Array(t)}function Kd(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ia(s,n,r)),ia(null,n,r),t.join("")}function zd(e){return Math.round(Date.now()/1e3)+e}function Gd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ot=()=>typeof window<"u"&&typeof document<"u",zt={tested:!1,writable:!1},sr=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zt.tested)return zt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zt.tested=!0,zt.writable=!0}catch{zt.tested=!0,zt.writable=!1}return zt.writable};function Yd(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const tu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xr(async()=>{const{default:r}=await Promise.resolve().then(()=>Mn);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Xd=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nu=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Lr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Nr=async(e,t)=>{await e.removeItem(t)};class Es{constructor(){this.promise=new Es.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Es.promiseConstructor=Promise;function Vs(e){const t=e.split(".");if(t.length!==3)throw new rr("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!jd.test(t[r]))throw new rr("JWT not in base64url format");return{header:JSON.parse(oa(t[0])),payload:JSON.parse(oa(t[1])),signature:Wd(t[2]),raw:{header:t[0],payload:t[1]}}}async function Qd(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Zd(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function ep(e){return("0"+e.toString(16)).substr(-2)}function tp(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,ep).join("")}async function np(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function rp(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await np(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mn(e,t,n=!1){const r=tp();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await nu(e,`${t}-code-verifier`,s);const i=await rp(r);return[i,r===i?"plain":"s256"]}const sp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ip(e){const t=e.headers.get(wi);if(!t||!t.match(sp))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function op(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ap(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _n(e){if(!lp.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var up=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Xt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cp=[502,503,504];async function aa(e){var t;if(!Xd(e))throw new bi(Xt(e),0);if(cp.includes(e.status))throw new bi(Xt(e),e.status);let n;try{n=await e.json()}catch(i){throw new Zl(Xt(i),i)}let r;const s=ip(e);if(s&&s.getTime()>=Ql["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ra(Xt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ra(Xt(n),e.status,n.weak_password.reasons);throw new Nd(Xt(n),e.status||500,r)}const hp=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function oe(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[wi]||(i[wi]=Ql["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await fp(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function fp(e,t,n,r,s,i){const o=hp(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new bi(Xt(l),0)}if(a.ok||await aa(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await aa(l)}}function Tt(e){var t;let n=null;mp(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=zd(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function la(e){const t=Tt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ut(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dp(e){return{data:e,error:null}}function pp(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=up(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function gp(e){return e}function mp(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ws=["global","local","others"];var _p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class vp{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=tu(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Ws[0]){if(Ws.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ws.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ut})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=_p(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:pp,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ut})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:gp});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(x=>{const A=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(x.split(";")[1].split("=")[1]);c[`${O}Page`]=A}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ne(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){_n(t);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ut})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){_n(t);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ut})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){_n(t);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ut})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){_n(t.userId);try{const{data:n,error:r}=await oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteFactor(t){_n(t.userId),_n(t.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}}const yp={getItem:e=>sr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{sr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{sr()&&globalThis.localStorage.removeItem(e)}};function ua(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function wp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vn={debug:!!(globalThis&&sr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ru extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bp extends ru{}async function xp(e,t,n){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}wp();const Sp={url:Rd,storageKey:Id,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Md,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ca(e,t,n){return await n()}class fr{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fr.nextInstanceID,fr.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Sp),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vp({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=tu(s.fetch),this.lock=s.lock||ca,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=xp:this.lock=ca,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:sr()?this.storage=yp:(this.memoryStorage={},this.storage=ua(this.memoryStorage)):(this.memoryStorage={},this.storage=ua(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Xl}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Yd(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ot()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ud(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ne(n)?{error:n}:{error:new Zl("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Tt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:u,password:f,options:h}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await mn(this.storage,this.storageKey)),i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:x},xform:Tt})}else if("phone"in t){const{phone:u,password:f,options:h}=t;i=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tt})}else throw new Mr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:la})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:la})}else throw new Mr("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ir}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,a,l,c,u,f,h,g;let x,A;if("message"in t)x=t.message,A=t.signature;else{const{chain:O,wallet:m,statement:p,options:w}=t;let T;if(ot())if(typeof m=="object")T=m;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))T=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=m}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const I=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let V;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")V=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)V=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)x=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),A=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const I=await T.signMessage(new TextEncoder().encode(x),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=I}}try{const{data:O,error:m}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Kd(A)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Tt});if(m)throw m;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new Ir}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:m})}catch(O){if(ne(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(t){const n=await Lr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Tt});if(await Nr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ir}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ne(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ir}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await mn(this.storage,this.storageKey));const{error:f}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Mr("You must provide either an email or phone number.")}catch(a){if(ne(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Tt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await mn(this.storage,this.storageKey)),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:dp})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new jt;const{error:s}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await oe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Mr("You must provide either an email or phone number and a type")}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<qs:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ut}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ut})})}catch(n){if(ne(n))return Fd(n)&&(await this._removeSession(),await Nr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new jt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await mn(this.storage,this.storageKey));const{data:c,error:u}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ut});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Vs(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ne(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new jt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ot())throw new jr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new jr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new na("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new na("No code detected.");const{data:p,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new jr("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let h=u+f;l&&(h=parseInt(l));const g=h-u;g*1e3<=wn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=h-f;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,u);const{data:A,error:O}=await this._getUser(i);if(O)throw O;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(ne(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Lr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Dd(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Nr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Gd(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await mn(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:f,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return ot()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ne(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Zd(async s=>(s>0&&await Qd(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Hs(i)&&Date.now()+o-r<wn})}catch(r){if(this._debug(n,"error",r),ne(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ot()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Lr(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<qs;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${qs}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Hs(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Es;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ne(i)){const o={session:null,error:i};return Hs(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await nu(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Nr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/wn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${wn}ms, refresh threshold is ${yi} ticks`),s<=yi&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ru)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await mn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(ne(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ne(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Vs(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Ld>Date.now()))return r;const{data:s,error:i}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new rr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new rr("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};r=g.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Vs(r);if(op(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:s,signature:o},error:null}}const c=ap(s.alg),u=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,Jd(`${a}.${l}`)))throw new rr("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}}fr.nextInstanceID=0;const kp=fr;class Tp extends kp{constructor(t){super(t)}}var Ep=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Ap{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Cd(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:xd,realtime:kd,auth:Object.assign(Object.assign({},Sd),{storageKey:c}),global:bd},f=Pd(r??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Od(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Wf(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Pf(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vd(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Ep(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tp({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new sd(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Op=(e,t,n)=>new Ap(e,t,n),$p="https://kueodidcmdsxaoctjtug.supabase.co/",Cp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt1ZW9kaWRjbWRzeGFvY3RqdHVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk2NzE0NzYsImV4cCI6MjA2NTI0NzQ3Nn0.zuRgrGhf-PwpeX_1yJaUxXda4-uKw4Fk6gxrhcelpZI",to=Op($p,Cp),Pp="admin@monapp.local";async function Rp(e){const{data:t,error:n}=await to.auth.signInWithPassword({email:Pp,password:e});return n?(console.error("Erreur login:",n.message),!1):!0}function su(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iu(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ip(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(s=+s)>=s&&++n}return n}class Mp extends Map{constructor(t,n=Np){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(ha(this,t))}has(t){return super.has(ha(this,t))}set(t,n){return super.set(jp(this,t),n)}delete(t){return super.delete(Lp(this,t))}}function ha({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function jp({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Lp({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Np(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fa(e){return e}function Dp(e,...t){return Fp(e,fa,fa,t)}function Fp(e,t,n,r){return function s(i,o){if(o>=r.length)return n(i);const a=new Mp,l=r[o++];let c=-1;for(const u of i){const f=l(u,++c,i),h=a.get(f);h?h.push(u):a.set(f,[u])}for(const[u,f]of a)a.set(u,s(f,o));return t(a)}(e,0)}function ou(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function Up(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}function au(e,t){let n=0,r=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(++n,r+=s);else{let s=-1;for(let i of e)(i=t(i,++s,e))!=null&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function Bp(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++r<s;)i[r]=e+r*n;return i}function xi(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let s of e)(s=+t(s,++r,e))&&(n+=s)}return n}var qp={value:()=>{}};function lu(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Kr(n)}function Kr(e){this._=e}function Hp(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Kr.prototype=lu.prototype={constructor:Kr,on:function(e,t){var n=this._,r=Hp(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=Vp(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=da(n[s],e.name,t);else if(t==null)for(s in n)n[s]=da(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Kr(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function Vp(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function da(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=qp,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Si="http://www.w3.org/1999/xhtml";const pa={svg:"http://www.w3.org/2000/svg",xhtml:Si,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function As(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),pa.hasOwnProperty(t)?{space:pa[t],local:e}:e}function Wp(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Si&&t.documentElement.namespaceURI===Si?t.createElement(e):t.createElementNS(n,e)}}function Jp(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function no(e){var t=As(e);return(t.local?Jp:Wp)(t)}function Kp(){}function ro(e){return e==null?Kp:function(){return this.querySelector(e)}}function zp(e){typeof e!="function"&&(e=ro(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=new Array(o),l,c,u=0;u<o;++u)(l=i[u])&&(c=e.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new tt(r,this._parents)}function Gp(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Yp(){return[]}function uu(e){return e==null?Yp:function(){return this.querySelectorAll(e)}}function Xp(e){return function(){return Gp(e.apply(this,arguments))}}function Qp(e){typeof e=="function"?e=Xp(e):e=uu(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(e.call(l,l.__data__,c,o)),s.push(l));return new tt(r,s)}function cu(e){return function(){return this.matches(e)}}function hu(e){return function(t){return t.matches(e)}}var Zp=Array.prototype.find;function eg(e){return function(){return Zp.call(this.children,e)}}function tg(){return this.firstElementChild}function ng(e){return this.select(e==null?tg:eg(typeof e=="function"?e:hu(e)))}var rg=Array.prototype.filter;function sg(){return Array.from(this.children)}function ig(e){return function(){return rg.call(this.children,e)}}function og(e){return this.selectAll(e==null?sg:ig(typeof e=="function"?e:hu(e)))}function ag(e){typeof e!="function"&&(e=cu(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&a.push(l);return new tt(r,this._parents)}function fu(e){return new Array(e.length)}function lg(){return new tt(this._enter||this._groups.map(fu),this._parents)}function us(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}us.prototype={constructor:us,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ug(e){return function(){return e}}function cg(e,t,n,r,s,i){for(var o=0,a,l=t.length,c=i.length;o<c;++o)(a=t[o])?(a.__data__=i[o],r[o]=a):n[o]=new us(e,i[o]);for(;o<l;++o)(a=t[o])&&(s[o]=a)}function hg(e,t,n,r,s,i,o){var a,l,c=new Map,u=t.length,f=i.length,h=new Array(u),g;for(a=0;a<u;++a)(l=t[a])&&(h[a]=g=o.call(l,l.__data__,a,t)+"",c.has(g)?s[a]=l:c.set(g,l));for(a=0;a<f;++a)g=o.call(e,i[a],a,i)+"",(l=c.get(g))?(r[a]=l,l.__data__=i[a],c.delete(g)):n[a]=new us(e,i[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(s[a]=l)}function fg(e){return e.__data__}function dg(e,t){if(!arguments.length)return Array.from(this,fg);var n=t?hg:cg,r=this._parents,s=this._groups;typeof e!="function"&&(e=ug(e));for(var i=s.length,o=new Array(i),a=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],f=s[c],h=f.length,g=pg(e.call(u,u&&u.__data__,c,r)),x=g.length,A=a[c]=new Array(x),O=o[c]=new Array(x),m=l[c]=new Array(h);n(u,f,A,O,m,g,t);for(var p=0,w=0,T,S;p<x;++p)if(T=A[p]){for(p>=w&&(w=p+1);!(S=O[w])&&++w<x;);T._next=S||null}}return o=new tt(o,r),o._enter=a,o._exit=l,o}function pg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gg(){return new tt(this._exit||this._groups.map(fu),this._parents)}function mg(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function _g(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),a=new Array(s),l=0;l<o;++l)for(var c=n[l],u=r[l],f=c.length,h=a[l]=new Array(f),g,x=0;x<f;++x)(g=c[x]||u[x])&&(h[x]=g);for(;l<s;++l)a[l]=n[l];return new tt(a,this._parents)}function vg(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function yg(e){e||(e=wg);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],a=o.length,l=s[i]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new tt(s,this._parents).order()}function wg(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bg(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function xg(){return Array.from(this)}function Sg(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function kg(){let e=0;for(const t of this)++e;return e}function Tg(){return!this.node()}function Eg(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,a;i<o;++i)(a=s[i])&&e.call(a,a.__data__,i,s);return this}function Ag(e){return function(){this.removeAttribute(e)}}function Og(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $g(e,t){return function(){this.setAttribute(e,t)}}function Cg(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Pg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Rg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ig(e,t){var n=As(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Og:Ag:typeof t=="function"?n.local?Rg:Pg:n.local?Cg:$g)(n,t))}function du(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Mg(e){return function(){this.style.removeProperty(e)}}function jg(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Lg(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ng(e,t,n){return arguments.length>1?this.each((t==null?Mg:typeof t=="function"?Lg:jg)(e,t,n??"")):Rn(this.node(),e)}function Rn(e,t){return e.style.getPropertyValue(t)||du(e).getComputedStyle(e,null).getPropertyValue(t)}function Dg(e){return function(){delete this[e]}}function Fg(e,t){return function(){this[e]=t}}function Ug(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Bg(e,t){return arguments.length>1?this.each((t==null?Dg:typeof t=="function"?Ug:Fg)(e,t)):this.node()[e]}function pu(e){return e.trim().split(/^|\s+/)}function so(e){return e.classList||new gu(e)}function gu(e){this._node=e,this._names=pu(e.getAttribute("class")||"")}gu.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function mu(e,t){for(var n=so(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function _u(e,t){for(var n=so(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function qg(e){return function(){mu(this,e)}}function Hg(e){return function(){_u(this,e)}}function Vg(e,t){return function(){(t.apply(this,arguments)?mu:_u)(this,e)}}function Wg(e,t){var n=pu(e+"");if(arguments.length<2){for(var r=so(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?Vg:t?qg:Hg)(n,t))}function Jg(){this.textContent=""}function Kg(e){return function(){this.textContent=e}}function zg(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Gg(e){return arguments.length?this.each(e==null?Jg:(typeof e=="function"?zg:Kg)(e)):this.node().textContent}function Yg(){this.innerHTML=""}function Xg(e){return function(){this.innerHTML=e}}function Qg(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Zg(e){return arguments.length?this.each(e==null?Yg:(typeof e=="function"?Qg:Xg)(e)):this.node().innerHTML}function em(){this.nextSibling&&this.parentNode.appendChild(this)}function tm(){return this.each(em)}function nm(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rm(){return this.each(nm)}function sm(e){var t=typeof e=="function"?e:no(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function im(){return null}function om(e,t){var n=typeof e=="function"?e:no(e),r=t==null?im:typeof t=="function"?t:ro(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function am(){var e=this.parentNode;e&&e.removeChild(this)}function lm(){return this.each(am)}function um(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cm(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hm(e){return this.select(e?cm:um)}function fm(e){return arguments.length?this.property("__data__",e):this.node().__data__}function dm(e){return function(t){e.call(this,t,this.__data__)}}function pm(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function gm(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function mm(e,t,n){return function(){var r=this.__on,s,i=dm(t);if(r){for(var o=0,a=r.length;o<a;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function _m(e,t,n){var r=pm(e+""),s,i=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(s=0,u=a[l];s<i;++s)if((o=r[s]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?mm:gm,s=0;s<i;++s)this.each(a(r[s],t,n));return this}function vu(e,t,n){var r=du(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function vm(e,t){return function(){return vu(this,e,t)}}function ym(e,t){return function(){return vu(this,e,t.apply(this,arguments))}}function wm(e,t){return this.each((typeof t=="function"?ym:vm)(e,t))}function*bm(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var yu=[null];function tt(e,t){this._groups=e,this._parents=t}function kr(){return new tt([[document.documentElement]],yu)}function xm(){return this}tt.prototype=kr.prototype={constructor:tt,select:zp,selectAll:Qp,selectChild:ng,selectChildren:og,filter:ag,data:dg,enter:lg,exit:gg,join:mg,merge:_g,selection:xm,order:vg,sort:yg,call:bg,nodes:xg,node:Sg,size:kg,empty:Tg,each:Eg,attr:Ig,style:Ng,property:Bg,classed:Wg,text:Gg,html:Zg,raise:tm,lower:rm,append:sm,insert:om,remove:lm,clone:hm,datum:fm,on:_m,dispatch:wm,[Symbol.iterator]:bm};function Sm(e){return typeof e=="string"?new tt([[document.querySelector(e)]],[document.documentElement]):new tt([[e]],yu)}function km(e){return Sm(no(e).call(document.documentElement))}function io(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Tr(){}var dr=.7,cs=1/dr,$n="\\s*([+-]?\\d+)\\s*",pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tm=/^#([0-9a-f]{3,8})$/,Em=new RegExp(`^rgb\\(${$n},${$n},${$n}\\)$`),Am=new RegExp(`^rgb\\(${vt},${vt},${vt}\\)$`),Om=new RegExp(`^rgba\\(${$n},${$n},${$n},${pr}\\)$`),$m=new RegExp(`^rgba\\(${vt},${vt},${vt},${pr}\\)$`),Cm=new RegExp(`^hsl\\(${pr},${vt},${vt}\\)$`),Pm=new RegExp(`^hsla\\(${pr},${vt},${vt},${pr}\\)$`),ga={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};io(Tr,gr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ma,formatHex:ma,formatHex8:Rm,formatHsl:Im,formatRgb:_a,toString:_a});function ma(){return this.rgb().formatHex()}function Rm(){return this.rgb().formatHex8()}function Im(){return bu(this).formatHsl()}function _a(){return this.rgb().formatRgb()}function gr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Tm.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?va(t):n===3?new Qe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Dr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Dr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Em.exec(e))?new Qe(t[1],t[2],t[3],1):(t=Am.exec(e))?new Qe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Om.exec(e))?Dr(t[1],t[2],t[3],t[4]):(t=$m.exec(e))?Dr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Cm.exec(e))?ba(t[1],t[2]/100,t[3]/100,1):(t=Pm.exec(e))?ba(t[1],t[2]/100,t[3]/100,t[4]):ga.hasOwnProperty(e)?va(ga[e]):e==="transparent"?new Qe(NaN,NaN,NaN,0):null}function va(e){return new Qe(e>>16&255,e>>8&255,e&255,1)}function Dr(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qe(e,t,n,r)}function Mm(e){return e instanceof Tr||(e=gr(e)),e?(e=e.rgb(),new Qe(e.r,e.g,e.b,e.opacity)):new Qe}function ki(e,t,n,r){return arguments.length===1?Mm(e):new Qe(e,t,n,r??1)}function Qe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}io(Qe,ki,wu(Tr,{brighter(e){return e=e==null?cs:Math.pow(cs,e),new Qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dr:Math.pow(dr,e),new Qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qe(sn(this.r),sn(this.g),sn(this.b),hs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ya,formatHex:ya,formatHex8:jm,formatRgb:wa,toString:wa}));function ya(){return`#${nn(this.r)}${nn(this.g)}${nn(this.b)}`}function jm(){return`#${nn(this.r)}${nn(this.g)}${nn(this.b)}${nn((isNaN(this.opacity)?1:this.opacity)*255)}`}function wa(){const e=hs(this.opacity);return`${e===1?"rgb(":"rgba("}${sn(this.r)}, ${sn(this.g)}, ${sn(this.b)}${e===1?")":`, ${e})`}`}function hs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function nn(e){return e=sn(e),(e<16?"0":"")+e.toString(16)}function ba(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ut(e,t,n,r)}function bu(e){if(e instanceof ut)return new ut(e.h,e.s,e.l,e.opacity);if(e instanceof Tr||(e=gr(e)),!e)return new ut;if(e instanceof ut)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,a=i-s,l=(i+s)/2;return a?(t===i?o=(n-r)/a+(n<r)*6:n===i?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?i+s:2-i-s,o*=60):a=l>0&&l<1?0:o,new ut(o,a,l,e.opacity)}function Lm(e,t,n,r){return arguments.length===1?bu(e):new ut(e,t,n,r??1)}function ut(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}io(ut,Lm,wu(Tr,{brighter(e){return e=e==null?cs:Math.pow(cs,e),new ut(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dr:Math.pow(dr,e),new ut(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Qe(Js(e>=240?e-240:e+120,s,r),Js(e,s,r),Js(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new ut(xa(this.h),Fr(this.s),Fr(this.l),hs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hs(this.opacity);return`${e===1?"hsl(":"hsla("}${xa(this.h)}, ${Fr(this.s)*100}%, ${Fr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xa(e){return e=(e||0)%360,e<0?e+360:e}function Fr(e){return Math.max(0,Math.min(1,e||0))}function Js(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const xu=e=>()=>e;function Nm(e,t){return function(n){return e+n*t}}function Dm(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Fm(e){return(e=+e)==1?Su:function(t,n){return n-t?Dm(t,n,e):xu(isNaN(t)?n:t)}}function Su(e,t){var n=t-e;return n?Nm(e,n):xu(isNaN(e)?t:e)}const Sa=function e(t){var n=Fm(t);function r(s,i){var o=n((s=ki(s)).r,(i=ki(i)).r),a=n(s.g,i.g),l=n(s.b,i.b),c=Su(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=a(u),s.b=l(u),s.opacity=c(u),s+""}}return r.gamma=e,r}(1);function Ft(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ti=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ks=new RegExp(Ti.source,"g");function Um(e){return function(){return e}}function Bm(e){return function(t){return e(t)+""}}function qm(e,t){var n=Ti.lastIndex=Ks.lastIndex=0,r,s,i,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Ti.exec(e))&&(s=Ks.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:Ft(r,s)})),n=Ks.lastIndex;return n<t.length&&(i=t.slice(n),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?Bm(l[0].x):Um(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}var ka=180/Math.PI,Ei={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ku(e,t,n,r,s,i){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*ka,skewX:Math.atan(l)*ka,scaleX:o,scaleY:a}}var Ur;function Hm(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ei:ku(t.a,t.b,t.c,t.d,t.e,t.f)}function Vm(e){return e==null||(Ur||(Ur=document.createElementNS("http://www.w3.org/2000/svg","g")),Ur.setAttribute("transform",e),!(e=Ur.transform.baseVal.consolidate()))?Ei:(e=e.matrix,ku(e.a,e.b,e.c,e.d,e.e,e.f))}function Tu(e,t,n,r){function s(c){return c.length?c.pop()+" ":""}function i(c,u,f,h,g,x){if(c!==f||u!==h){var A=g.push("translate(",null,t,null,n);x.push({i:A-4,x:Ft(c,f)},{i:A-2,x:Ft(u,h)})}else(f||h)&&g.push("translate("+f+t+h+n)}function o(c,u,f,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:f.push(s(f)+"rotate(",null,r)-2,x:Ft(c,u)})):u&&f.push(s(f)+"rotate("+u+r)}function a(c,u,f,h){c!==u?h.push({i:f.push(s(f)+"skewX(",null,r)-2,x:Ft(c,u)}):u&&f.push(s(f)+"skewX("+u+r)}function l(c,u,f,h,g,x){if(c!==f||u!==h){var A=g.push(s(g)+"scale(",null,",",null,")");x.push({i:A-4,x:Ft(c,f)},{i:A-2,x:Ft(u,h)})}else(f!==1||h!==1)&&g.push(s(g)+"scale("+f+","+h+")")}return function(c,u){var f=[],h=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,f,h),o(c.rotate,u.rotate,f,h),a(c.skewX,u.skewX,f,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,h),c=u=null,function(g){for(var x=-1,A=h.length,O;++x<A;)f[(O=h[x]).i]=O.x(g);return f.join("")}}}var Wm=Tu(Hm,"px, ","px)","deg)"),Jm=Tu(Vm,", ",")",")"),In=0,Jn=0,Bn=0,Eu=1e3,fs,Kn,ds=0,on=0,Os=0,mr=typeof performance=="object"&&performance.now?performance:Date,Au=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function oo(){return on||(Au(Km),on=mr.now()+Os)}function Km(){on=0}function ps(){this._call=this._time=this._next=null}ps.prototype=Ou.prototype={constructor:ps,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?oo():+n)+(t==null?0:+t),!this._next&&Kn!==this&&(Kn?Kn._next=this:fs=this,Kn=this),this._call=e,this._time=n,Ai()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ai())}};function Ou(e,t,n){var r=new ps;return r.restart(e,t,n),r}function zm(){oo(),++In;for(var e=fs,t;e;)(t=on-e._time)>=0&&e._call.call(void 0,t),e=e._next;--In}function Ta(){on=(ds=mr.now())+Os,In=Jn=0;try{zm()}finally{In=0,Ym(),on=0}}function Gm(){var e=mr.now(),t=e-ds;t>Eu&&(Os-=t,ds=e)}function Ym(){for(var e,t=fs,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:fs=n);Kn=e,Ai(r)}function Ai(e){if(!In){Jn&&(Jn=clearTimeout(Jn));var t=e-on;t>24?(e<1/0&&(Jn=setTimeout(Ta,e-mr.now()-Os)),Bn&&(Bn=clearInterval(Bn))):(Bn||(ds=mr.now(),Bn=setInterval(Gm,Eu)),In=1,Au(Ta))}}function Ea(e,t,n){var r=new ps;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var Xm=lu("start","end","cancel","interrupt"),Qm=[],$u=0,Aa=1,Oi=2,zr=3,Oa=4,$i=5,Gr=6;function $s(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Zm(e,n,{name:t,index:r,group:s,on:Xm,tween:Qm,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:$u})}function ao(e,t){var n=ht(e,t);if(n.state>$u)throw new Error("too late; already scheduled");return n}function bt(e,t){var n=ht(e,t);if(n.state>zr)throw new Error("too late; already running");return n}function ht(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Zm(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=Ou(i,0,n.time);function i(c){n.state=Aa,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,f,h,g;if(n.state!==Aa)return l();for(u in r)if(g=r[u],g.name===n.name){if(g.state===zr)return Ea(o);g.state===Oa?(g.state=Gr,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[u]):+u<t&&(g.state=Gr,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[u])}if(Ea(function(){n.state===zr&&(n.state=Oa,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Oi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Oi){for(n.state=zr,s=new Array(h=n.tween.length),u=0,f=-1;u<h;++u)(g=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(s[++f]=g);s.length=f+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=$i,1),f=-1,h=s.length;++f<h;)s[f].call(e,u);n.state===$i&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Gr,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function e_(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>Oi&&r.state<$i,r.state=Gr,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function t_(e){return this.each(function(){e_(this,e)})}function n_(e,t){var n,r;return function(){var s=bt(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function r_(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=bt(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var a={name:t,value:n},l=0,c=s.length;l<c;++l)if(s[l].name===t){s[l]=a;break}l===c&&s.push(a)}i.tween=s}}function s_(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ht(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?n_:r_)(n,e,t))}function lo(e,t,n){var r=e._id;return e.each(function(){var s=bt(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return ht(s,r).value[t]}}function Cu(e,t){var n;return(typeof t=="number"?Ft:t instanceof gr?Sa:(n=gr(t))?(t=n,Sa):qm)(e,t)}function i_(e){return function(){this.removeAttribute(e)}}function o_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function a_(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function l_(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function u_(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function c_(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function h_(e,t){var n=As(e),r=n==="transform"?Jm:Cu;return this.attrTween(e,typeof t=="function"?(n.local?c_:u_)(n,r,lo(this,"attr."+e,t)):t==null?(n.local?o_:i_)(n):(n.local?l_:a_)(n,r,t))}function f_(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function d_(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function p_(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&d_(e,i)),n}return s._value=t,s}function g_(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&f_(e,i)),n}return s._value=t,s}function m_(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=As(e);return this.tween(n,(r.local?p_:g_)(r,t))}function __(e,t){return function(){ao(this,e).delay=+t.apply(this,arguments)}}function v_(e,t){return t=+t,function(){ao(this,e).delay=t}}function y_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?__:v_)(t,e)):ht(this.node(),t).delay}function w_(e,t){return function(){bt(this,e).duration=+t.apply(this,arguments)}}function b_(e,t){return t=+t,function(){bt(this,e).duration=t}}function x_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?w_:b_)(t,e)):ht(this.node(),t).duration}function S_(e,t){if(typeof t!="function")throw new Error;return function(){bt(this,e).ease=t}}function k_(e){var t=this._id;return arguments.length?this.each(S_(t,e)):ht(this.node(),t).ease}function T_(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;bt(this,e).ease=n}}function E_(e){if(typeof e!="function")throw new Error;return this.each(T_(this._id,e))}function A_(e){typeof e!="function"&&(e=cu(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&a.push(l);return new Rt(r,this._parents,this._name,this._id)}function O_(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),a=0;a<i;++a)for(var l=t[a],c=n[a],u=l.length,f=o[a]=new Array(u),h,g=0;g<u;++g)(h=l[g]||c[g])&&(f[g]=h);for(;a<r;++a)o[a]=t[a];return new Rt(o,this._parents,this._name,this._id)}function $_(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function C_(e,t,n){var r,s,i=$_(t)?ao:bt;return function(){var o=i(this,e),a=o.on;a!==r&&(s=(r=a).copy()).on(t,n),o.on=s}}function P_(e,t){var n=this._id;return arguments.length<2?ht(this.node(),n).on.on(e):this.each(C_(n,e,t))}function R_(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function I_(){return this.on("end.remove",R_(this._id))}function M_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ro(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var a=r[o],l=a.length,c=i[o]=new Array(l),u,f,h=0;h<l;++h)(u=a[h])&&(f=e.call(u,u.__data__,h,a))&&("__data__"in u&&(f.__data__=u.__data__),c[h]=f,$s(c[h],t,n,h,c,ht(u,n)));return new Rt(i,this._parents,t,n)}function j_(e){var t=this._name,n=this._id;typeof e!="function"&&(e=uu(e));for(var r=this._groups,s=r.length,i=[],o=[],a=0;a<s;++a)for(var l=r[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var h=e.call(u,u.__data__,f,l),g,x=ht(u,n),A=0,O=h.length;A<O;++A)(g=h[A])&&$s(g,t,n,A,h,x);i.push(h),o.push(u)}return new Rt(i,o,t,n)}var L_=kr.prototype.constructor;function N_(){return new L_(this._groups,this._parents)}function D_(e,t){var n,r,s;return function(){var i=Rn(this,e),o=(this.style.removeProperty(e),Rn(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function Pu(e){return function(){this.style.removeProperty(e)}}function F_(e,t,n){var r,s=n+"",i;return function(){var o=Rn(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function U_(e,t,n){var r,s,i;return function(){var o=Rn(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Rn(this,e))),o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a))}}function B_(e,t){var n,r,s,i="style."+t,o="end."+i,a;return function(){var l=bt(this,e),c=l.on,u=l.value[i]==null?a||(a=Pu(t)):void 0;(c!==n||s!==u)&&(r=(n=c).copy()).on(o,s=u),l.on=r}}function q_(e,t,n){var r=(e+="")=="transform"?Wm:Cu;return t==null?this.styleTween(e,D_(e,r)).on("end.style."+e,Pu(e)):typeof t=="function"?this.styleTween(e,U_(e,r,lo(this,"style."+e,t))).each(B_(this._id,e)):this.styleTween(e,F_(e,r,t),n).on("end.style."+e,null)}function H_(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function V_(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&H_(e,o,n)),r}return i._value=t,i}function W_(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,V_(e,t,n??""))}function J_(e){return function(){this.textContent=e}}function K_(e){return function(){var t=e(this);this.textContent=t??""}}function z_(e){return this.tween("text",typeof e=="function"?K_(lo(this,"text",e)):J_(e==null?"":e+""))}function G_(e){return function(t){this.textContent=e.call(this,t)}}function Y_(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&G_(s)),t}return r._value=e,r}function X_(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Y_(e))}function Q_(){for(var e=this._name,t=this._id,n=Ru(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=ht(l,t);$s(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Rt(r,this._parents,e,n)}function Z_(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var a={value:o},l={value:function(){--s===0&&i()}};n.each(function(){var c=bt(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),s===0&&i()})}var e0=0;function Rt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ru(){return++e0}var kt=kr.prototype;Rt.prototype={constructor:Rt,select:M_,selectAll:j_,selectChild:kt.selectChild,selectChildren:kt.selectChildren,filter:A_,merge:O_,selection:N_,transition:Q_,call:kt.call,nodes:kt.nodes,node:kt.node,size:kt.size,empty:kt.empty,each:kt.each,on:P_,attr:h_,attrTween:m_,style:q_,styleTween:W_,text:z_,textTween:X_,remove:I_,tween:s_,delay:y_,duration:x_,ease:k_,easeVarying:E_,end:Z_,[Symbol.iterator]:kt[Symbol.iterator]};function t0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var n0={time:null,delay:0,duration:250,ease:t0};function r0(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function s0(e){var t,n;e instanceof Rt?(t=e._id,e=e._name):(t=Ru(),(n=n0).time=oo(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,c=0;c<a;++c)(l=o[c])&&$s(l,e,t,c,o,n||r0(l,t));return new Rt(r,this._parents,e,t)}kr.prototype.interrupt=t_;kr.prototype.transition=s0;const Ci=Math.PI,Pi=2*Ci,Qt=1e-6,i0=Pi-Qt;function Iu(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function o0(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Iu;const n=10**t;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class a0{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Iu:o0(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,i,o){this._append`C${+t},${+n},${+r},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,s,i){if(t=+t,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,l=r-t,c=s-n,u=o-t,f=a-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Qt)if(!(Math.abs(f*l-c*u)>Qt)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-o,x=s-a,A=l*l+c*c,O=g*g+x*x,m=Math.sqrt(A),p=Math.sqrt(h),w=i*Math.tan((Ci-Math.acos((A+h-O)/(2*m*p)))/2),T=w/p,S=w/m;Math.abs(T-1)>Qt&&this._append`L${t+T*u},${n+T*f}`,this._append`A${i},${i},0,0,${+(f*g>u*x)},${this._x1=t+S*l},${this._y1=n+S*c}`}}arc(t,n,r,s,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(s),l=r*Math.sin(s),c=t+a,u=n+l,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Qt||Math.abs(this._y1-u)>Qt)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%Pi+Pi),h>i0?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>Qt&&this._append`A${r},${r},0,${+(h>=Ci)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function Mt(e){return function(){return e}}const $a=Math.abs,Ne=Math.atan2,Gt=Math.cos,l0=Math.max,zs=Math.min,dt=Math.sin,bn=Math.sqrt,Ye=1e-12,_r=Math.PI,gs=_r/2,u0=2*_r;function c0(e){return e>1?0:e<-1?_r:Math.acos(e)}function Ca(e){return e>=1?gs:e<=-1?-gs:Math.asin(e)}function h0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new a0(t)}function f0(e){return e.innerRadius}function d0(e){return e.outerRadius}function p0(e){return e.startAngle}function g0(e){return e.endAngle}function m0(e){return e&&e.padAngle}function _0(e,t,n,r,s,i,o,a){var l=n-e,c=r-t,u=o-s,f=a-i,h=f*l-u*c;if(!(h*h<Ye))return h=(u*(t-i)-f*(e-s))/h,[e+h*l,t+h*c]}function Br(e,t,n,r,s,i,o){var a=e-n,l=t-r,c=(o?i:-i)/bn(a*a+l*l),u=c*l,f=-c*a,h=e+u,g=t+f,x=n+u,A=r+f,O=(h+x)/2,m=(g+A)/2,p=x-h,w=A-g,T=p*p+w*w,S=s-i,I=h*A-x*g,V=(w<0?-1:1)*bn(l0(0,S*S*T-I*I)),te=(I*w-p*V)/T,ce=(-I*p-w*V)/T,he=(I*w+p*V)/T,U=(-I*p+w*V)/T,L=te-O,D=ce-m,Y=he-O,ke=U-m;return L*L+D*D>Y*Y+ke*ke&&(te=he,ce=U),{cx:te,cy:ce,x01:-u,y01:-f,x11:te*(s/S-1),y11:ce*(s/S-1)}}function v0(){var e=f0,t=d0,n=Mt(0),r=null,s=p0,i=g0,o=m0,a=null,l=h0(c);function c(){var u,f,h=+e.apply(this,arguments),g=+t.apply(this,arguments),x=s.apply(this,arguments)-gs,A=i.apply(this,arguments)-gs,O=$a(A-x),m=A>x;if(a||(a=u=l()),g<h&&(f=g,g=h,h=f),!(g>Ye))a.moveTo(0,0);else if(O>u0-Ye)a.moveTo(g*Gt(x),g*dt(x)),a.arc(0,0,g,x,A,!m),h>Ye&&(a.moveTo(h*Gt(A),h*dt(A)),a.arc(0,0,h,A,x,m));else{var p=x,w=A,T=x,S=A,I=O,V=O,te=o.apply(this,arguments)/2,ce=te>Ye&&(r?+r.apply(this,arguments):bn(h*h+g*g)),he=zs($a(g-h)/2,+n.apply(this,arguments)),U=he,L=he,D,Y;if(ce>Ye){var ke=Ca(ce/h*dt(te)),_e=Ca(ce/g*dt(te));(I-=ke*2)>Ye?(ke*=m?1:-1,T+=ke,S-=ke):(I=0,T=S=(x+A)/2),(V-=_e*2)>Ye?(_e*=m?1:-1,p+=_e,w-=_e):(V=0,p=w=(x+A)/2)}var le=g*Gt(p),se=g*dt(p),Oe=h*Gt(S),k=h*dt(S);if(he>Ye){var y=g*Gt(w),H=g*dt(w),z=h*Gt(T),B=h*dt(T),W;if(O<_r)if(W=_0(le,se,z,B,y,H,Oe,k)){var Q=le-W[0],K=se-W[1],ee=y-W[0],ue=H-W[1],fe=1/dt(c0((Q*ee+K*ue)/(bn(Q*Q+K*K)*bn(ee*ee+ue*ue)))/2),me=bn(W[0]*W[0]+W[1]*W[1]);U=zs(he,(h-me)/(fe-1)),L=zs(he,(g-me)/(fe+1))}else U=L=0}V>Ye?L>Ye?(D=Br(z,B,le,se,g,L,m),Y=Br(y,H,Oe,k,g,L,m),a.moveTo(D.cx+D.x01,D.cy+D.y01),L<he?a.arc(D.cx,D.cy,L,Ne(D.y01,D.x01),Ne(Y.y01,Y.x01),!m):(a.arc(D.cx,D.cy,L,Ne(D.y01,D.x01),Ne(D.y11,D.x11),!m),a.arc(0,0,g,Ne(D.cy+D.y11,D.cx+D.x11),Ne(Y.cy+Y.y11,Y.cx+Y.x11),!m),a.arc(Y.cx,Y.cy,L,Ne(Y.y11,Y.x11),Ne(Y.y01,Y.x01),!m))):(a.moveTo(le,se),a.arc(0,0,g,p,w,!m)):a.moveTo(le,se),!(h>Ye)||!(I>Ye)?a.lineTo(Oe,k):U>Ye?(D=Br(Oe,k,y,H,h,-U,m),Y=Br(le,se,z,B,h,-U,m),a.lineTo(D.cx+D.x01,D.cy+D.y01),U<he?a.arc(D.cx,D.cy,U,Ne(D.y01,D.x01),Ne(Y.y01,Y.x01),!m):(a.arc(D.cx,D.cy,U,Ne(D.y01,D.x01),Ne(D.y11,D.x11),!m),a.arc(0,0,h,Ne(D.cy+D.y11,D.cx+D.x11),Ne(Y.cy+Y.y11,Y.cx+Y.x11),m),a.arc(Y.cx,Y.cy,U,Ne(Y.y11,Y.x11),Ne(Y.y01,Y.x01),!m))):a.arc(0,0,h,S,T,m)}if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+s.apply(this,arguments)+ +i.apply(this,arguments))/2-_r/2;return[Gt(f)*u,dt(f)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Mt(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Mt(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Mt(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Mt(+u),c):r},c.startAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Mt(+u),c):s},c.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Mt(+u),c):i},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Mt(+u),c):o},c.context=function(u){return arguments.length?(a=u??null,c):a},c}function zn(e,t,n){this.k=e,this.x=t,this.y=n}zn.prototype={constructor:zn,scale:function(e){return e===1?this:new zn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new zn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};zn.prototype;function Mu(e,t=null,n=800,r=!0){const s=y0(e),i=s.find(U=>U.id=="stats").parties,o=n??"100%",a=n??"100%",l=n??600,c=o/2,u=a/2,f=n*.45,h={bullOuter:f*.16,tripleInner:f*.4,tripleOuter:f*.45,doubleInner:f*.81,doubleOuter:f*.86},g=[11,14,9,12,5,20,1,18,4,13,6,10,15,2,17,3,19,7,16,8],x=20,A=2*Math.PI/x,O=Bp(x).map(U=>{const L=-Math.PI/2-A/2+U*A,D=L+A;return{index:U,number:g[U],start:L,end:D}}),m=km("svg").attr("viewBox",`0 0 ${l} ${l}`).style("width","100%").style("height","100%");m.append("rect").attr("x",0).attr("y",0).attr("width",l).attr("height",l).attr("fill","white").attr("rx",20).attr("ry",20);const p=r?30:0,w=m.append("g").attr("transform",`translate(${c},${u+p})`);function T(U,L){return v0().innerRadius(U).outerRadius(L).startAngle(D=>D.start).endAngle(D=>D.end)}const S="white",I=1;w.selectAll(".segment").data(O).join("path").attr("class","segment").attr("id",U=>`segment-${U.number}`).attr("d",T(h.bullOuter,h.doubleOuter)).attr("fill",U=>{var L;return(L=s.find(D=>D.id==U.number))==null?void 0:L.color}).attr("fill-opacity",1).attr("stroke",S).attr("stroke-width",I),w.selectAll(".single-inner").data(O).join("path").attr("class","single-inner").attr("id",U=>`single-inner-${U.number}`).attr("d",T(h.bullOuter,h.tripleInner)).attr("fill","none").attr("stroke",S).attr("stroke-width",I),w.selectAll(".single-outer").data(O).join("path").attr("class","single-outer").attr("id",U=>`single-outer-${U.number}`).attr("d",T(h.tripleOuter,h.doubleInner)).attr("fill","none").attr("stroke",S).attr("stroke-width",I),w.selectAll(".triple").data(O).join("path").attr("class","triple").attr("id",U=>`triple-${U.number}`).attr("d",T(h.tripleInner,h.tripleOuter)).attr("fill","none").attr("stroke",S).attr("stroke-width",I),w.selectAll(".double").data(O).join("path").attr("class","double").attr("id",U=>`double-${U.number}`).attr("d",T(h.doubleInner,h.doubleOuter)).attr("fill","none").attr("stroke",S).attr("stroke-width",I);const V=(h.doubleInner+h.doubleOuter)/2;w.selectAll(".double-point").data(O).join("circle").attr("class","double-point").attr("cx",U=>{const L=-Math.PI/2+U.index*A-Math.PI/2;return Math.cos(L)*V}).attr("cy",U=>{const L=-Math.PI/2+U.index*A-Math.PI/2;return Math.sin(L)*V}).attr("r",U=>{var D;const L=(D=s.find(Y=>Y.id==U.number))==null?void 0:D.double;if(i===1)return L*8;if(L<.2)return 0;if(L>=.2&&L<.3)return 8;if(L>=.3)return 18}).attr("fill","#FFD700").attr("stroke","black").attr("stroke-width",2);const te=(h.tripleInner+h.tripleOuter)/2;w.selectAll(".triple-point").data(O).join("circle").attr("class","triple-point").attr("cx",U=>{const L=-Math.PI/2+U.index*A-Math.PI/2;return Math.cos(L)*te}).attr("cy",U=>{const L=-Math.PI/2+U.index*A-Math.PI/2;return Math.sin(L)*te}).attr("r",U=>{var D;const L=(D=s.find(Y=>Y.id==U.number))==null?void 0:D.triple;if(i===1)return L*8;if(L<.2)return 0;if(L>=.2&&L<.3)return 8;if(L>=.3)return 18}).attr("fill","#FFD700").attr("stroke","black").attr("stroke-width",2);const ce=h.doubleOuter+20,he=w.selectAll(".label-group").data(O).join("g").attr("class","label-group").attr("id",U=>`label-${U.number}`).attr("transform",U=>{const L=-Math.PI/2+U.index*A-Math.PI/2,D=Math.cos(L)*ce,Y=Math.sin(L)*ce;return`translate(${D},${Y})`});if(he.append("circle").attr("r",15).attr("fill",U=>{var L;return((L=s.find(D=>D.id==U.number))==null?void 0:L.shanghai)>=1?"black":"none"}).attr("stroke","none"),he.append("text").attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size",U=>{var L;return((L=s.find(D=>D.id==U.number))==null?void 0:L.shanghai)>=1?20:16}).attr("fill",U=>{var L;return((L=s.find(D=>D.id==U.number))==null?void 0:L.shanghai)>=1?"#FFD700":"#616161"}).attr("opacity",U=>{var L;return((L=s.find(D=>D.id==U.number))==null?void 0:L.hits)>=.75?1:0}).attr("font-weight",600).attr("font-family","Arial, Helvetica, sans-serif").text(U=>U.number),w.append("text").attr("class","center-text").attr("x",0).attr("y",0).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size",28).attr("fill","#521a3a").attr("font-weight","bold").attr("font-family","Arial, Helvetica, sans-serif").text(Math.round(s.find(U=>U.id=="stats").hits)+"/60"),w.append("text").attr("class","center-text").attr("x",0).attr("y",22).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size",18).attr("fill","#424242").attr("font-weight","bold").attr("font-family","Arial, Helvetica, sans-serif").text("("+s.find(U=>U.id=="stats").streak+")"),r){const U=Math.round(s.find(D=>D.id=="stats").score)+" points",L=t?t+" : "+U:U;m.append("text").attr("x",o/2).attr("y",40).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size",40).attr("fill","#521a3a").attr("font-weight","bold").attr("font-family","Arial, Helvetica, sans-serif").text(L)}return m.node()}function y0(e){let t,n,r=[],s=null,i=null,o;if(w0(e))o=k0,t=1,r=e;else if(Gs(e)){o=T0,i=ou(e.map(a=>Pa(a))),t=e.length;for(let a=0;a<20;a++){let l=e.map(c=>c[a]);r.push(l)}}return Gs(e)&&(s=S0(r),r=r.map(a=>a.flat())),n=r.map((a,l)=>{const c=new Set(a);return{id:l+1,hits:a.filter(u=>u!==0).length/t,single:a.filter(u=>u===1).length/t,double:a.filter(u=>u===2).length/t,triple:a.filter(u=>u===3).length/t,shanghai:s?s[l]:+(c.has(1)&&c.has(2)&&c.has(3)),color:o(a.filter(u=>u!==0).length/t)}}),n.push({id:"stats",parties:t,score:x0(r)/t,hits:b0(r)/t,streak:Gs(e)?i:Pa(r)}),n}function w0(e){return!Array.isArray(e)||e.length!==20?!1:e.every(t=>Array.isArray(t)&&t.length===3)}function Gs(e){return Array.isArray(e)?e.every(t=>Array.isArray(t)&&t.length===20&&t.every(n=>Array.isArray(n)&&n.length===3)):!1}function Pa(e){e=e.flat();let t=0,n=0;for(let r=0;r<e.length;r++)e[r]!==0?(n++,n>t&&(t=n)):n=0;return t}function b0(e){return e.flat().filter(t=>t!=0).length}function x0(e){return xi(e.map((t,n)=>xi(t)*(n+1)))}function S0(e){return e.map((t,n)=>t.reduce((s,i)=>{const o=new Set(i);return s+(o.has(1)&&o.has(2)&&o.has(3)?1:0)},0))}function k0(e){let t=["#fcc5c0","#f768a1","#7a0177"];switch(e){case 0:return"#FFFFFF";case 1:return t[0];case 2:return t[1];case 3:return t[2];default:return"#CCCCCC"}}function T0(e){let t=["#f2f2f2","#fde0dd","#fa9fb5","#ae017e","#49006a"];return e<.75?"white":e>=.75&&e<1?t[0]:e>=1&&e<1.25?t[1]:e>=1.25&&e<1.5?t[2]:e>=1.5&&e<1.75?t[3]:(e>=1.75&&e<=2,t[4])}const E0={class:"final-scores"},A0=["src"],O0={class:"final-player-info"},$0=["innerHTML"],C0={key:0,class:"action-buttons"},P0={__name:"GameStats",props:["sortedPlayers","humanPlayersSorted","robotName","stats","role","site"],setup(e){const t=e;async function n(){const i=Date.now(),o=t.sortedPlayers.map(c=>({player_id:c.id,name:c.name,timestamp:i,score:c.totalScore,hits:c.scores,site:t.site})),{data:a,error:l}=await to.from("scores").insert(o)}function r(){window.location.reload()}t.role==="admin"&&n();function s(i){return Mu(i.scores,i.name,600).outerHTML}return(i,o)=>(ae(),ge("div",null,[o[1]||(o[1]=v("h2",null,"Partie termine",-1)),v("ul",E0,[(ae(!0),ge(Fe,null,lr(e.sortedPlayers,(a,l)=>(ae(),ge("li",{key:a.name,class:"final-score-item"},[a.name!==e.robotName?(ae(),ge(Fe,{key:0},[v("img",{src:a.avatar,alt:"avatar",class:"final-avatar-large"},null,8,A0),v("div",O0,[v("div",{class:"dartboard-container",innerHTML:s(a)},null,8,$0)])],64)):Je("",!0)]))),128))]),v("p",null,[v("button",{onClick:r},"Rejouer")]),e.role==="admin"?(ae(),ge("div",C0,[v("a",{href:"#",onClick:o[0]||(o[0]=hr(a=>i.$emit("view-scores"),["prevent"])),class:"link-button"},"Voir le classement")])):Je("",!0)]))}},R0=br(P0,[["__scopeId","data-v-6977cd8c"]]),ju=Object.assign({},{mean:au,descending:iu});function Yr(e){e=e.flat();let t=0,n=0;for(let r=0;r<e.length;r++)e[r]!==0?(n++,n>t&&(t=n)):n=0;return t}function Xr(e){e=e.flat();let t=0,n=0;for(let r=0;r<e.length;r++)e[r]===0?(n++,n>t&&(t=n)):n=0;return t}function Ra(){const e=new Date,t=e.getFullYear(),n=e.getMonth(),s=(n>=8?new Date(t,8,1):new Date(t-1,8,1)).getTime(),o=(n<=6?new Date(t,6,31):new Date(t+1,6,31)).getTime();return{septFirstLastYear:s,july31Next:o}}function Ys(e){return e.filter(t=>{const n=[0,0,0,0];return t.forEach(r=>n[r]++),n[1]===1&&n[2]===1&&n[3]===1}).length}function Xs(e){return e.filter(t=>{const n=[0,0,0,0];return t.forEach(r=>n[r]++),n[3]===2}).length}function Qs(e){return e.filter(t=>{const n=[0,0,0,0];return t.forEach(r=>n[r]++),n[3]===3}).length}function Zs(e){return e.filter(t=>{const n=[0,0,0,0];return t.forEach(r=>n[r]++),n[2]===2}).length}function ei(e){return e.filter(t=>{const n=[0,0,0,0];return t.forEach(r=>n[r]++),n[2]===3}).length}function ti(e,t,n){let r=n.filter(i=>t.map(o=>o.timestamp).includes(i.timestamp)).map(i=>({timestamp:i.timestamp,name:i.name,score:i.score})),s=0;return t.map(i=>i.timestamp).forEach(i=>{r.filter(a=>a.timestamp==i).slice().sort((a,l)=>ju.descending(a.score,l.score)).map(a=>a)[1].name==e&&s++}),s/t.length*100}function I0(e){const t=[...new Set(e.map(s=>s.name))];let n=[];return t.forEach(s=>{const i=e.filter(o=>o.name==s).map(o=>o.score).sort((o,a)=>a-o).slice(0,10);n.push({name:s,scores:i,mean:ju.mean(i)})}),n.filter(s=>s.scores.length>=10).sort((s,i)=>i.mean-s.mean).filter(s=>s.name!=="Number One")}function M0(e){let t="<table>";return t+="<tbody>",[...e].forEach((n,r)=>{if(t+=`<tr><td>${pe(r+1)} ${n.name}</td><td>${n.mean}</td></tr>`,n.scores&&n.scores.length){const s=n.scores.sort().join(", ");t+=`<tr><td colspan="2" style="font-size: 0.75em; color: #666;">${s}</td></tr>`}}),t+="</tbody>",t+="</table>",t}function j0(e){let t="<table>";return t+="<tbody>",[...e].forEach((n,r)=>{if(t+=`<tr><td>${pe(r+1)} ${n.name}</td><td>${n.mean_last}</td></tr>`,n.data_last&&n.data_last.length){const s=n.data_last.join(", ");t+=`<tr><td colspan="2" style="font-size: 0.75em; color: #666;">${s}</td></tr>`}}),t+="</tbody>",t+="</table>",t}function pe(e){switch(e){case 1:return"";case 2:return"";case 3:return"";case 4:return"";default:return""}}var Er={};(function e(t,n,r,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!t.OffscreenCanvas)return!1;var k=new OffscreenCanvas(1,1),y=k.getContext("2d");y.fillRect(0,0,1,1);var H=k.transferToImageBitmap();try{y.createPattern(H,"no-repeat")}catch{return!1}return!0}();function l(){}function c(k){var y=n.exports.Promise,H=y!==void 0?y:t.Promise;return typeof H=="function"?new H(k):(k(l,l),null)}var u=function(k,y){return{transform:function(H){if(k)return H;if(y.has(H))return y.get(H);var z=new OffscreenCanvas(H.width,H.height),B=z.getContext("2d");return B.drawImage(H,0,0),y.set(H,z),z},clear:function(){y.clear()}}}(a,new Map),f=function(){var k=Math.floor(16.666666666666668),y,H,z={},B=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(y=function(W){var Q=Math.random();return z[Q]=requestAnimationFrame(function K(ee){B===ee||B+k-1<ee?(B=ee,delete z[Q],W()):z[Q]=requestAnimationFrame(K)}),Q},H=function(W){z[W]&&cancelAnimationFrame(z[W])}):(y=function(W){return setTimeout(W,k)},H=function(W){return clearTimeout(W)}),{frame:y,cancel:H}}(),h=function(){var k,y,H={};function z(B){function W(Q,K){B.postMessage({options:Q||{},callback:K})}B.init=function(K){var ee=K.transferControlToOffscreen();B.postMessage({canvas:ee},[ee])},B.fire=function(K,ee,ue){if(y)return W(K,null),y;var fe=Math.random().toString(36).slice(2);return y=c(function(me){function d(_){_.data.callback===fe&&(delete H[fe],B.removeEventListener("message",d),y=null,u.clear(),ue(),me())}B.addEventListener("message",d),W(K,fe),H[fe]=d.bind(null,{data:{callback:fe}})}),y},B.reset=function(){B.postMessage({reset:!0});for(var K in H)H[K](),delete H[K]}}return function(){if(k)return k;if(!r&&i){var B=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{k=new Worker(URL.createObjectURL(new Blob([B])))}catch(W){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",W),null}z(k)}return k}}(),g={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function x(k,y){return y?y(k):k}function A(k){return k!=null}function O(k,y,H){return x(k&&A(k[y])?k[y]:g[y],H)}function m(k){return k<0?0:Math.floor(k)}function p(k,y){return Math.floor(Math.random()*(y-k))+k}function w(k){return parseInt(k,16)}function T(k){return k.map(S)}function S(k){var y=String(k).replace(/[^0-9a-f]/gi,"");return y.length<6&&(y=y[0]+y[0]+y[1]+y[1]+y[2]+y[2]),{r:w(y.substring(0,2)),g:w(y.substring(2,4)),b:w(y.substring(4,6))}}function I(k){var y=O(k,"origin",Object);return y.x=O(y,"x",Number),y.y=O(y,"y",Number),y}function V(k){k.width=document.documentElement.clientWidth,k.height=document.documentElement.clientHeight}function te(k){var y=k.getBoundingClientRect();k.width=y.width,k.height=y.height}function ce(k){var y=document.createElement("canvas");return y.style.position="fixed",y.style.top="0px",y.style.left="0px",y.style.pointerEvents="none",y.style.zIndex=k,y}function he(k,y,H,z,B,W,Q,K,ee){k.save(),k.translate(y,H),k.rotate(W),k.scale(z,B),k.arc(0,0,1,Q,K,ee),k.restore()}function U(k){var y=k.angle*(Math.PI/180),H=k.spread*(Math.PI/180);return{x:k.x,y:k.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:k.startVelocity*.5+Math.random()*k.startVelocity,angle2D:-y+(.5*H-Math.random()*H),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:k.color,shape:k.shape,tick:0,totalTicks:k.ticks,decay:k.decay,drift:k.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:k.gravity*3,ovalScalar:.6,scalar:k.scalar,flat:k.flat}}function L(k,y){y.x+=Math.cos(y.angle2D)*y.velocity+y.drift,y.y+=Math.sin(y.angle2D)*y.velocity+y.gravity,y.velocity*=y.decay,y.flat?(y.wobble=0,y.wobbleX=y.x+10*y.scalar,y.wobbleY=y.y+10*y.scalar,y.tiltSin=0,y.tiltCos=0,y.random=1):(y.wobble+=y.wobbleSpeed,y.wobbleX=y.x+10*y.scalar*Math.cos(y.wobble),y.wobbleY=y.y+10*y.scalar*Math.sin(y.wobble),y.tiltAngle+=.1,y.tiltSin=Math.sin(y.tiltAngle),y.tiltCos=Math.cos(y.tiltAngle),y.random=Math.random()+2);var H=y.tick++/y.totalTicks,z=y.x+y.random*y.tiltCos,B=y.y+y.random*y.tiltSin,W=y.wobbleX+y.random*y.tiltCos,Q=y.wobbleY+y.random*y.tiltSin;if(k.fillStyle="rgba("+y.color.r+", "+y.color.g+", "+y.color.b+", "+(1-H)+")",k.beginPath(),o&&y.shape.type==="path"&&typeof y.shape.path=="string"&&Array.isArray(y.shape.matrix))k.fill(le(y.shape.path,y.shape.matrix,y.x,y.y,Math.abs(W-z)*.1,Math.abs(Q-B)*.1,Math.PI/10*y.wobble));else if(y.shape.type==="bitmap"){var K=Math.PI/10*y.wobble,ee=Math.abs(W-z)*.1,ue=Math.abs(Q-B)*.1,fe=y.shape.bitmap.width*y.scalar,me=y.shape.bitmap.height*y.scalar,d=new DOMMatrix([Math.cos(K)*ee,Math.sin(K)*ee,-Math.sin(K)*ue,Math.cos(K)*ue,y.x,y.y]);d.multiplySelf(new DOMMatrix(y.shape.matrix));var _=k.createPattern(u.transform(y.shape.bitmap),"no-repeat");_.setTransform(d),k.globalAlpha=1-H,k.fillStyle=_,k.fillRect(y.x-fe/2,y.y-me/2,fe,me),k.globalAlpha=1}else if(y.shape==="circle")k.ellipse?k.ellipse(y.x,y.y,Math.abs(W-z)*y.ovalScalar,Math.abs(Q-B)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI):he(k,y.x,y.y,Math.abs(W-z)*y.ovalScalar,Math.abs(Q-B)*y.ovalScalar,Math.PI/10*y.wobble,0,2*Math.PI);else if(y.shape==="star")for(var b=Math.PI/2*3,P=4*y.scalar,C=8*y.scalar,R=y.x,F=y.y,N=5,j=Math.PI/N;N--;)R=y.x+Math.cos(b)*C,F=y.y+Math.sin(b)*C,k.lineTo(R,F),b+=j,R=y.x+Math.cos(b)*P,F=y.y+Math.sin(b)*P,k.lineTo(R,F),b+=j;else k.moveTo(Math.floor(y.x),Math.floor(y.y)),k.lineTo(Math.floor(y.wobbleX),Math.floor(B)),k.lineTo(Math.floor(W),Math.floor(Q)),k.lineTo(Math.floor(z),Math.floor(y.wobbleY));return k.closePath(),k.fill(),y.tick<y.totalTicks}function D(k,y,H,z,B){var W=y.slice(),Q=k.getContext("2d"),K,ee,ue=c(function(fe){function me(){K=ee=null,Q.clearRect(0,0,z.width,z.height),u.clear(),B(),fe()}function d(){r&&!(z.width===s.width&&z.height===s.height)&&(z.width=k.width=s.width,z.height=k.height=s.height),!z.width&&!z.height&&(H(k),z.width=k.width,z.height=k.height),Q.clearRect(0,0,z.width,z.height),W=W.filter(function(_){return L(Q,_)}),W.length?K=f.frame(d):me()}K=f.frame(d),ee=me});return{addFettis:function(fe){return W=W.concat(fe),ue},canvas:k,promise:ue,reset:function(){K&&f.cancel(K),ee&&ee()}}}function Y(k,y){var H=!k,z=!!O(y||{},"resize"),B=!1,W=O(y,"disableForReducedMotion",Boolean),Q=i&&!!O(y||{},"useWorker"),K=Q?h():null,ee=H?V:te,ue=k&&K?!!k.__confetti_initialized:!1,fe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,me;function d(b,P,C){for(var R=O(b,"particleCount",m),F=O(b,"angle",Number),N=O(b,"spread",Number),j=O(b,"startVelocity",Number),M=O(b,"decay",Number),G=O(b,"gravity",Number),q=O(b,"drift",Number),J=O(b,"colors",T),X=O(b,"ticks",Number),ie=O(b,"shapes"),ve=O(b,"scalar"),de=!!O(b,"flat"),$e=I(b),Ae=R,je=[],ze=k.width*$e.x,xt=k.height*$e.y;Ae--;)je.push(U({x:ze,y:xt,angle:F,spread:N,startVelocity:j,color:J[Ae%J.length],shape:ie[p(0,ie.length)],ticks:X,decay:M,gravity:G,drift:q,scalar:ve,flat:de}));return me?me.addFettis(je):(me=D(k,je,ee,P,C),me.promise)}function _(b){var P=W||O(b,"disableForReducedMotion",Boolean),C=O(b,"zIndex",Number);if(P&&fe)return c(function(j){j()});H&&me?k=me.canvas:H&&!k&&(k=ce(C),document.body.appendChild(k)),z&&!ue&&ee(k);var R={width:k.width,height:k.height};K&&!ue&&K.init(k),ue=!0,K&&(k.__confetti_initialized=!0);function F(){if(K){var j={getBoundingClientRect:function(){if(!H)return k.getBoundingClientRect()}};ee(j),K.postMessage({resize:{width:j.width,height:j.height}});return}R.width=R.height=null}function N(){me=null,z&&(B=!1,t.removeEventListener("resize",F)),H&&k&&(document.body.contains(k)&&document.body.removeChild(k),k=null,ue=!1)}return z&&!B&&(B=!0,t.addEventListener("resize",F,!1)),K?K.fire(b,R,N):d(b,R,N)}return _.reset=function(){K&&K.reset(),me&&me.reset()},_}var ke;function _e(){return ke||(ke=Y(null,{useWorker:!0,resize:!0})),ke}function le(k,y,H,z,B,W,Q){var K=new Path2D(k),ee=new Path2D;ee.addPath(K,new DOMMatrix(y));var ue=new Path2D;return ue.addPath(ee,new DOMMatrix([Math.cos(Q)*B,Math.sin(Q)*B,-Math.sin(Q)*W,Math.cos(Q)*W,H,z])),ue}function se(k){if(!o)throw new Error("path confetti are not supported in this browser");var y,H;typeof k=="string"?y=k:(y=k.path,H=k.matrix);var z=new Path2D(y),B=document.createElement("canvas"),W=B.getContext("2d");if(!H){for(var Q=1e3,K=Q,ee=Q,ue=0,fe=0,me,d,_=0;_<Q;_+=2)for(var b=0;b<Q;b+=2)W.isPointInPath(z,_,b,"nonzero")&&(K=Math.min(K,_),ee=Math.min(ee,b),ue=Math.max(ue,_),fe=Math.max(fe,b));me=ue-K,d=fe-ee;var P=10,C=Math.min(P/me,P/d);H=[C,0,0,C,-Math.round(me/2+K)*C,-Math.round(d/2+ee)*C]}return{type:"path",path:y,matrix:H}}function Oe(k){var y,H=1,z="#000000",B='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof k=="string"?y=k:(y=k.text,H="scalar"in k?k.scalar:H,B="fontFamily"in k?k.fontFamily:B,z="color"in k?k.color:z);var W=10*H,Q=""+W+"px "+B,K=new OffscreenCanvas(W,W),ee=K.getContext("2d");ee.font=Q;var ue=ee.measureText(y),fe=Math.ceil(ue.actualBoundingBoxRight+ue.actualBoundingBoxLeft),me=Math.ceil(ue.actualBoundingBoxAscent+ue.actualBoundingBoxDescent),d=2,_=ue.actualBoundingBoxLeft+d,b=ue.actualBoundingBoxAscent+d;fe+=d+d,me+=d+d,K=new OffscreenCanvas(fe,me),ee=K.getContext("2d"),ee.font=Q,ee.fillStyle=z,ee.fillText(y,_,b);var P=1/H;return{type:"bitmap",bitmap:K.transferToImageBitmap(),matrix:[P,0,0,P,-fe*P/2,-me*P/2]}}n.exports=function(){return _e().apply(this,arguments)},n.exports.reset=function(){_e().reset()},n.exports.create=Y,n.exports.shapeFromPath=se,n.exports.shapeFromText=Oe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Er,!1);const L0=Er.exports;Er.exports.create;const N0={key:0,style:{"font-size":"0.8rem",color:"gray","text-align":"center","margin-bottom":"-10px"}},D0={class:"container"},F0={key:0},U0={class:"avatar-lineup"},B0=["src","alt"],q0={key:0,class:"buttons"},H0=["onClick"],V0=["onClick"],W0=["onClick"],J0=["onClick"],K0={key:0,id:"submitScoreContainer"},z0={key:1},G0=20,Re="Number One",Y0="https://cdn-icons-png.flaticon.com/512/4712/4712027.png",X0={__name:"Game",props:{players:Array,role:String,site:String},setup(e){let t=0;function n(S){t=S.touches[0].clientY}function r(S){const I=S.touches[0].clientY;window.scrollY===0&&I>t&&S.preventDefault()}xs(()=>{window.addEventListener("touchstart",n,{passive:!1}),window.addEventListener("touchmove",r,{passive:!1})}),dl(()=>{window.removeEventListener("touchstart",n),window.removeEventListener("touchmove",r)});function s(){const S=document.documentElement;document.fullscreenElement?document.exitFullscreen():S.requestFullscreen().catch(I=>{console.warn(`Erreur lors du passage en plein cran : ${I.message}`)})}const i=e,o=Me(1),a=Me(0),l=Me([0,0,0]);let c=0;er(()=>i.players.length,S=>{const I=i.players.findIndex(V=>V.name===Re);S>1&&I===-1?i.players.push({id:0,name:Re,avatar:Y0,scores:[],totalScore:0}):S<=1&&I!==-1&&(i.players.splice(I,1),a.value>=i.players.length&&(a.value=0))},{immediate:!0}),i.players.forEach(S=>{S.scores||(S.scores=[]),S.curses||(S.curses=0),S.totalScore===void 0&&(S.totalScore=0)});function u(S){const I=S.scores.flat(),V=Yr(I),te=Xr(I),ce=I.length,he=I.filter(B=>B===0).length,U=I.filter(B=>B!==0).length,L=S.scores.map(B=>B[0]).filter(B=>B!==0).length,D=S.scores.map(B=>B[1]).filter(B=>B!==0).length,Y=S.scores.map(B=>B[2]).filter(B=>B!==0).length,ke=I.filter(B=>B===1).length,_e=I.filter(B=>B===2).length,le=I.filter(B=>B===3).length,se=S.scores.filter(B=>B.filter(W=>W===3).length===3).length,Oe=S.scores.filter(B=>B.filter(W=>W===3).length===2).length,k=S.scores.filter(B=>B.filter(W=>W===2).length===3).length,y=S.scores.filter(B=>B.filter(W=>W===2).length===2).length,H=S.scores.filter(B=>{const W=new Set(B);return W.has(1)&&W.has(2)&&W.has(3)}).length,z=S.curses;return{total:ce,hits:U,hitsF1:L,hitsF2:D,hitsF3:Y,miss:he,single:ke,double:_e,triple:le,shangai:H,ttt:se,ddd:k,tt:Oe,dd:y,strk:V,strkloose:te,curses:z}}function f(S,I){l.value[S]=I,navigator.vibrate&&navigator.vibrate(30)}const h=Vn(()=>{const S=o.value;return l.value.reduce((I,V)=>I+V*S,0)});function g(){navigator.vibrate&&navigator.vibrate(30);const S=i.players[a.value];if(S.name===Re){const te=i.players.filter(L=>L.name!==Re).map(L=>L.scores[L.scores.length-1]),ce=te.map(L=>L[0]+L[1]+L[2]),he=ce.indexOf(Math.max(...ce)),U=te[he];l.value=[...U]}const I=[...l.value];S.scores.push(I),S.totalScore+=h.value,new Set(I).has(1)&&new Set(I).has(2)&&new Set(I).has(3)&&S.name!==Re&&L0({particleCount:150,spread:90,origin:{y:.6}}),l.value=[0,0,0],a.value<i.players.length-1?a.value++:(a.value=0,o.value++),c=Math.max(...i.players.filter(te=>te.name!==Re).map(te=>te.totalScore))}function x(){if(o.value===1&&a.value===0)return;let S=a.value,I=o.value;function V(L){const D=i.players.length;for(let Y=1;Y<=D;Y++){const ke=(L-Y+D)%D;if(i.players[ke].name!==Re)return ke}return L}const te=i.players.findIndex(L=>L.name===Re);let ce=!1;if(S===0){if(I===1)return;I-=1,S=V(i.players.length),ce=!0}else S=V(S);a.value=S,o.value=I;const he=i.players[S],U=he.scores.pop();if(U){const L=I,D=U.reduce((Y,ke)=>Y+ke*L,0);he.totalScore-=D}if(ce&&te!==-1){const L=i.players[te];if(L.scores.length>0){const Y=L.scores[L.scores.length-1].reduce((ke,_e)=>ke+_e*I,0);L.totalScore-=Y,L.scores.pop()}}l.value=[0,0,0]}function A(){const S=i.players[a.value];S.name!==Re&&(S.curses+=1)}const O=Vn(()=>o.value>G0),m=Vn(()=>[...i.players].sort((S,I)=>I.totalScore-S.totalScore));er(a,async S=>{i.players[S].name===Re&&!O.value&&(await il(),g())});const p=Vn(()=>i.players.filter(S=>S.name!==Re).sort((S,I)=>I.totalScore-S.totalScore));function w(S){const I=new Map([[1,"Ain"],[2,"Aisne"],[3,"Allier"],[4,"Alpes-de-Haute-Provence"],[5,"Hautes-Alpes"],[6,"Alpes-Maritimes"],[7,"Ardche"],[8,"Ardennes"],[9,"Arige"],[10,"Aube"],[11,"Aude"],[12,"Aveyron"],[13,"Bouches-du-Rhne"],[14,"Calvados"],[15,"Cantal"],[16,"Charente"],[17,"Charente-Maritime"],[18,"Cher"],[19,"Corrze"],[20,"Corse (2A Corse-du-Sud, 2B Haute-Corse)"],[21,"Cte-d'Or"],[22,"Ctes-d'Armor"],[23,"Creuse"],[24,"Dordogne"],[25,"Doubs"],[26,"Drme"],[27,"Eure"],[28,"Eure-et-Loir"],[29,"Finistre"],[30,"Gard"],[31,"Haute-Garonne"],[32,"Gers"],[33,"Gironde"],[34,"Hrault"],[35,"Ille-et-Vilaine"],[36,"Indre"],[37,"Indre-et-Loire"],[38,"Isre"],[39,"Jura"],[40,"Landes"],[41,"Loir-et-Cher"],[42,"Loire"],[43,"Haute-Loire"],[44,"Loire-Atlantique"],[45,"Loiret"],[46,"Lot"],[47,"Lot-et-Garonne"],[48,"Lozre"],[49,"Maine-et-Loire"],[50,"Manche"],[51,"Marne"],[52,"Haute-Marne"],[53,"Mayenne"],[54,"Meurthe-et-Moselle"],[55,"Meuse"],[56,"Morbihan"],[57,"Moselle"],[58,"Nivre"],[59,"Nord"],[60,"Oise"],[61,"Orne"],[62,"Pas-de-Calais"],[63,"Puy-de-Dme"],[64,"Pyrnes-Atlantiques"],[65,"Hautes-Pyrnes"],[66,"Pyrnes-Orientales"],[67,"Bas-Rhin"],[68,"Haut-Rhin"],[69,"Rhne"],[70,"Haute-Sane"],[71,"Sane-et-Loire"],[72,"Sarthe"],[73,"Savoie"],[74,"Haute-Savoie"],[75,"Paris"],[76,"Seine-Maritime"],[77,"Seine-et-Marne"],[78,"Yvelines"],[79,"Deux-Svres"],[80,"Somme"],[81,"Tarn"],[82,"Tarn-et-Garonne"],[83,"Var"],[84,"Vaucluse"],[85,"Vende"],[86,"Vienne"],[87,"Haute-Vienne"],[88,"Vosges"],[89,"Yonne"],[90,"Territoire de Belfort"],[91,"Essonne"],[92,"Hauts-de-Seine"],[93,"Seine-Saint-Denis"],[94,"Val-de-Marne"],[95,"Val-d'Oise"]]);if(S<=0||S>95&&S<100)return"";if(S<=95)return"| "+I.get(S);if(S>=100&&S<200)return"| Barrire de la honte";if(S>=200&&S<300)return"| Barrire de l'honneur";if(S>=300&&S<400)return"| Bien jou  ";if(S>=400&&S<500)return"|  Quel talent ";if(S>=500&&S<600)return"|  Lgendaire ";if(S>=600)return"|  G.O.A.T "}function T(S){if(S<100)return"neutral";if(S>=100&&S<200)return"ultra1";if(S>=200&&S<300)return"ultra2";if(S>=300&&S<400)return"ultra3";if(S>=400&&S<500)return"ultra4";if(S>=500)return"ultra5"}return(S,I)=>(ae(),ge("div",null,[e.role==="admin"?(ae(),ge("p",N0," Partie officielle et enregistre ")):Je("",!0),v("div",D0,[O.value?(ae(),ge("div",z0,[_t(R0,{sortedPlayers:m.value,humanPlayersSorted:p.value,robotName:Re,stats:u,replay:S.replay,role:i.role,site:i.site,onViewScores:I[0]||(I[0]=V=>S.$emit("view-scores"))},null,8,["sortedPlayers","humanPlayersSorted","replay","role","site"])])):(ae(),ge("div",F0,[v("h2",{class:"round-circle",onClick:s},$(o.value),1),v("h1",null,$(i.players[a.value].name),1),v("div",{class:at(["dept-badge",T(i.players[a.value].totalScore+h.value)])},[I[1]||(I[1]=rt(" Score : ")),v("b",null,$(i.players[a.value].totalScore+h.value),1),rt(" "+$(w(i.players[a.value].totalScore+h.value)),1)],2),v("div",U0,[(ae(!0),ge(Fe,null,lr(i.players,(V,te)=>(ae(),ge("div",{key:V.name,class:"avatar-wrapper"},[v("img",{src:V.avatar,alt:V.name,class:at(["avatar",{current:te===a.value}])},null,10,B0),v("div",{class:at(["score-badge",{"bestscore-badge":V.totalScore===tn(c)&&V.name!==Re&&tn(c)!==0,"score-robot":V.name===Re}])},$(V.totalScore),3),V.name!==Re&&V.totalScore>=100?(ae(),ge("div",{key:0,class:at(["score-dot",T(V.totalScore)])},null,2)):Je("",!0)]))),128))]),I[2]||(I[2]=v("hr",null,null,-1)),(ae(!0),ge(Fe,null,lr(l.value,(V,te)=>(ae(),ge("div",{key:te,class:"dart-controls",style:{display:"flex","align-items":"center",gap:"6px"}},[i.players[a.value].name!==Re?(ae(),ge("div",q0,[v("button",{class:at(["dart-button",{active:V===0}]),onClick:ce=>f(te,0)},"Miss",10,H0),v("button",{class:at(["dart-button",{active:V===1}]),onClick:ce=>f(te,1)},"Single",10,V0),v("button",{class:at(["dart-button",{active:V===2}]),onClick:ce=>f(te,2)},"Double",10,W0),v("button",{class:at(["dart-button",{active:V===3}]),onClick:ce=>f(te,3)},"Triple",10,J0)])):Je("",!0)]))),128)),i.players[a.value].name!==Re?(ae(),ge("p",K0,[v("button",{onClick:A,class:"curseCounter"}," ! "+$(i.players[a.value].curses),1),v("button",{onClick:g,class:"validate"},"Valider ce tour (+"+$(h.value)+" pts)",1)])):Je("",!0),v("p",null,[v("button",{onClick:x,class:"undo-button"},"")])]))])]))}},Q0=br(X0,[["__scopeId","data-v-8d09ca16"]]),Z0={class:"login-container"},ev={class:"login-box"},tv={class:"radio-group"},nv={class:"radio-label"},rv={class:"radio-label"},sv=["disabled"],iv={key:0,class:"error"},ov={__name:"Login",emits:["login"],setup(e,{emit:t}){const n=t,r=Me(""),s=Me("Riate"),i=Me(null),o=Me(!1);async function a(){i.value=null,o.value=!0;const c=await Rp(r.value);o.value=!1,c?n("login",{name:"Admin",role:"admin",site:s.value}):i.value="Mot de passe incorrect."}function l(){n("login",{name:"Visiteur",role:"visiteur",site:s.value})}return(c,u)=>(ae(),ge("div",Z0,[v("div",ev,[v("form",{onSubmit:hr(a,["prevent"])},[v("div",tv,[v("label",nv,[Hr(v("input",{type:"radio",value:"Riate","onUpdate:modelValue":u[0]||(u[0]=f=>s.value=f)},null,512),[[Do,s.value]]),u[3]||(u[3]=v("span",null,"Riate",-1))]),v("label",rv,[Hr(v("input",{type:"radio",value:"Condorcet","onUpdate:modelValue":u[1]||(u[1]=f=>s.value=f)},null,512),[[Do,s.value]]),u[4]||(u[4]=v("span",null,"Condorcet",-1))])]),Hr(v("input",{"onUpdate:modelValue":u[2]||(u[2]=f=>r.value=f),type:"password",placeholder:"Mot de passe",autocomplete:"current-password"},null,512),[[Dl,r.value]]),v("button",{type:"submit",disabled:o.value},$(o.value?"Connexion...":"Se connecter"),9,sv)],32),v("a",{onClick:hr(l,["prevent"]),href:"#",class:"visitor-link"}," Continuer en tant que visiteur "),i.value?(ae(),ge("p",iv,$(i.value),1)):Je("",!0)])]))}},av=br(ov,[["__scopeId","data-v-220c4406"]]),lv="/shanghai/img/podium.webp";function uv(){const e=new Date,t=e.getFullYear(),n=e.getMonth(),s=(n>=8?new Date(t,8,1):new Date(t-1,8,1)).getTime(),o=(n<=6?new Date(t,6,31):new Date(t+1,6,31)).getTime();return{septFirstLastYear:s,july31Next:o}}function cv(e,t=10){const n=uv(),r=new Date,s=new Date;s.setMonth(r.getMonth()-1);let i=e.filter(l=>l.timestamp>=n.septFirstLastYear).filter(l=>l.timestamp<=n.july31Next).sort((l,c)=>su(l.timestamp,c.timestamp));return[...new Set(i.map(l=>l.name))].filter(l=>l!=="Number One").map(l=>i.filter(c=>c.name==l).filter(c=>new Date(c.timestamp)>=s).slice(-t)).filter(l=>l.length>=10).flat()}const hv={class:"scores-page"},fv={key:0},dv={key:1},pv={key:0,class:"podium",style:{position:"relative",display:"inline-block"}},gv={class:"podium-text text-1"},mv={style:{"font-size":"0.5rem"}},_v={class:"podium-text text-2"},vv={style:{"font-size":"0.5rem"}},yv={class:"podium-text text-3"},wv={style:{"font-size":"0.5rem"}},bv={class:"podium-text text-4"},xv={align:"center"},Sv=["innerHTML"],kv={key:1,class:"players-list"},Tv=["innerHTML"],Ev={class:"player-name"},Av=["innerHTML"],Ov={class:"score-table"},$v={class:"player-card"},Cv={class:"player-name"},Pv={class:"score-table"},Rv={__name:"RecordedStats",setup(e){const t=Object.assign({},{min:Up,max:ou,mean:au,sum:xi,ascending:su,descending:iu,count:Ip,group:Dp}),n=Me([]),r=Me([]),s=Me([]),i=Me([]);async function o(){console.log("fetchScores called");const{data:l,error:c}=await to.from("scores").select("*").order("score",{ascending:!1});if(c){console.error("Erreur de rcupration des scores :",c);return}if(!l.length)return;console.log(l),i.value=l;const u=Ra(),f=Array.from(t.group(l,x=>x.name)).filter(([x,A])=>A.length>=10).filter(([x,A])=>A.name!="Number One").map(([x])=>x),h=a(l.filter(x=>f.includes(x.name)));s.value=I0(l.filter(x=>x.timestamp>=u.septFirstLastYear).filter(x=>x.timestamp<=u.july31Next));const g=["Number One"];n.value=h.filter(x=>x.data_last.length>=10).filter(x=>!g.includes(x.name)),r.value=h.find(x=>x.name==="Number One")}function a(l,c=10){const u=new Date,f=new Date;f.setMonth(u.getMonth()-1);let h=[...new Set(l.map(m=>m.name))].map(m=>({name:m}));const g=Ra(),x=l.filter(m=>m.timestamp>=g.septFirstLastYear).filter(m=>m.timestamp<=g.july31Next),A=l.filter(m=>m.name=="Number One").length,O=x.filter(m=>m.name=="Number One").length;return h=h.map(m=>{const p=l.filter(E=>E.name==m.name),w=x.filter(E=>E.name==m.name),T=w.filter(E=>new Date(E.timestamp)>=f).slice().sort((E,Le)=>t.ascending(E.timestamp,Le.timestamp)).slice(-c),S=m.name,I=ti(S,p,l),V=ti(S,w,l),te=ti(S,T,l),ce=p.length,he=w.length,U=T.length,L=Math.round(1e3*p.length/A)/10,D=Math.round(1e3*w.length/O)/10,Y=t.mean(p.map(E=>E.score)),ke=Math.round(Y),_e=t.mean(w.map(E=>E.score)),le=Math.round(_e),se=t.mean(T.map(E=>E.score)),Oe=Math.round(se),k=Math.round(t.max(p.map(E=>E.score))),y=Math.round(t.max(w.map(E=>E.score))),H=Math.round(t.max(T.map(E=>E.score))),z=Math.round(t.sum(p.map(E=>E.score))),B=Math.round(t.sum(w.map(E=>E.score))),W=Math.round(t.sum(T.map(E=>E.score))),Q=Math.round(t.min(p.map(E=>E.score))),K=Math.round(t.min(w.map(E=>E.score))),ee=Math.round(t.min(T.map(E=>E.score))),ue=t.max(p.map(E=>JSON.parse(E.hits)).map(E=>E.flat().filter(Le=>Le!=0).length)),fe=t.max(w.map(E=>JSON.parse(E.hits)).map(E=>E.flat().filter(Le=>Le!=0).length)),me=t.max(T.map(E=>JSON.parse(E.hits)).map(E=>E.flat().filter(Le=>Le!=0).length)),d=t.max(p.map(E=>JSON.parse(E.hits)).map(E=>t.sum(E.flat().filter(Le=>Le!=0)))),_=t.max(w.map(E=>JSON.parse(E.hits)).map(E=>t.sum(E.flat().filter(Le=>Le!=0)))),b=t.max(T.map(E=>JSON.parse(E.hits)).map(E=>t.sum(E.flat().filter(Le=>Le!=0)))),P=t.max(p.map((E,Le)=>t.max(JSON.parse(E.hits).map((jn,Ln)=>t.sum(jn)*(Ln+1))))),C=t.max(w.map((E,Le)=>t.max(JSON.parse(E.hits).map((jn,Ln)=>t.sum(jn)*(Ln+1))))),R=t.max(T.map((E,Le)=>t.max(JSON.parse(E.hits).map((jn,Ln)=>t.sum(jn)*(Ln+1))))),F=t.max(p.map(E=>JSON.parse(E.hits).flat()).map(E=>Yr(E))),N=t.max(w.map(E=>JSON.parse(E.hits).flat()).map(E=>Yr(E))),j=t.max(T.map(E=>JSON.parse(E.hits).flat()).map(E=>Yr(E))),M=t.max(p.map(E=>JSON.parse(E.hits).flat()).map(E=>Xr(E))),G=t.max(w.map(E=>JSON.parse(E.hits).flat()).map(E=>Xr(E))),q=t.max(T.map(E=>JSON.parse(E.hits).flat()).map(E=>Xr(E))),J=Math.round(p.map(E=>JSON.parse(E.hits)).flat(2).filter(E=>E==3).length/ce*10)/10,X=Math.round(w.map(E=>JSON.parse(E.hits)).flat(2).filter(E=>E==3).length/he*10)/10,ie=Math.round(T.map(E=>JSON.parse(E.hits)).flat(2).filter(E=>E==3).length/U*10)/10,ve=Math.round(p.map(E=>JSON.parse(E.hits)).flat(2).filter(E=>E==2).length/ce*10)/10,de=Math.round(w.map(E=>JSON.parse(E.hits)).flat(2).filter(E=>E==2).length/he*10)/10,$e=Math.round(T.map(E=>JSON.parse(E.hits)).flat(2).filter(E=>E==2).length/U*10)/10,Ae=t.sum(p.map(E=>Ys(JSON.parse(E.hits)))),je=t.sum(w.map(E=>Ys(JSON.parse(E.hits)))),ze=t.sum(T.map(E=>Ys(JSON.parse(E.hits)))),xt=t.sum(p.map(E=>Xs(JSON.parse(E.hits)))),Ar=t.sum(w.map(E=>Xs(JSON.parse(E.hits)))),Be=t.sum(T.map(E=>Xs(JSON.parse(E.hits)))),nt=t.sum(p.map(E=>Qs(JSON.parse(E.hits)))),Or=t.sum(w.map(E=>Qs(JSON.parse(E.hits)))),Lu=t.sum(T.map(E=>Qs(JSON.parse(E.hits)))),Nu=t.sum(p.map(E=>Zs(JSON.parse(E.hits)))),Du=t.sum(w.map(E=>Zs(JSON.parse(E.hits)))),Fu=t.sum(T.map(E=>Zs(JSON.parse(E.hits)))),Uu=t.sum(p.map(E=>ei(JSON.parse(E.hits)))),Bu=t.sum(w.map(E=>ei(JSON.parse(E.hits)))),qu=t.sum(T.map(E=>ei(JSON.parse(E.hits))));return{...m,played_all:ce,mean_all_raw:Y,mean_all:ke,max_all:k,min_all:Q,streak_all:F,assiduity_all:L,shanghai_all:Ae,played_year:he,mean_year_raw:_e,mean_year:le,max_year:y,min_year:K,streak_year:N,assiduity_year:D,shanghai_year:je,played_last:U,mean_last_raw:se,mean_last:Oe,max_last:H,min_last:ee,streak_last:j,shanghai_last:ze,hits_all:ue,hits_year:fe,hits_last:me,hits2_all:d,hits2_year:_,hits2_last:b,hitbest_all:P,hitbest_year:C,hitbest_last:R,tt_all:xt,tt_year:Ar,tt_last:Be,ttt_all:nt,ttt_year:Or,ttt_last:Lu,dd_all:Nu,dd_year:Du,dd_last:Fu,ddd_all:Uu,ddd_year:Bu,ddd_last:qu,cumul_all:z,cumul_year:B,cumul_last:W,triple_all:J,triple_year:X,triple_last:ie,double_all:ve,double_year:de,double_last:$e,win_all:I,win_year:V,win_last:te,data_last:T.map(E=>E.score),streakloose_all:M,streakloose_year:G,streakloose_last:q}}),h=[...h].sort((m,p)=>p.max_all-m.max_all).map((m,p)=>({...m,medal_max_all:pe(p)})),h=[...h].sort((m,p)=>p.max_year-m.max_year).map((m,p)=>({...m,medal_max_year:pe(p)})),h=[...h].sort((m,p)=>p.max_last-m.max_last).map((m,p)=>({...m,medal_max_last:pe(p)})),h=[...h].sort((m,p)=>p.cumul_all-m.cumul_all).map((m,p)=>({...m,medal_cumul_all:pe(p)})),h=[...h].sort((m,p)=>p.cumul_year-m.cumul_year).map((m,p)=>({...m,medal_cumul_year:pe(p)})),h=[...h].sort((m,p)=>p.cumul_last-m.cumul_last).map((m,p)=>({...m,medal_cumul_last:pe(p)})),h=[...h].sort((m,p)=>p.streak_all-m.streak_all).map((m,p)=>({...m,medal_streak_all:pe(p)})),h=[...h].sort((m,p)=>p.streak_year-m.streak_year).map((m,p)=>({...m,medal_streak_year:pe(p)})),h=[...h].sort((m,p)=>p.streak_last-m.streak_last).map((m,p)=>({...m,medal_streak_last:pe(p)})),h=[...h].sort((m,p)=>p.streakloose_all-m.streakloose_all).map((m,p)=>({...m,medal_streakloose_all:pe(p)})),h=[...h].sort((m,p)=>p.streakloose_year-m.streakloose_year).map((m,p)=>({...m,medal_streakloose_year:pe(p)})),h=[...h].sort((m,p)=>p.streakloose_last-m.streakloose_last).map((m,p)=>({...m,medal_streakloose_last:pe(p)})),h=[...h].sort((m,p)=>p.hits_all-m.hits_all).map((m,p)=>({...m,medal_hits_all:pe(p)})),h=[...h].sort((m,p)=>p.hits_year-m.hits_year).map((m,p)=>({...m,medal_hits_year:pe(p)})),h=[...h].sort((m,p)=>p.hits_last-m.hits_last).map((m,p)=>({...m,medal_hits_last:pe(p)})),h=[...h].sort((m,p)=>p.hitbest_all-m.hitbest_all).map((m,p)=>({...m,medal_hitbest_all:pe(p)})),h=[...h].sort((m,p)=>p.hitbest_year-m.hitbest_year).map((m,p)=>({...m,medal_hitbest_year:pe(p)})),h=[...h].sort((m,p)=>p.hitbest_last-m.hitbest_last).map((m,p)=>({...m,medal_hitbest_last:pe(p)})),h=[...h].sort((m,p)=>p.hits2_all-m.hits2_all).map((m,p)=>({...m,medal_hits2_all:pe(p)})),h=[...h].sort((m,p)=>p.hits2_year-m.hits2_year).map((m,p)=>({...m,medal_hits2_year:pe(p)})),h=[...h].sort((m,p)=>p.hits2_last-m.hits2_last).map((m,p)=>({...m,medal_hits2_last:pe(p)})),h=[...h].sort((m,p)=>p.triple_all-m.triple_all).map((m,p)=>({...m,medal_triple_all:pe(p)})),h=[...h].sort((m,p)=>p.triple_year-m.triple_year).map((m,p)=>({...m,medal_triple_year:pe(p)})),h=[...h].sort((m,p)=>p.triple_last-m.triple_last).map((m,p)=>({...m,medal_triple_last:pe(p)})),h=[...h].sort((m,p)=>p.double_all-m.double_all).map((m,p)=>({...m,medal_double_all:pe(p)})),h=[...h].sort((m,p)=>p.double_year-m.double_year).map((m,p)=>({...m,medal_double_year:pe(p)})),h=[...h].sort((m,p)=>p.double_last-m.double_last).map((m,p)=>({...m,medal_double_last:pe(p)})),h=[...h].sort((m,p)=>p.mean_all_raw-m.mean_all_raw).map((m,p)=>({...m,medal_mean_all:pe(p)})),h=[...h].sort((m,p)=>p.mean_year_raw-m.mean_year_raw).map((m,p)=>({...m,medal_mean_year:pe(p)})),h=[...h].sort((m,p)=>p.mean_last_raw-m.mean_last_raw).map((m,p)=>({...m,medal_mean_last:pe(p)})),h}return xs(()=>{o()}),(l,c)=>(ae(),ge("div",hv,[c[33]||(c[33]=v("h1",null,[v("ins",null,"Classement glissant")],-1)),c[34]||(c[34]=v("p",null,[rt("Sur les 10 dernires parties"),v("br"),v("small",null,[v("i",null,"(au moins une partie depuis un mois)")])],-1)),n.value.length==0?(ae(),ge("div",fv,c[1]||(c[1]=[v("h1",null,"Dbut de saison, repassez plus tard !",-1)]))):Je("",!0),n.value.length>0?(ae(),ge("div",dv,[n.value.length>=3?(ae(),ge("div",pv,[c[2]||(c[2]=v("img",{src:lv,alt:"Podium",class:"podium-image"},null,-1)),v("div",gv,[rt($(n.value[0].name),1),v("span",mv," ("+$(n.value[0].mean_last)+")",1)]),v("div",_v,[rt($(n.value[1].name),1),v("span",vv," ("+$(n.value[1].mean_last)+")",1)]),v("div",yv,[rt($(n.value[2].name),1),v("span",wv," ("+$(n.value[2].mean_last)+")",1)]),v("div",bv,"Chocolat : "+$(n.value[3].name)+" ("+$(n.value[3].mean_last)+")",1)])):Je("",!0),c[30]||(c[30]=rt(" > ")),v("div",xv,[v("div",{class:"player-card",innerHTML:tn(j0)(n.value)},null,8,Sv)]),c[31]||(c[31]=v("h1",null,[v("ins",null,"Classement de la saison")],-1)),c[32]||(c[32]=v("p",null,"Moyenne des 10 meilleurs scores",-1)),n.value.length?(ae(),ge("div",kv,[v("div",{class:"player-card",innerHTML:tn(M0)(s.value)},null,8,Tv),c[29]||(c[29]=v("h1",null,[v("ins",null,"Fiches individuelles")],-1)),(ae(!0),ge(Fe,null,lr(n.value,(u,f)=>(ae(),ge("div",{key:f,class:"player-card"},[v("h2",Ev,[rt($(u.medal_mean_last)+" "+$(u.name)+" - ",1),v("small",null,$(u.mean_last)+" pts",1),c[3]||(c[3]=rt(" xxxx "))]),v("div",{innerHTML:tn(Mu)(tn(cv)(i.value).filter(h=>h.name==u.name).map(h=>JSON.parse(h.hits)),"",800,!1).outerHTML},null,8,Av),c[24]||(c[24]=v("div",{class:"last-scores"},null,-1)),v("table",Ov,[c[23]||(c[23]=v("thead",null,[v("tr",null,[v("th"),v("th",null,"Sur 10 parties"),v("th",null,"Sur l'anne"),v("th",null,"Hall of Fame")])],-1)),v("tbody",null,[v("tr",null,[c[4]||(c[4]=v("th",null,"Parties",-1)),v("td",null,$(u.played_last),1),v("td",null,$(u.played_year),1),v("td",null,$(u.played_all),1)]),v("tr",null,[c[5]||(c[5]=v("th",null,"Win",-1)),v("td",null,$(Math.round(u.win_last*10)/10)+" %",1),v("td",null,$(Math.round(u.win_year*10)/10)+" %",1),v("td",null,$(Math.round(u.win_all*10)/10)+" %",1)]),v("tr",null,[c[6]||(c[6]=v("th",null,"Assiduit",-1)),c[7]||(c[7]=v("td",null,"-",-1)),v("td",null,$(u.assiduity_year)+" %",1),v("td",null,$(u.assiduity_all)+" %",1)]),v("tr",null,[c[8]||(c[8]=v("th",null,"Moyenne",-1)),v("td",null,$(u.mean_last)+" "+$(u.medal_mean_last),1),v("td",null,$(u.mean_year)+" "+$(u.medal_mean_year),1),v("td",null,$(u.mean_all)+" "+$(u.medal_mean_all),1)]),v("tr",null,[c[9]||(c[9]=v("th",null,"Cumul",-1)),v("td",null,$(Math.round(u.cumul_last/100)/10+"K")+" "+$(u.medal_cumul_last),1),v("td",null,$(Math.round(u.cumul_year/100)/10+"K")+" "+$(u.medal_cumul_year),1),v("td",null,$(Math.round(u.cumul_all/100)/10+"K")+" "+$(u.medal_cumul_all),1)]),v("tr",null,[c[10]||(c[10]=v("th",null,"Meilleur",-1)),v("td",null,$(u.max_last)+" "+$(u.medal_max_last),1),v("td",null,$(u.max_year)+" "+$(u.medal_max_year),1),v("td",null,$(u.max_all)+" "+$(u.medal_max_all),1)]),v("tr",null,[c[11]||(c[11]=v("th",null,"Streak",-1)),v("td",null,$(u.streak_last)+" "+$(u.medal_streak_last),1),v("td",null,$(u.streak_year)+" "+$(u.medal_streak_year),1),v("td",null,$(u.streak_all)+" "+$(u.medal_streak_all),1)]),v("tr",null,[c[12]||(c[12]=v("th",null,"Streak Loose",-1)),v("td",null,$(u.streakloose_last)+" "+$(u.medal_streakloose_last),1),v("td",null,$(u.streakloose_year)+" "+$(u.medal_streakloose_year),1),v("td",null,$(u.streakloose_all)+" "+$(u.medal_streakloose_all),1)]),v("tr",null,[c[13]||(c[13]=v("th",null,[rt("Hits "),v("small",null,"(60)")],-1)),v("td",null,$(u.hits_last)+" "+$(u.medal_hits_last),1),v("td",null,$(u.hits_year)+" "+$(u.medal_hits_year),1),v("td",null,$(u.hits_all)+" "+$(u.medal_hits_all),1)]),v("tr",null,[c[14]||(c[14]=v("th",null,[rt("Hits "),v("small",null,"(180)")],-1)),v("td",null,$(u.hits2_last)+" "+$(u.medal_hits2_last),1),v("td",null,$(u.hits2_year)+" "+$(u.medal_hits2_year),1),v("td",null,$(u.hits2_all)+" "+$(u.medal_hits2_all),1)]),v("tr",null,[c[15]||(c[15]=v("th",null,"Meilleur coup",-1)),v("td",null,$(u.hitbest_last)+" "+$(u.medal_hitbest_last),1),v("td",null,$(u.hitbest_year)+" "+$(u.medal_hitbest_year),1),v("td",null,$(u.hitbest_all)+" "+$(u.medal_hitbest_all),1)]),v("tr",null,[c[16]||(c[16]=v("th",null,"Triples",-1)),v("td",null,$(u.triple_last)+" % "+$(u.medal_triple_last),1),v("td",null,$(u.triple_year)+" % "+$(u.medal_triple_year),1),v("td",null,$(u.triple_all)+" % "+$(u.medal_triple_all),1)]),v("tr",null,[c[17]||(c[17]=v("th",null,"Doubles",-1)),v("td",null,$(u.double_last)+" % "+$(u.medal_double_last),1),v("td",null,$(u.double_year)+" % "+$(u.medal_double_year),1),v("td",null,$(u.double_all)+" % "+$(u.medal_double_all),1)]),v("tr",null,[c[18]||(c[18]=v("th",null,"Shanghai",-1)),v("td",null,$(u.shanghai_last),1),v("td",null,$(u.shanghai_year),1),v("td",null,$(u.shanghai_all),1)]),v("tr",null,[c[19]||(c[19]=v("th",null,"ttt",-1)),v("td",null,$(u.ttt_last),1),v("td",null,$(u.ttt_year),1),v("td",null,$(u.ttt_all),1)]),v("tr",null,[c[20]||(c[20]=v("th",null,"tt",-1)),v("td",null,$(u.tt_last),1),v("td",null,$(u.tt_year),1),v("td",null,$(u.tt_all),1)]),v("tr",null,[c[21]||(c[21]=v("th",null,"ddd",-1)),v("td",null,$(u.ddd_last),1),v("td",null,$(u.ddd_year),1),v("td",null,$(u.ddd_all),1)]),v("tr",null,[c[22]||(c[22]=v("th",null,"dd",-1)),v("td",null,$(u.dd_last),1),v("td",null,$(u.dd_year),1),v("td",null,$(u.dd_all),1)])])])]))),128)),v("div",$v,[v("h2",Cv,$(r.value.name),1),v("table",Pv,[c[28]||(c[28]=v("thead",null,[v("tr",null,[v("th"),v("th",null,"Sur 10 parties"),v("th",null,"Sur l'anne"),v("th",null,"Hall of Fame")])],-1)),v("tbody",null,[v("tr",null,[c[25]||(c[25]=v("th",null,"Parties",-1)),v("td",null,$(r.value.played_last),1),v("td",null,$(r.value.played_year),1),v("td",null,$(r.value.played_all),1)]),v("tr",null,[c[26]||(c[26]=v("th",null,"Moyenne",-1)),v("td",null,$(r.value.mean_last),1),v("td",null,$(r.value.mean_year),1),v("td",null,$(r.value.mean_all),1)]),v("tr",null,[c[27]||(c[27]=v("th",null,"Meilleur",-1)),v("td",null,$(r.value.max_last),1),v("td",null,$(r.value.max_year),1),v("td",null,$(r.value.max_all),1)])])])])])):Je("",!0)])):Je("",!0),v("button",{onClick:c[0]||(c[0]=u=>l.$emit("back")),class:"back-button"},"Retour")]))}},Iv=br(Rv,[["__scopeId","data-v-ec5d859b"]]),Mv={__name:"App",setup(e){const t=[{id:1,name:"Matt"},{id:2,name:"Darts Vador",avatar:"/shanghai/img/dartsvador.png"},{id:3,name:"Dart Simpson",avatar:"/shanghai/img/dartsimpson.png"},{id:4,name:"Robull",avatar:"/shanghai/img/ro.jpg"},{id:5,name:"Louis CLXXX",avatar:"/shanghai/img/crown.jpeg"},{id:7,name:"Cramomille",avatar:"/shanghai/img/cramomille.png"},{id:8,name:"Chlo",avatar:"/shanghai/img/ponpon.png"}],n=[{id:1001,name:"Hugues",avatar:"/shanghai/img/default.jpeg"},{id:1002,name:"Elina",avatar:"/shanghai/img/default.jpeg"},{id:1003,name:"Mattia",avatar:"/shanghai/img/archi.jpg"}],r=Me(null),s=Me([]),i=Me([]),o=Me("login");function a(f){r.value=f,f.site==="Riate"?s.value=t:f.site==="Condorcet"?s.value=n:s.value=[],o.value="selection"}function l(f){i.value=f,o.value="game"}function c(){o.value="scores"}function u(){o.value="selection"}return(f,h)=>(ae(),ge("div",null,[o.value==="login"?(ae(),Hn(av,{key:0,onLogin:a})):o.value==="selection"?(ae(),Hn(Sf,{key:1,predefinedPlayers:s.value,role:r.value.role,onStartGame:l,onViewScores:c},null,8,["predefinedPlayers","role"])):o.value==="game"?(ae(),Hn(Q0,{key:2,players:i.value,role:r.value.role,site:r.value.site,onViewScores:c},null,8,["players","role","site"])):o.value==="scores"?(ae(),Hn(Iv,{key:3,onBack:u,onViewScores:c})):Je("",!0)]))}};lf(Mv).mount("#app")});export default jv();
