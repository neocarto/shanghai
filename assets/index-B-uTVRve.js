var Ea=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Qf=Ea((np,Ws)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function yn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const pe={},ts=[],at=()=>{},Oa=()=>!1,_r=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),bn=t=>t.startsWith("onUpdate:"),Be=Object.assign,wn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Pa=Object.prototype.hasOwnProperty,he=(t,e)=>Pa.call(t,e),V=Array.isArray,ss=t=>vr(t)==="[object Map]",Ji=t=>vr(t)==="[object Set]",Z=t=>typeof t=="function",ke=t=>typeof t=="string",jt=t=>typeof t=="symbol",_e=t=>t!==null&&typeof t=="object",Vi=t=>(_e(t)||Z(t))&&Z(t.then)&&Z(t.catch),Ki=Object.prototype.toString,vr=t=>Ki.call(t),Ca=t=>vr(t).slice(8,-1),zi=t=>vr(t)==="[object Object]",Sn=t=>ke(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bs=yn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Aa=/-(\w)/g,Pt=yr(t=>t.replace(Aa,(e,s)=>s?s.toUpperCase():"")),ja=/\B([A-Z])/g,Ft=yr(t=>t.replace(ja,"-$1").toLowerCase()),Gi=yr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Cr=yr(t=>t?`on${Gi(t)}`:""),Ot=(t,e)=>!Object.is(t,e),sr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Yi=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Xr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let qn;const br=()=>qn||(qn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function kn(t){if(V(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=ke(r)?Ma(r):kn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(ke(t)||_e(t))return t}const $a=/;(?![^(]*\))/g,Ra=/:([^]+)/,Ia=/\/\*[^]*?\*\//g;function Ma(t){const e={};return t.replace(Ia,"").split($a).forEach(s=>{if(s){const r=s.split(Ra);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function gt(t){let e="";if(ke(t))e=t;else if(V(t))for(let s=0;s<t.length;s++){const r=gt(t[s]);r&&(e+=r+" ")}else if(_e(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const La="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Da=yn(La);function Qi(t){return!!t||t===""}const Xi=t=>!!(t&&t.__v_isRef===!0),x=t=>ke(t)?t:t==null?"":V(t)||_e(t)&&(t.toString===Ki||!Z(t.toString))?Xi(t)?x(t.value):JSON.stringify(t,Zi,2):String(t),Zi=(t,e)=>Xi(e)?Zi(t,e.value):ss(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Ar(r,i)+" =>"]=n,s),{})}:Ji(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Ar(s))}:jt(e)?Ar(e):_e(e)&&!V(e)&&!zi(e)?String(e):e,Ar=(t,e="")=>{var s;return jt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let We;class Ua{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=We,!e&&We&&(this.index=(We.scopes||(We.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=We;try{return We=this,e()}finally{We=s}}}on(){++this._on===1&&(this.prevScope=We,We=this)}off(){this._on>0&&--this._on===0&&(We=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Na(){return We}let me;const jr=new WeakSet;class eo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,We&&We.active&&We.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,jr.has(this)&&(jr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||so(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Hn(this),ro(this);const e=me,s=st;me=this,st=!0;try{return this.fn()}finally{no(this),me=e,st=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)En(e);this.deps=this.depsTail=void 0,Hn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?jr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zr(this)&&this.run()}get dirty(){return Zr(this)}}let to=0,ws,Ss;function so(t,e=!1){if(t.flags|=8,e){t.next=Ss,Ss=t;return}t.next=ws,ws=t}function xn(){to++}function Tn(){if(--to>0)return;if(Ss){let e=Ss;for(Ss=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;ws;){let e=ws;for(ws=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function ro(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function no(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),En(r),Fa(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Zr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(io(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function io(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===As)||(t.globalVersion=As,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Zr(t))))return;t.flags|=2;const e=t.dep,s=me,r=st;me=t,st=!0;try{ro(t);const n=t.fn(t._value);(e.version===0||Ot(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{me=s,st=r,no(t),t.flags&=-3}}function En(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)En(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Fa(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let st=!0;const oo=[];function vt(){oo.push(st),st=!1}function yt(){const t=oo.pop();st=t===void 0?!0:t}function Hn(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=me;me=void 0;try{e()}finally{me=s}}}let As=0;class Ba{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class On{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!me||!st||me===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==me)s=this.activeLink=new Ba(me,this),me.deps?(s.prevDep=me.depsTail,me.depsTail.nextDep=s,me.depsTail=s):me.deps=me.depsTail=s,ao(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=me.depsTail,s.nextDep=void 0,me.depsTail.nextDep=s,me.depsTail=s,me.deps===s&&(me.deps=r)}return s}trigger(e){this.version++,As++,this.notify(e)}notify(e){xn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Tn()}}}function ao(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)ao(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const en=new WeakMap,Nt=Symbol(""),tn=Symbol(""),js=Symbol("");function Re(t,e,s){if(st&&me){let r=en.get(t);r||en.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new On),n.map=r,n.key=s),n.track()}}function mt(t,e,s,r,n,i){const o=en.get(t);if(!o){As++;return}const a=l=>{l&&l.trigger()};if(xn(),e==="clear")o.forEach(a);else{const l=V(t),c=l&&Sn(s);if(l&&s==="length"){const u=Number(r);o.forEach((d,v)=>{(v==="length"||v===js||!jt(v)&&v>=u)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(js)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Nt)),ss(t)&&a(o.get(tn)));break;case"delete":l||(a(o.get(Nt)),ss(t)&&a(o.get(tn)));break;case"set":ss(t)&&a(o.get(Nt));break}}Tn()}function qt(t){const e=ue(t);return e===t?e:(Re(e,"iterate",js),Xe(t)?e:e.map(Ce))}function wr(t){return Re(t=ue(t),"iterate",js),t}const qa={__proto__:null,[Symbol.iterator](){return $r(this,Symbol.iterator,Ce)},concat(...t){return qt(this).concat(...t.map(e=>V(e)?qt(e):e))},entries(){return $r(this,"entries",t=>(t[1]=Ce(t[1]),t))},every(t,e){return ht(this,"every",t,e,void 0,arguments)},filter(t,e){return ht(this,"filter",t,e,s=>s.map(Ce),arguments)},find(t,e){return ht(this,"find",t,e,Ce,arguments)},findIndex(t,e){return ht(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ht(this,"findLast",t,e,Ce,arguments)},findLastIndex(t,e){return ht(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ht(this,"forEach",t,e,void 0,arguments)},includes(...t){return Rr(this,"includes",t)},indexOf(...t){return Rr(this,"indexOf",t)},join(t){return qt(this).join(t)},lastIndexOf(...t){return Rr(this,"lastIndexOf",t)},map(t,e){return ht(this,"map",t,e,void 0,arguments)},pop(){return ds(this,"pop")},push(...t){return ds(this,"push",t)},reduce(t,...e){return Wn(this,"reduce",t,e)},reduceRight(t,...e){return Wn(this,"reduceRight",t,e)},shift(){return ds(this,"shift")},some(t,e){return ht(this,"some",t,e,void 0,arguments)},splice(...t){return ds(this,"splice",t)},toReversed(){return qt(this).toReversed()},toSorted(t){return qt(this).toSorted(t)},toSpliced(...t){return qt(this).toSpliced(...t)},unshift(...t){return ds(this,"unshift",t)},values(){return $r(this,"values",Ce)}};function $r(t,e,s){const r=wr(t),n=r[e]();return r!==t&&!Xe(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Ha=Array.prototype;function ht(t,e,s,r,n,i){const o=wr(t),a=o!==t&&!Xe(t),l=o[e];if(l!==Ha[e]){const d=l.apply(t,i);return a?Ce(d):d}let c=s;o!==t&&(a?c=function(d,v){return s.call(this,Ce(d),v,t)}:s.length>2&&(c=function(d,v){return s.call(this,d,v,t)}));const u=l.call(o,c,r);return a&&n?n(u):u}function Wn(t,e,s,r){const n=wr(t);let i=s;return n!==t&&(Xe(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Ce(a),l,t)}),n[e](i,...r)}function Rr(t,e,s){const r=ue(t);Re(r,"iterate",js);const n=r[e](...s);return(n===-1||n===!1)&&jn(s[0])?(s[0]=ue(s[0]),r[e](...s)):n}function ds(t,e,s=[]){vt(),xn();const r=ue(t)[e].apply(t,s);return Tn(),yt(),r}const Wa=yn("__proto__,__v_isRef,__isVue"),lo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(jt));function Ja(t){jt(t)||(t=String(t));const e=ue(this);return Re(e,"has",t),e.hasOwnProperty(t)}class co{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?tl:po:i?fo:ho).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=V(e);if(!n){let l;if(o&&(l=qa[s]))return l;if(s==="hasOwnProperty")return Ja}const a=Reflect.get(e,s,Me(e)?e:r);return(jt(s)?lo.has(s):Wa(s))||(n||Re(e,"get",s),i)?a:Me(a)?o&&Sn(s)?a:a.value:_e(a)?n?go(a):Cn(a):a}}class uo extends co{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Ct(i);if(!Xe(r)&&!Ct(r)&&(i=ue(i),r=ue(r)),!V(e)&&Me(i)&&!Me(r))return l?!1:(i.value=r,!0)}const o=V(e)&&Sn(s)?Number(s)<e.length:he(e,s),a=Reflect.set(e,s,r,Me(e)?e:n);return e===ue(n)&&(o?Ot(r,i)&&mt(e,"set",s,r):mt(e,"add",s,r)),a}deleteProperty(e,s){const r=he(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&mt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!jt(s)||!lo.has(s))&&Re(e,"has",s),r}ownKeys(e){return Re(e,"iterate",V(e)?"length":Nt),Reflect.ownKeys(e)}}class Va extends co{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Ka=new uo,za=new Va,Ga=new uo(!0),sn=t=>t,Ks=t=>Reflect.getPrototypeOf(t);function Ya(t,e,s){return function(...r){const n=this.__v_raw,i=ue(n),o=ss(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...r),u=s?sn:e?lr:Ce;return!e&&Re(i,"iterate",l?tn:Nt),{next(){const{value:d,done:v}=c.next();return v?{value:d,done:v}:{value:a?[u(d[0]),u(d[1])]:u(d),done:v}},[Symbol.iterator](){return this}}}}function zs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Qa(t,e){const s={get(n){const i=this.__v_raw,o=ue(i),a=ue(n);t||(Ot(n,a)&&Re(o,"get",n),Re(o,"get",a));const{has:l}=Ks(o),c=e?sn:t?lr:Ce;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&Re(ue(n),"iterate",Nt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=ue(i),a=ue(n);return t||(Ot(n,a)&&Re(o,"has",n),Re(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=ue(a),c=e?sn:t?lr:Ce;return!t&&Re(l,"iterate",Nt),a.forEach((u,d)=>n.call(i,c(u),c(d),o))}};return Be(s,t?{add:zs("add"),set:zs("set"),delete:zs("delete"),clear:zs("clear")}:{add(n){!e&&!Xe(n)&&!Ct(n)&&(n=ue(n));const i=ue(this);return Ks(i).has.call(i,n)||(i.add(n),mt(i,"add",n,n)),this},set(n,i){!e&&!Xe(i)&&!Ct(i)&&(i=ue(i));const o=ue(this),{has:a,get:l}=Ks(o);let c=a.call(o,n);c||(n=ue(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?Ot(i,u)&&mt(o,"set",n,i):mt(o,"add",n,i),this},delete(n){const i=ue(this),{has:o,get:a}=Ks(i);let l=o.call(i,n);l||(n=ue(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&mt(i,"delete",n,void 0),c},clear(){const n=ue(this),i=n.size!==0,o=n.clear();return i&&mt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Ya(n,t,e)}),s}function Pn(t,e){const s=Qa(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(he(s,n)&&n in r?s:r,n,i)}const Xa={get:Pn(!1,!1)},Za={get:Pn(!1,!0)},el={get:Pn(!0,!1)},ho=new WeakMap,fo=new WeakMap,po=new WeakMap,tl=new WeakMap;function sl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rl(t){return t.__v_skip||!Object.isExtensible(t)?0:sl(Ca(t))}function Cn(t){return Ct(t)?t:An(t,!1,Ka,Xa,ho)}function nl(t){return An(t,!1,Ga,Za,fo)}function go(t){return An(t,!0,za,el,po)}function An(t,e,s,r,n){if(!_e(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=rl(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function rs(t){return Ct(t)?rs(t.__v_raw):!!(t&&t.__v_isReactive)}function Ct(t){return!!(t&&t.__v_isReadonly)}function Xe(t){return!!(t&&t.__v_isShallow)}function jn(t){return t?!!t.__v_raw:!1}function ue(t){const e=t&&t.__v_raw;return e?ue(e):t}function il(t){return!he(t,"__v_skip")&&Object.isExtensible(t)&&Yi(t,"__v_skip",!0),t}const Ce=t=>_e(t)?Cn(t):t,lr=t=>_e(t)?go(t):t;function Me(t){return t?t.__v_isRef===!0:!1}function Je(t){return ol(t,!1)}function ol(t,e){return Me(t)?t:new al(t,e)}class al{constructor(e,s){this.dep=new On,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:ue(e),this._value=s?e:Ce(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Xe(e)||Ct(e);e=r?e:ue(e),Ot(e,s)&&(this._rawValue=e,this._value=r?e:Ce(e),this.dep.trigger())}}function $s(t){return Me(t)?t.value:t}const ll={get:(t,e,s)=>e==="__v_raw"?t:$s(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return Me(n)&&!Me(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function mo(t){return rs(t)?t:new Proxy(t,ll)}class cl{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new On(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=As-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&me!==this)return so(this,!0),!0}get value(){const e=this.dep.track();return io(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ul(t,e,s=!1){let r,n;return Z(t)?r=t:(r=t.get,n=t.set),new cl(r,n,s)}const Gs={},cr=new WeakMap;let Lt;function hl(t,e=!1,s=Lt){if(s){let r=cr.get(s);r||cr.set(s,r=[]),r.push(t)}}function dl(t,e,s=pe){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,c=E=>n?E:Xe(E)||n===!1||n===0?_t(E,1):_t(E);let u,d,v,S,h=!1,g=!1;if(Me(t)?(d=()=>t.value,h=Xe(t)):rs(t)?(d=()=>c(t),h=!0):V(t)?(g=!0,h=t.some(E=>rs(E)||Xe(E)),d=()=>t.map(E=>{if(Me(E))return E.value;if(rs(E))return c(E);if(Z(E))return l?l(E,2):E()})):Z(t)?e?d=l?()=>l(t,2):t:d=()=>{if(v){vt();try{v()}finally{yt()}}const E=Lt;Lt=u;try{return l?l(t,3,[S]):t(S)}finally{Lt=E}}:d=at,e&&n){const E=d,U=n===!0?1/0:n;d=()=>_t(E(),U)}const O=Na(),M=()=>{u.stop(),O&&O.active&&wn(O.effects,u)};if(i&&e){const E=e;e=(...U)=>{E(...U),M()}}let T=g?new Array(t.length).fill(Gs):Gs;const b=E=>{if(!(!(u.flags&1)||!u.dirty&&!E))if(e){const U=u.run();if(n||h||(g?U.some((W,te)=>Ot(W,T[te])):Ot(U,T))){v&&v();const W=Lt;Lt=u;try{const te=[U,T===Gs?void 0:g&&T[0]===Gs?[]:T,S];T=U,l?l(e,3,te):e(...te)}finally{Lt=W}}}else u.run()};return a&&a(b),u=new eo(d),u.scheduler=o?()=>o(b,!1):b,S=E=>hl(E,!1,u),v=u.onStop=()=>{const E=cr.get(u);if(E){if(l)l(E,4);else for(const U of E)U();cr.delete(u)}},e?r?b(!0):T=u.run():o?o(b.bind(null,!0),!0):u.run(),M.pause=u.pause.bind(u),M.resume=u.resume.bind(u),M.stop=M,M}function _t(t,e=1/0,s){if(e<=0||!_e(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Me(t))_t(t.value,e,s);else if(V(t))for(let r=0;r<t.length;r++)_t(t[r],e,s);else if(Ji(t)||ss(t))t.forEach(r=>{_t(r,e,s)});else if(zi(t)){for(const r in t)_t(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&_t(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ns(t,e,s,r){try{return r?t(...r):t()}catch(n){Sr(n,e,s)}}function ct(t,e,s,r){if(Z(t)){const n=Ns(t,e,s,r);return n&&Vi(n)&&n.catch(i=>{Sr(i,e,s)}),n}if(V(t)){const n=[];for(let i=0;i<t.length;i++)n.push(ct(t[i],e,s,r));return n}}function Sr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||pe;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(i){vt(),Ns(i,null,10,[t,l,c]),yt();return}}fl(t,s,n,r,o)}function fl(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Ne=[];let it=-1;const ns=[];let St=null,Xt=0;const _o=Promise.resolve();let ur=null;function vo(t){const e=ur||_o;return t?e.then(this?t.bind(this):t):e}function pl(t){let e=it+1,s=Ne.length;for(;e<s;){const r=e+s>>>1,n=Ne[r],i=Rs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function $n(t){if(!(t.flags&1)){const e=Rs(t),s=Ne[Ne.length-1];!s||!(t.flags&2)&&e>=Rs(s)?Ne.push(t):Ne.splice(pl(e),0,t),t.flags|=1,yo()}}function yo(){ur||(ur=_o.then(wo))}function gl(t){V(t)?ns.push(...t):St&&t.id===-1?St.splice(Xt+1,0,t):t.flags&1||(ns.push(t),t.flags|=1),yo()}function Jn(t,e,s=it+1){for(;s<Ne.length;s++){const r=Ne[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ne.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function bo(t){if(ns.length){const e=[...new Set(ns)].sort((s,r)=>Rs(s)-Rs(r));if(ns.length=0,St){St.push(...e);return}for(St=e,Xt=0;Xt<St.length;Xt++){const s=St[Xt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}St=null,Xt=0}}const Rs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function wo(t){try{for(it=0;it<Ne.length;it++){const e=Ne[it];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ns(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;it<Ne.length;it++){const e=Ne[it];e&&(e.flags&=-2)}it=-1,Ne.length=0,bo(),ur=null,(Ne.length||ns.length)&&wo()}}let Qe=null,So=null;function hr(t){const e=Qe;return Qe=t,So=t&&t.type.__scopeId||null,e}function ml(t,e=Qe,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&ei(-1);const i=hr(e);let o;try{o=t(...n)}finally{hr(i),r._d&&ei(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ko(t,e){if(Qe===null)return t;const s=Or(Qe),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=pe]=e[n];i&&(Z(i)&&(i={mounted:i,updated:i}),i.deep&&_t(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Rt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(vt(),ct(l,s,8,[t.el,a,t,e]),yt())}}const _l=Symbol("_vte"),vl=t=>t.__isTeleport;function Rn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Rn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function xo(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function dr(t,e,s,r,n=!1){if(V(t)){t.forEach((h,g)=>dr(h,e&&(V(e)?e[g]:e),s,r,n));return}if(ks(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&dr(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Or(r.component):r.el,o=n?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===pe?a.refs={}:a.refs,d=a.setupState,v=ue(d),S=d===pe?()=>!1:h=>he(v,h);if(c!=null&&c!==l&&(ke(c)?(u[c]=null,S(c)&&(d[c]=null)):Me(c)&&(c.value=null)),Z(l))Ns(l,a,12,[o,u]);else{const h=ke(l),g=Me(l);if(h||g){const O=()=>{if(t.f){const M=h?S(l)?d[l]:u[l]:l.value;n?V(M)&&wn(M,i):V(M)?M.includes(i)||M.push(i):h?(u[l]=[i],S(l)&&(d[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else h?(u[l]=o,S(l)&&(d[l]=o)):g&&(l.value=o,t.k&&(u[t.k]=o))};o?(O.id=-1,ze(O,s)):O()}}}br().requestIdleCallback;br().cancelIdleCallback;const ks=t=>!!t.type.__asyncLoader,To=t=>t.type.__isKeepAlive;function yl(t,e){Eo(t,"a",e)}function bl(t,e){Eo(t,"da",e)}function Eo(t,e,s=Fe){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(kr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)To(n.parent.vnode)&&wl(r,e,s,n),n=n.parent}}function wl(t,e,s,r){const n=kr(e,t,r,!0);Po(()=>{wn(r[e],n)},s)}function kr(t,e,s=Fe,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{vt();const a=Fs(s),l=ct(e,s,t,o);return a(),yt(),l});return r?n.unshift(i):n.push(i),i}}const bt=t=>(e,s=Fe)=>{(!Ls||t==="sp")&&kr(t,(...r)=>e(...r),s)},Sl=bt("bm"),xr=bt("m"),kl=bt("bu"),xl=bt("u"),Oo=bt("bum"),Po=bt("um"),Tl=bt("sp"),El=bt("rtg"),Ol=bt("rtc");function Pl(t,e=Fe){kr("ec",t,e)}const Cl=Symbol.for("v-ndc");function Is(t,e,s,r){let n;const i=s,o=V(t);if(o||ke(t)){const a=o&&rs(t);let l=!1,c=!1;a&&(l=!Xe(t),c=Ct(t),t=wr(t)),n=new Array(t.length);for(let u=0,d=t.length;u<d;u++)n[u]=e(l?c?lr(Ce(t[u])):Ce(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(_e(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(t[u],u,l,i)}}else n=[];return n}const rn=t=>t?Go(t)?Or(t):rn(t.parent):null,xs=Be(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>rn(t.parent),$root:t=>rn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ao(t),$forceUpdate:t=>t.f||(t.f=()=>{$n(t.update)}),$nextTick:t=>t.n||(t.n=vo.bind(t.proxy)),$watch:t=>Ql.bind(t)}),Ir=(t,e)=>t!==pe&&!t.__isScriptSetup&&he(t,e),Al={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const S=o[e];if(S!==void 0)switch(S){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(Ir(r,e))return o[e]=1,r[e];if(n!==pe&&he(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&he(c,e))return o[e]=3,i[e];if(s!==pe&&he(s,e))return o[e]=4,s[e];nn&&(o[e]=0)}}const u=xs[e];let d,v;if(u)return e==="$attrs"&&Re(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==pe&&he(s,e))return o[e]=4,s[e];if(v=l.config.globalProperties,he(v,e))return v[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return Ir(n,e)?(n[e]=s,!0):r!==pe&&he(r,e)?(r[e]=s,!0):he(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==pe&&he(t,o)||Ir(e,o)||(a=i[0])&&he(a,o)||he(r,o)||he(xs,o)||he(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:he(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Vn(t){return V(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let nn=!0;function jl(t){const e=Ao(t),s=t.proxy,r=t.ctx;nn=!1,e.beforeCreate&&Kn(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:v,beforeUpdate:S,updated:h,activated:g,deactivated:O,beforeDestroy:M,beforeUnmount:T,destroyed:b,unmounted:E,render:U,renderTracked:W,renderTriggered:te,errorCaptured:ye,serverPrefetch:ne,expose:we,inheritAttrs:Se,components:Pe,directives:Ve,filters:rt}=e;if(c&&$l(c,r,null),o)for(const de in o){const ie=o[de];Z(ie)&&(r[de]=ie.bind(s))}if(n){const de=n.call(s,s);_e(de)&&(t.data=Cn(de))}if(nn=!0,i)for(const de in i){const ie=i[de],Ke=Z(ie)?ie.bind(s,s):Z(ie.get)?ie.get.bind(s,s):at,w=!Z(ie)&&Z(ie.set)?ie.set.bind(s):at,p=vs({get:Ke,set:w});Object.defineProperty(r,de,{enumerable:!0,configurable:!0,get:()=>p.value,set:L=>p.value=L})}if(a)for(const de in a)Co(a[de],r,s,de);if(l){const de=Z(l)?l.call(s):l;Reflect.ownKeys(de).forEach(ie=>{Ul(ie,de[ie])})}u&&Kn(u,t,"c");function ve(de,ie){V(ie)?ie.forEach(Ke=>de(Ke.bind(s))):ie&&de(ie.bind(s))}if(ve(Sl,d),ve(xr,v),ve(kl,S),ve(xl,h),ve(yl,g),ve(bl,O),ve(Pl,ye),ve(Ol,W),ve(El,te),ve(Oo,T),ve(Po,E),ve(Tl,ne),V(we))if(we.length){const de=t.exposed||(t.exposed={});we.forEach(ie=>{Object.defineProperty(de,ie,{get:()=>s[ie],set:Ke=>s[ie]=Ke})})}else t.exposed||(t.exposed={});U&&t.render===at&&(t.render=U),Se!=null&&(t.inheritAttrs=Se),Pe&&(t.components=Pe),Ve&&(t.directives=Ve),ne&&xo(t)}function $l(t,e,s=at){V(t)&&(t=on(t));for(const r in t){const n=t[r];let i;_e(n)?"default"in n?i=rr(n.from||r,n.default,!0):i=rr(n.from||r):i=rr(n),Me(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Kn(t,e,s){ct(V(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Co(t,e,s,r){let n=r.includes(".")?Ho(s,r):()=>s[r];if(ke(t)){const i=e[t];Z(i)&&Ts(n,i)}else if(Z(t))Ts(n,t.bind(s));else if(_e(t))if(V(t))t.forEach(i=>Co(i,e,s,r));else{const i=Z(t.handler)?t.handler.bind(s):e[t.handler];Z(i)&&Ts(n,i,t)}}function Ao(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(c=>fr(l,c,o,!0)),fr(l,e,o)),_e(e)&&i.set(e,l),l}function fr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&fr(t,i,s,!0),n&&n.forEach(o=>fr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Rl[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Rl={data:zn,props:Gn,emits:Gn,methods:ms,computed:ms,beforeCreate:De,created:De,beforeMount:De,mounted:De,beforeUpdate:De,updated:De,beforeDestroy:De,beforeUnmount:De,destroyed:De,unmounted:De,activated:De,deactivated:De,errorCaptured:De,serverPrefetch:De,components:ms,directives:ms,watch:Ml,provide:zn,inject:Il};function zn(t,e){return e?t?function(){return Be(Z(t)?t.call(this,this):t,Z(e)?e.call(this,this):e)}:e:t}function Il(t,e){return ms(on(t),on(e))}function on(t){if(V(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function De(t,e){return t?[...new Set([].concat(t,e))]:e}function ms(t,e){return t?Be(Object.create(null),t,e):e}function Gn(t,e){return t?V(t)&&V(e)?[...new Set([...t,...e])]:Be(Object.create(null),Vn(t),Vn(e??{})):e}function Ml(t,e){if(!t)return e;if(!e)return t;const s=Be(Object.create(null),t);for(const r in e)s[r]=De(t[r],e[r]);return s}function jo(){return{app:null,config:{isNativeTag:Oa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ll=0;function Dl(t,e){return function(r,n=null){Z(r)||(r=Be({},r)),n!=null&&!_e(n)&&(n=null);const i=jo(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Ll++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:_c,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&Z(u.install)?(o.add(u),u.install(c,...d)):Z(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,v){if(!l){const S=c._ceVNode||lt(r,n);return S.appContext=i,v===!0?v="svg":v===!1&&(v=void 0),t(S,u,v),l=!0,c._container=u,u.__vue_app__=c,Or(S.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ct(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=is;is=c;try{return u()}finally{is=d}}};return c}}let is=null;function Ul(t,e){if(Fe){let s=Fe.provides;const r=Fe.parent&&Fe.parent.provides;r===s&&(s=Fe.provides=Object.create(r)),s[t]=e}}function rr(t,e,s=!1){const r=Fe||Qe;if(r||is){let n=is?is._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&Z(e)?e.call(r&&r.proxy):e}}const $o={},Ro=()=>Object.create($o),Io=t=>Object.getPrototypeOf(t)===$o;function Nl(t,e,s,r=!1){const n={},i=Ro();t.propsDefaults=Object.create(null),Mo(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:nl(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Fl(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=ue(n),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let v=u[d];if(Tr(t.emitsOptions,v))continue;const S=e[v];if(l)if(he(i,v))S!==i[v]&&(i[v]=S,c=!0);else{const h=Pt(v);n[h]=an(l,a,h,S,t,!1)}else S!==i[v]&&(i[v]=S,c=!0)}}}else{Mo(t,e,n,i)&&(c=!0);let u;for(const d in a)(!e||!he(e,d)&&((u=Ft(d))===d||!he(e,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(n[d]=an(l,a,d,void 0,t,!0)):delete n[d]);if(i!==a)for(const d in i)(!e||!he(e,d))&&(delete i[d],c=!0)}c&&mt(t.attrs,"set","")}function Mo(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(bs(l))continue;const c=e[l];let u;n&&he(n,u=Pt(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:Tr(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=ue(s),c=a||pe;for(let u=0;u<i.length;u++){const d=i[u];s[d]=an(n,l,d,c[d],t,!he(c,d))}}return o}function an(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=he(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Z(l)){const{propsDefaults:c}=n;if(s in c)r=c[s];else{const u=Fs(n);r=c[s]=l.call(null,e),u()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ft(s))&&(r=!0))}return r}const Bl=new WeakMap;function Lo(t,e,s=!1){const r=s?Bl:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!Z(t)){const u=d=>{l=!0;const[v,S]=Lo(d,e,!0);Be(o,v),S&&a.push(...S)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return _e(t)&&r.set(t,ts),ts;if(V(i))for(let u=0;u<i.length;u++){const d=Pt(i[u]);Yn(d)&&(o[d]=pe)}else if(i)for(const u in i){const d=Pt(u);if(Yn(d)){const v=i[u],S=o[d]=V(v)||Z(v)?{type:v}:Be({},v),h=S.type;let g=!1,O=!0;if(V(h))for(let M=0;M<h.length;++M){const T=h[M],b=Z(T)&&T.name;if(b==="Boolean"){g=!0;break}else b==="String"&&(O=!1)}else g=Z(h)&&h.name==="Boolean";S[0]=g,S[1]=O,(g||he(S,"default"))&&a.push(d)}}const c=[o,a];return _e(t)&&r.set(t,c),c}function Yn(t){return t[0]!=="$"&&!bs(t)}const In=t=>t[0]==="_"||t==="$stable",Mn=t=>V(t)?t.map(ot):[ot(t)],ql=(t,e,s)=>{if(e._n)return e;const r=ml((...n)=>Mn(e(...n)),s);return r._c=!1,r},Do=(t,e,s)=>{const r=t._ctx;for(const n in t){if(In(n))continue;const i=t[n];if(Z(i))e[n]=ql(n,i,r);else if(i!=null){const o=Mn(i);e[n]=()=>o}}},Uo=(t,e)=>{const s=Mn(e);t.slots.default=()=>s},No=(t,e,s)=>{for(const r in e)(s||!In(r))&&(t[r]=e[r])},Hl=(t,e,s)=>{const r=t.slots=Ro();if(t.vnode.shapeFlag&32){const n=e._;n?(No(r,e,s),s&&Yi(r,"_",n,!0)):Do(e,r)}else e&&Uo(t,e)},Wl=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=pe;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:No(n,e,s):(i=!e.$stable,Do(e,n)),o=e}else e&&(Uo(t,e),o={default:1});if(i)for(const a in n)!In(a)&&o[a]==null&&delete n[a]},ze=nc;function Jl(t){return Vl(t)}function Vl(t,e){const s=br();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:v,setScopeId:S=at,insertStaticContent:h}=t,g=(f,m,y,C=null,P=null,A=null,I=void 0,R=null,$=!!m.dynamicChildren)=>{if(f===m)return;f&&!fs(f,m)&&(C=B(f),L(f,P,A,!0),f=null),m.patchFlag===-2&&($=!1,m.dynamicChildren=null);const{type:j,ref:F,shapeFlag:D}=m;switch(j){case Er:O(f,m,y,C);break;case At:M(f,m,y,C);break;case Lr:f==null&&T(m,y,C,I);break;case Ie:Pe(f,m,y,C,P,A,I,R,$);break;default:D&1?U(f,m,y,C,P,A,I,R,$):D&6?Ve(f,m,y,C,P,A,I,R,$):(D&64||D&128)&&j.process(f,m,y,C,P,A,I,R,$,le)}F!=null&&P&&dr(F,f&&f.ref,A,m||f,!m)},O=(f,m,y,C)=>{if(f==null)r(m.el=a(m.children),y,C);else{const P=m.el=f.el;m.children!==f.children&&c(P,m.children)}},M=(f,m,y,C)=>{f==null?r(m.el=l(m.children||""),y,C):m.el=f.el},T=(f,m,y,C)=>{[f.el,f.anchor]=h(f.children,m,y,C,f.el,f.anchor)},b=({el:f,anchor:m},y,C)=>{let P;for(;f&&f!==m;)P=v(f),r(f,y,C),f=P;r(m,y,C)},E=({el:f,anchor:m})=>{let y;for(;f&&f!==m;)y=v(f),n(f),f=y;n(m)},U=(f,m,y,C,P,A,I,R,$)=>{m.type==="svg"?I="svg":m.type==="math"&&(I="mathml"),f==null?W(m,y,C,P,A,I,R,$):ne(f,m,P,A,I,R,$)},W=(f,m,y,C,P,A,I,R)=>{let $,j;const{props:F,shapeFlag:D,transition:N,dirs:H}=f;if($=f.el=o(f.type,A,F&&F.is,F),D&8?u($,f.children):D&16&&ye(f.children,$,null,C,P,Mr(f,A),I,R),H&&Rt(f,null,C,"created"),te($,f,f.scopeId,I,C),F){for(const ce in F)ce!=="value"&&!bs(ce)&&i($,ce,null,F[ce],A,C);"value"in F&&i($,"value",null,F.value,A),(j=F.onVnodeBeforeMount)&&nt(j,C,f)}H&&Rt(f,null,C,"beforeMount");const ee=Kl(P,N);ee&&N.beforeEnter($),r($,m,y),((j=F&&F.onVnodeMounted)||ee||H)&&ze(()=>{j&&nt(j,C,f),ee&&N.enter($),H&&Rt(f,null,C,"mounted")},P)},te=(f,m,y,C,P)=>{if(y&&S(f,y),C)for(let A=0;A<C.length;A++)S(f,C[A]);if(P){let A=P.subTree;if(m===A||Jo(A.type)&&(A.ssContent===m||A.ssFallback===m)){const I=P.vnode;te(f,I,I.scopeId,I.slotScopeIds,P.parent)}}},ye=(f,m,y,C,P,A,I,R,$=0)=>{for(let j=$;j<f.length;j++){const F=f[j]=R?xt(f[j]):ot(f[j]);g(null,F,m,y,C,P,A,I,R)}},ne=(f,m,y,C,P,A,I)=>{const R=m.el=f.el;let{patchFlag:$,dynamicChildren:j,dirs:F}=m;$|=f.patchFlag&16;const D=f.props||pe,N=m.props||pe;let H;if(y&&It(y,!1),(H=N.onVnodeBeforeUpdate)&&nt(H,y,m,f),F&&Rt(m,f,y,"beforeUpdate"),y&&It(y,!0),(D.innerHTML&&N.innerHTML==null||D.textContent&&N.textContent==null)&&u(R,""),j?we(f.dynamicChildren,j,R,y,C,Mr(m,P),A):I||ie(f,m,R,null,y,C,Mr(m,P),A,!1),$>0){if($&16)Se(R,D,N,y,P);else if($&2&&D.class!==N.class&&i(R,"class",null,N.class,P),$&4&&i(R,"style",D.style,N.style,P),$&8){const ee=m.dynamicProps;for(let ce=0;ce<ee.length;ce++){const re=ee[ce],Te=D[re],xe=N[re];(xe!==Te||re==="value")&&i(R,re,Te,xe,P,y)}}$&1&&f.children!==m.children&&u(R,m.children)}else!I&&j==null&&Se(R,D,N,y,P);((H=N.onVnodeUpdated)||F)&&ze(()=>{H&&nt(H,y,m,f),F&&Rt(m,f,y,"updated")},C)},we=(f,m,y,C,P,A,I)=>{for(let R=0;R<m.length;R++){const $=f[R],j=m[R],F=$.el&&($.type===Ie||!fs($,j)||$.shapeFlag&198)?d($.el):y;g($,j,F,null,C,P,A,I,!0)}},Se=(f,m,y,C,P)=>{if(m!==y){if(m!==pe)for(const A in m)!bs(A)&&!(A in y)&&i(f,A,m[A],null,P,C);for(const A in y){if(bs(A))continue;const I=y[A],R=m[A];I!==R&&A!=="value"&&i(f,A,R,I,P,C)}"value"in y&&i(f,"value",m.value,y.value,P)}},Pe=(f,m,y,C,P,A,I,R,$)=>{const j=m.el=f?f.el:a(""),F=m.anchor=f?f.anchor:a("");let{patchFlag:D,dynamicChildren:N,slotScopeIds:H}=m;H&&(R=R?R.concat(H):H),f==null?(r(j,y,C),r(F,y,C),ye(m.children||[],y,F,P,A,I,R,$)):D>0&&D&64&&N&&f.dynamicChildren?(we(f.dynamicChildren,N,y,P,A,I,R),(m.key!=null||P&&m===P.subTree)&&Fo(f,m,!0)):ie(f,m,y,F,P,A,I,R,$)},Ve=(f,m,y,C,P,A,I,R,$)=>{m.slotScopeIds=R,f==null?m.shapeFlag&512?P.ctx.activate(m,y,C,I,$):rt(m,y,C,P,A,I,$):Ze(f,m,$)},rt=(f,m,y,C,P,A,I)=>{const R=f.component=hc(f,C,P);if(To(f)&&(R.ctx.renderer=le),dc(R,!1,I),R.asyncDep){if(P&&P.registerDep(R,ve,I),!f.el){const $=R.subTree=lt(At);M(null,$,m,y)}}else ve(R,f,m,y,P,A,I)},Ze=(f,m,y)=>{const C=m.component=f.component;if(sc(f,m,y))if(C.asyncDep&&!C.asyncResolved){de(C,m,y);return}else C.next=m,C.update();else m.el=f.el,C.vnode=m},ve=(f,m,y,C,P,A,I)=>{const R=()=>{if(f.isMounted){let{next:D,bu:N,u:H,parent:ee,vnode:ce}=f;{const qe=Bo(f);if(qe){D&&(D.el=ce.el,de(f,D,I)),qe.asyncDep.then(()=>{f.isUnmounted||R()});return}}let re=D,Te;It(f,!1),D?(D.el=ce.el,de(f,D,I)):D=ce,N&&sr(N),(Te=D.props&&D.props.onVnodeBeforeUpdate)&&nt(Te,ee,D,ce),It(f,!0);const xe=Xn(f),Ae=f.subTree;f.subTree=xe,g(Ae,xe,d(Ae.el),B(Ae),f,P,A),D.el=xe.el,re===null&&rc(f,xe.el),H&&ze(H,P),(Te=D.props&&D.props.onVnodeUpdated)&&ze(()=>nt(Te,ee,D,ce),P)}else{let D;const{el:N,props:H}=m,{bm:ee,m:ce,parent:re,root:Te,type:xe}=f,Ae=ks(m);It(f,!1),ee&&sr(ee),!Ae&&(D=H&&H.onVnodeBeforeMount)&&nt(D,re,m),It(f,!0);{Te.ce&&Te.ce._injectChildStyle(xe);const qe=f.subTree=Xn(f);g(null,qe,y,C,f,P,A),m.el=qe.el}if(ce&&ze(ce,P),!Ae&&(D=H&&H.onVnodeMounted)){const qe=m;ze(()=>nt(D,re,qe),P)}(m.shapeFlag&256||re&&ks(re.vnode)&&re.vnode.shapeFlag&256)&&f.a&&ze(f.a,P),f.isMounted=!0,m=y=C=null}};f.scope.on();const $=f.effect=new eo(R);f.scope.off();const j=f.update=$.run.bind($),F=f.job=$.runIfDirty.bind($);F.i=f,F.id=f.uid,$.scheduler=()=>$n(F),It(f,!0),j()},de=(f,m,y)=>{m.component=f;const C=f.vnode.props;f.vnode=m,f.next=null,Fl(f,m.props,C,y),Wl(f,m.children,y),vt(),Jn(f),yt()},ie=(f,m,y,C,P,A,I,R,$=!1)=>{const j=f&&f.children,F=f?f.shapeFlag:0,D=m.children,{patchFlag:N,shapeFlag:H}=m;if(N>0){if(N&128){w(j,D,y,C,P,A,I,R,$);return}else if(N&256){Ke(j,D,y,C,P,A,I,R,$);return}}H&8?(F&16&&K(j,P,A),D!==j&&u(y,D)):F&16?H&16?w(j,D,y,C,P,A,I,R,$):K(j,P,A,!0):(F&8&&u(y,""),H&16&&ye(D,y,C,P,A,I,R,$))},Ke=(f,m,y,C,P,A,I,R,$)=>{f=f||ts,m=m||ts;const j=f.length,F=m.length,D=Math.min(j,F);let N;for(N=0;N<D;N++){const H=m[N]=$?xt(m[N]):ot(m[N]);g(f[N],H,y,null,P,A,I,R,$)}j>F?K(f,P,A,!0,!1,D):ye(m,y,C,P,A,I,R,$,D)},w=(f,m,y,C,P,A,I,R,$)=>{let j=0;const F=m.length;let D=f.length-1,N=F-1;for(;j<=D&&j<=N;){const H=f[j],ee=m[j]=$?xt(m[j]):ot(m[j]);if(fs(H,ee))g(H,ee,y,null,P,A,I,R,$);else break;j++}for(;j<=D&&j<=N;){const H=f[D],ee=m[N]=$?xt(m[N]):ot(m[N]);if(fs(H,ee))g(H,ee,y,null,P,A,I,R,$);else break;D--,N--}if(j>D){if(j<=N){const H=N+1,ee=H<F?m[H].el:C;for(;j<=N;)g(null,m[j]=$?xt(m[j]):ot(m[j]),y,ee,P,A,I,R,$),j++}}else if(j>N)for(;j<=D;)L(f[j],P,A,!0),j++;else{const H=j,ee=j,ce=new Map;for(j=ee;j<=N;j++){const Le=m[j]=$?xt(m[j]):ot(m[j]);Le.key!=null&&ce.set(Le.key,j)}let re,Te=0;const xe=N-ee+1;let Ae=!1,qe=0;const ut=new Array(xe);for(j=0;j<xe;j++)ut[j]=0;for(j=H;j<=D;j++){const Le=f[j];if(Te>=xe){L(Le,P,A,!0);continue}let Ye;if(Le.key!=null)Ye=ce.get(Le.key);else for(re=ee;re<=N;re++)if(ut[re-ee]===0&&fs(Le,m[re])){Ye=re;break}Ye===void 0?L(Le,P,A,!0):(ut[Ye-ee]=j+1,Ye>=qe?qe=Ye:Ae=!0,g(Le,m[Ye],y,null,P,A,I,R,$),Te++)}const Js=Ae?zl(ut):ts;for(re=Js.length-1,j=xe-1;j>=0;j--){const Le=ee+j,Ye=m[Le],Vs=Le+1<F?m[Le+1].el:C;ut[j]===0?g(null,Ye,y,Vs,P,A,I,R,$):Ae&&(re<0||j!==Js[re]?p(Ye,y,Vs,2):re--)}}},p=(f,m,y,C,P=null)=>{const{el:A,type:I,transition:R,children:$,shapeFlag:j}=f;if(j&6){p(f.component.subTree,m,y,C);return}if(j&128){f.suspense.move(m,y,C);return}if(j&64){I.move(f,m,y,le);return}if(I===Ie){r(A,m,y);for(let D=0;D<$.length;D++)p($[D],m,y,C);r(f.anchor,m,y);return}if(I===Lr){b(f,m,y);return}if(C!==2&&j&1&&R)if(C===0)R.beforeEnter(A),r(A,m,y),ze(()=>R.enter(A),P);else{const{leave:D,delayLeave:N,afterLeave:H}=R,ee=()=>{f.ctx.isUnmounted?n(A):r(A,m,y)},ce=()=>{D(A,()=>{ee(),H&&H()})};N?N(A,ee,ce):ce()}else r(A,m,y)},L=(f,m,y,C=!1,P=!1)=>{const{type:A,props:I,ref:R,children:$,dynamicChildren:j,shapeFlag:F,patchFlag:D,dirs:N,cacheIndex:H}=f;if(D===-2&&(P=!1),R!=null&&(vt(),dr(R,null,y,f,!0),yt()),H!=null&&(m.renderCache[H]=void 0),F&256){m.ctx.deactivate(f);return}const ee=F&1&&N,ce=!ks(f);let re;if(ce&&(re=I&&I.onVnodeBeforeUnmount)&&nt(re,m,f),F&6)G(f.component,y,C);else{if(F&128){f.suspense.unmount(y,C);return}ee&&Rt(f,null,m,"beforeUnmount"),F&64?f.type.remove(f,m,y,le,C):j&&!j.hasOnce&&(A!==Ie||D>0&&D&64)?K(j,m,y,!1,!0):(A===Ie&&D&384||!P&&F&16)&&K($,m,y),C&&q(f)}(ce&&(re=I&&I.onVnodeUnmounted)||ee)&&ze(()=>{re&&nt(re,m,f),ee&&Rt(f,null,m,"unmounted")},y)},q=f=>{const{type:m,el:y,anchor:C,transition:P}=f;if(m===Ie){z(y,C);return}if(m===Lr){E(f);return}const A=()=>{n(y),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(f.shapeFlag&1&&P&&!P.persisted){const{leave:I,delayLeave:R}=P,$=()=>I(y,A);R?R(f.el,A,$):$()}else A()},z=(f,m)=>{let y;for(;f!==m;)y=v(f),n(f),f=y;n(m)},G=(f,m,y)=>{const{bum:C,scope:P,job:A,subTree:I,um:R,m:$,a:j,parent:F,slots:{__:D}}=f;Qn($),Qn(j),C&&sr(C),F&&V(D)&&D.forEach(N=>{F.renderCache[N]=void 0}),P.stop(),A&&(A.flags|=8,L(I,f,m,y)),R&&ze(R,m),ze(()=>{f.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},K=(f,m,y,C=!1,P=!1,A=0)=>{for(let I=A;I<f.length;I++)L(f[I],m,y,C,P)},B=f=>{if(f.shapeFlag&6)return B(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const m=v(f.anchor||f.el),y=m&&m[_l];return y?v(y):m};let Y=!1;const ae=(f,m,y)=>{f==null?m._vnode&&L(m._vnode,null,null,!0):g(m._vnode||null,f,m,null,null,null,y),m._vnode=f,Y||(Y=!0,Jn(),bo(),Y=!1)},le={p:g,um:L,m:p,r:q,mt:rt,mc:ye,pc:ie,pbc:we,n:B,o:t};return{render:ae,hydrate:void 0,createApp:Dl(ae)}}function Mr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function It({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Kl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Fo(t,e,s=!1){const r=t.children,n=e.children;if(V(r)&&V(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=xt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Fo(o,a)),a.type===Er&&(a.el=o.el),a.type===At&&!a.el&&(a.el=o.el)}}function zl(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(n=s[s.length-1],t[n]<c){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<c?i=a+1:o=a;c<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Bo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Bo(e)}function Qn(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Gl=Symbol.for("v-scx"),Yl=()=>rr(Gl);function Ts(t,e,s){return qo(t,e,s)}function qo(t,e,s=pe){const{immediate:r,deep:n,flush:i,once:o}=s,a=Be({},s),l=e&&r||!e&&i!=="post";let c;if(Ls){if(i==="sync"){const S=Yl();c=S.__watcherHandles||(S.__watcherHandles=[])}else if(!l){const S=()=>{};return S.stop=at,S.resume=at,S.pause=at,S}}const u=Fe;a.call=(S,h,g)=>ct(S,u,h,g);let d=!1;i==="post"?a.scheduler=S=>{ze(S,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(S,h)=>{h?S():$n(S)}),a.augmentJob=S=>{e&&(S.flags|=4),d&&(S.flags|=2,u&&(S.id=u.uid,S.i=u))};const v=dl(t,e,a);return Ls&&(c?c.push(v):l&&v()),v}function Ql(t,e,s){const r=this.proxy,n=ke(t)?t.includes(".")?Ho(r,t):()=>r[t]:t.bind(r,r);let i;Z(e)?i=e:(i=e.handler,s=e);const o=Fs(this),a=qo(n,i.bind(r),s);return o(),a}function Ho(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Xl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Pt(e)}Modifiers`]||t[`${Ft(e)}Modifiers`];function Zl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||pe;let n=s;const i=e.startsWith("update:"),o=i&&Xl(r,e.slice(7));o&&(o.trim&&(n=s.map(u=>ke(u)?u.trim():u)),o.number&&(n=s.map(Xr)));let a,l=r[a=Cr(e)]||r[a=Cr(Pt(e))];!l&&i&&(l=r[a=Cr(Ft(e))]),l&&ct(l,t,6,n);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ct(c,t,6,n)}}function Wo(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!Z(t)){const l=c=>{const u=Wo(c,e,!0);u&&(a=!0,Be(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(_e(t)&&r.set(t,null),null):(V(i)?i.forEach(l=>o[l]=null):Be(o,i),_e(t)&&r.set(t,o),o)}function Tr(t,e){return!t||!_r(e)?!1:(e=e.slice(2).replace(/Once$/,""),he(t,e[0].toLowerCase()+e.slice(1))||he(t,Ft(e))||he(t,e))}function Xn(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:v,setupState:S,ctx:h,inheritAttrs:g}=t,O=hr(t);let M,T;try{if(s.shapeFlag&4){const E=n||r,U=E;M=ot(c.call(U,E,u,d,S,v,h)),T=a}else{const E=e;M=ot(E.length>1?E(d,{attrs:a,slots:o,emit:l}):E(d,null)),T=e.props?a:ec(a)}}catch(E){Es.length=0,Sr(E,t,1),M=lt(At)}let b=M;if(T&&g!==!1){const E=Object.keys(T),{shapeFlag:U}=b;E.length&&U&7&&(i&&E.some(bn)&&(T=tc(T,i)),b=as(b,T,!1,!0))}return s.dirs&&(b=as(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(s.dirs):s.dirs),s.transition&&Rn(b,s.transition),M=b,hr(O),M}const ec=t=>{let e;for(const s in t)(s==="class"||s==="style"||_r(s))&&((e||(e={}))[s]=t[s]);return e},tc=(t,e)=>{const s={};for(const r in t)(!bn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function sc(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Zn(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const v=u[d];if(o[v]!==r[v]&&!Tr(c,v))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Zn(r,o,c):!0:!!o;return!1}function Zn(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Tr(s,i))return!0}return!1}function rc({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Jo=t=>t.__isSuspense;function nc(t,e){e&&e.pendingBranch?V(t)?e.effects.push(...t):e.effects.push(t):gl(t)}const Ie=Symbol.for("v-fgt"),Er=Symbol.for("v-txt"),At=Symbol.for("v-cmt"),Lr=Symbol.for("v-stc"),Es=[];let Ge=null;function J(t=!1){Es.push(Ge=t?null:[])}function ic(){Es.pop(),Ge=Es[Es.length-1]||null}let Ms=1;function ei(t,e=!1){Ms+=t,t<0&&Ge&&e&&(Ge.hasOnce=!0)}function Vo(t){return t.dynamicChildren=Ms>0?Ge||ts:null,ic(),Ms>0&&Ge&&Ge.push(t),t}function X(t,e,s,r,n,i){return Vo(_(t,e,s,r,n,i,!0))}function _s(t,e,s,r,n){return Vo(lt(t,e,s,r,n,!0))}function Ko(t){return t?t.__v_isVNode===!0:!1}function fs(t,e){return t.type===e.type&&t.key===e.key}const zo=({key:t})=>t??null,nr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ke(t)||Me(t)||Z(t)?{i:Qe,r:t,k:e,f:!!s}:t:null);function _(t,e=null,s=null,r=0,n=null,i=t===Ie?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&zo(e),ref:e&&nr(e),scopeId:So,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Qe};return a?(Ln(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=ke(s)?8:16),Ms>0&&!o&&Ge&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ge.push(l),l}const lt=oc;function oc(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Cl)&&(t=At),Ko(t)){const a=as(t,e,!0);return s&&Ln(a,s),Ms>0&&!i&&Ge&&(a.shapeFlag&6?Ge[Ge.indexOf(t)]=a:Ge.push(a)),a.patchFlag=-2,a}if(mc(t)&&(t=t.__vccOpts),e){e=ac(e);let{class:a,style:l}=e;a&&!ke(a)&&(e.class=gt(a)),_e(l)&&(jn(l)&&!V(l)&&(l=Be({},l)),e.style=kn(l))}const o=ke(t)?1:Jo(t)?128:vl(t)?64:_e(t)?4:Z(t)?2:0;return _(t,e,s,r,n,o,i,!0)}function ac(t){return t?jn(t)||Io(t)?Be({},t):t:null}function as(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?lc(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&zo(c),ref:e&&e.ref?s&&i?V(i)?i.concat(nr(e)):[i,nr(e)]:nr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ie?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&as(t.ssContent),ssFallback:t.ssFallback&&as(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Rn(u,l.clone(u)),u}function kt(t=" ",e=0){return lt(Er,null,t,e)}function be(t="",e=!1){return e?(J(),_s(At,null,t)):lt(At,null,t)}function ot(t){return t==null||typeof t=="boolean"?lt(At):V(t)?lt(Ie,null,t.slice()):Ko(t)?xt(t):lt(Er,null,String(t))}function xt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:as(t)}function Ln(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(V(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Ln(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Io(e)?e._ctx=Qe:n===3&&Qe&&(Qe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Z(e)?(e={default:e,_ctx:Qe},s=32):(e=String(e),r&64?(s=16,e=[kt(e)]):s=8);t.children=e,t.shapeFlag|=s}function lc(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=gt([e.class,r.class]));else if(n==="style")e.style=kn([e.style,r.style]);else if(_r(n)){const i=e[n],o=r[n];o&&i!==o&&!(V(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function nt(t,e,s,r=null){ct(t,e,7,[s,r])}const cc=jo();let uc=0;function hc(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||cc,i={uid:uc++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ua(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lo(r,n),emitsOptions:Wo(r,n),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:r.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Zl.bind(null,i),t.ce&&t.ce(i),i}let Fe=null,pr,ln;{const t=br(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};pr=e("__VUE_INSTANCE_SETTERS__",s=>Fe=s),ln=e("__VUE_SSR_SETTERS__",s=>Ls=s)}const Fs=t=>{const e=Fe;return pr(t),t.scope.on(),()=>{t.scope.off(),pr(e)}},ti=()=>{Fe&&Fe.scope.off(),pr(null)};function Go(t){return t.vnode.shapeFlag&4}let Ls=!1;function dc(t,e=!1,s=!1){e&&ln(e);const{props:r,children:n}=t.vnode,i=Go(t);Nl(t,r,i,e),Hl(t,n,s||e);const o=i?fc(t,e):void 0;return e&&ln(!1),o}function fc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Al);const{setup:r}=s;if(r){vt();const n=t.setupContext=r.length>1?gc(t):null,i=Fs(t),o=Ns(r,t,0,[t.props,n]),a=Vi(o);if(yt(),i(),(a||t.sp)&&!ks(t)&&xo(t),a){if(o.then(ti,ti),e)return o.then(l=>{si(t,l)}).catch(l=>{Sr(l,t,0)});t.asyncDep=o}else si(t,o)}else Yo(t)}function si(t,e,s){Z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:_e(e)&&(t.setupState=mo(e)),Yo(t)}function Yo(t,e,s){const r=t.type;t.render||(t.render=r.render||at);{const n=Fs(t);vt();try{jl(t)}finally{yt(),n()}}}const pc={get(t,e){return Re(t,"get",""),t[e]}};function gc(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,pc),slots:t.slots,emit:t.emit,expose:e}}function Or(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(mo(il(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in xs)return xs[s](t)},has(e,s){return s in e||s in xs}})):t.proxy}function mc(t){return Z(t)&&"__vccOpts"in t}const vs=(t,e)=>ul(t,e,Ls),_c="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cn;const ri=typeof window<"u"&&window.trustedTypes;if(ri)try{cn=ri.createPolicy("vue",{createHTML:t=>t})}catch{}const Qo=cn?t=>cn.createHTML(t):t=>t,vc="http://www.w3.org/2000/svg",yc="http://www.w3.org/1998/Math/MathML",ft=typeof document<"u"?document:null,ni=ft&&ft.createElement("template"),bc={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?ft.createElementNS(vc,t):e==="mathml"?ft.createElementNS(yc,t):s?ft.createElement(t,{is:s}):ft.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>ft.createTextNode(t),createComment:t=>ft.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ft.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{ni.innerHTML=Qo(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=ni.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},wc=Symbol("_vtc");function Sc(t,e,s){const r=t[wc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const ii=Symbol("_vod"),kc=Symbol("_vsh"),xc=Symbol(""),Tc=/(^|;)\s*display\s*:/;function Ec(t,e,s){const r=t.style,n=ke(s);let i=!1;if(s&&!n){if(e)if(ke(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&ir(r,a,"")}else for(const o in e)s[o]==null&&ir(r,o,"");for(const o in s)o==="display"&&(i=!0),ir(r,o,s[o])}else if(n){if(e!==s){const o=r[xc];o&&(s+=";"+o),r.cssText=s,i=Tc.test(s)}}else e&&t.removeAttribute("style");ii in t&&(t[ii]=i?r.display:"",t[kc]&&(r.display="none"))}const oi=/\s*!important$/;function ir(t,e,s){if(V(s))s.forEach(r=>ir(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Oc(t,e);oi.test(s)?t.setProperty(Ft(r),s.replace(oi,""),"important"):t[r]=s}}const ai=["Webkit","Moz","ms"],Dr={};function Oc(t,e){const s=Dr[e];if(s)return s;let r=Pt(e);if(r!=="filter"&&r in t)return Dr[e]=r;r=Gi(r);for(let n=0;n<ai.length;n++){const i=ai[n]+r;if(i in t)return Dr[e]=i}return e}const li="http://www.w3.org/1999/xlink";function ci(t,e,s,r,n,i=Da(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(li,e.slice(6,e.length)):t.setAttributeNS(li,e,s):s==null||i&&!Qi(s)?t.removeAttribute(e):t.setAttribute(e,i?"":jt(s)?String(s):s)}function ui(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Qo(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Qi(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Zt(t,e,s,r){t.addEventListener(e,s,r)}function Pc(t,e,s,r){t.removeEventListener(e,s,r)}const hi=Symbol("_vei");function Cc(t,e,s,r,n=null){const i=t[hi]||(t[hi]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Ac(e);if(r){const c=i[e]=Rc(r,n);Zt(t,a,c,l)}else o&&(Pc(t,a,o,l),i[e]=void 0)}}const di=/(?:Once|Passive|Capture)$/;function Ac(t){let e;if(di.test(t)){e={};let r;for(;r=t.match(di);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ft(t.slice(2)),e]}let Ur=0;const jc=Promise.resolve(),$c=()=>Ur||(jc.then(()=>Ur=0),Ur=Date.now());function Rc(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;ct(Ic(r,s.value),e,5,[r])};return s.value=t,s.attached=$c(),s}function Ic(t,e){if(V(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const fi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Mc=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Sc(t,r,o):e==="style"?Ec(t,s,r):_r(e)?bn(e)||Cc(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Lc(t,e,r,o))?(ui(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ci(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ke(r))?ui(t,Pt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ci(t,e,r,o))};function Lc(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&fi(e)&&Z(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return fi(e)&&ke(s)?!1:e in t}const pi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return V(e)?s=>sr(e,s):e};function Dc(t){t.target.composing=!0}function gi(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Nr=Symbol("_assign"),Xo={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Nr]=pi(n);const i=r||n.props&&n.props.type==="number";Zt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Xr(a)),t[Nr](a)}),s&&Zt(t,"change",()=>{t.value=t.value.trim()}),e||(Zt(t,"compositionstart",Dc),Zt(t,"compositionend",gi),Zt(t,"change",gi))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Nr]=pi(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Xr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Uc=["ctrl","shift","alt","meta"],Nc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Uc.some(s=>t[`${s}Key`]&&!e.includes(s))},Ds=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Nc[e[o]];if(a&&a(n,e))return}return t(n,...i)})},Fc=Be({patchProp:Mc},bc);let mi;function Bc(){return mi||(mi=Jl(Fc))}const qc=(...t)=>{const e=Bc().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Wc(r);if(!n)return;const i=e._component;!Z(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Hc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Hc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Wc(t){return ke(t)?document.querySelector(t):t}const Bs=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Jc={key:0,class:"action-buttons"},Vc=["disabled"],Kc={class:"players-grid"},zc={class:"avatar-placeholder"},Gc=["src"],Yc={class:"player-name"},Qc={class:"player-actions"},Xc=["onClick"],Zc=["onClick"],eu=["onClick"],tu={class:"action-buttons"},su={__name:"PlayerSelector",props:{predefinedPlayers:Array,role:String},emits:["start-game"],setup(t,{emit:e}){const s=t,r=e,n=Je([]),i=Je(""),o=["/shanghai/img/invite_1.jpg","/shanghai/img/invite_2.png","/shanghai/img/invite_3.png","/shanghai/img/invite_4.png","/shanghai/img/invite_5.png","/shanghai/img/invite_6.png","/shanghai/img/invite_7.png","/shanghai/img/invite_8.png","/shanghai/img/invite_9.png","/shanghai/img/invite_10.png","/shanghai/img/invite_11.png"];let a=[...o];function l(){a.length===0&&(a=[...o]);const T=Math.floor(Math.random()*a.length);return a.splice(T,1)[0]}function c(){const T=i.value.trim();if(T===""||n.value.some(E=>E.name===T))return;const b=s.predefinedPlayers.find(E=>E.name===T);n.value.push({name:T,avatar:(b==null?void 0:b.avatar)||l()}),i.value=""}function u(){c()}function d(){n.value=s.predefinedPlayers.map(T=>({id:T.id,name:T.name,avatar:T.avatar||l()}))}function v(T){n.value=n.value.filter(b=>b.name!==T)}function S(T){const b=n.value.findIndex(E=>E.name===T);b<=0||([n.value[b-1],n.value[b]]=[n.value[b],n.value[b-1]])}function h(T){const b=n.value.findIndex(E=>E.name===T);b===-1||b>=n.value.length-1||([n.value[b+1],n.value[b]]=[n.value[b],n.value[b+1]])}function g(){for(let T=n.value.length-1;T>0;T--){const b=Math.floor(Math.random()*(T+1));[n.value[T],n.value[b]]=[n.value[b],n.value[T]]}}function O(){const T=document.documentElement;T.requestFullscreen?T.requestFullscreen():T.mozRequestFullScreen?T.mozRequestFullScreen():T.webkitRequestFullscreen?T.webkitRequestFullscreen():T.msRequestFullscreen&&T.msRequestFullscreen()}function M(){O(),r("start-game",n.value)}return xr(()=>{s.role==="admin"&&d()}),(T,b)=>(J(),X(Ie,null,[b[3]||(b[3]=_("h1",null,"Shanghai 🎯",-1)),t.role==="admin"?(J(),X("div",Jc,[_("a",{href:"#",onClick:b[0]||(b[0]=Ds(E=>T.$emit("view-scores"),["prevent"])),class:"link-button"},"Voir le classement")])):be("",!0),_("form",{onSubmit:Ds(c,["prevent"])},[ko(_("input",{type:"text","onUpdate:modelValue":b[1]||(b[1]=E=>i.value=E),placeholder:"Ajouter un joueur",onChange:u},null,544),[[Xo,i.value]]),_("button",{disabled:i.value.length===0},"Ajouter",8,Vc)],32),_("ul",Kc,[(J(!0),X(Ie,null,Is(n.value,E=>(J(),X("li",{key:E.name,class:"player-card"},[_("div",zc,[_("img",{src:E.avatar,alt:"avatar",class:"avatar-img"},null,8,Gc)]),_("div",Yc,x(E.name),1),_("div",Qc,[_("button",{onClick:U=>S(E.name)},"←",8,Xc),_("button",{onClick:U=>v(E.name)},"❌",8,Zc),_("button",{onClick:U=>h(E.name)},"→",8,eu)])]))),128))]),_("div",tu,[n.value.length>=2?(J(),X("button",{key:0,onClick:b[2]||(b[2]=E=>g())},"Ordre aléatoire")):be("",!0),n.value.length>=1?(J(),X("button",{key:1,onClick:M,class:"jouer-button"},"JOUER")):be("",!0)]),b[4]||(b[4]=_("br",null,null,-1))],64))}},ru=Bs(su,[["__scopeId","data-v-91569e23"]]),nu="modulepreload",iu=function(t){return"/shanghai/"+t},_i={},qs=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=o(s.map(c=>{if(c=iu(c),c in _i)return;_i[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const v=document.createElement("link");if(v.rel=u?"stylesheet":nu,u||(v.as="script"),v.crossOrigin="",v.href=c,l&&v.setAttribute("nonce",l),document.head.appendChild(v),u)return new Promise((S,h)=>{v.addEventListener("load",S),v.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},ou=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>qs(async()=>{const{default:r}=await Promise.resolve().then(()=>cs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Dn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class au extends Dn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class lu extends Dn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class cu extends Dn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var un;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(un||(un={}));var uu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class hu{constructor(e,{headers:s={},customFetch:r,region:n=un.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=ou(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return uu(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(h=>{throw new au(h)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new lu(u);if(!u.ok)throw new cu(u);let v=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),S;return v==="application/json"?S=yield u.json():v==="application/octet-stream"?S=yield u.blob():v==="text/event-stream"?S=u:v==="multipart/form-data"?S=yield u.formData():S=yield u.text(),{data:S,error:null}}catch(n){return{data:null,error:n}}})}}function du(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fu(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Ee={},Ht={},Wt={},Jt={},Vt={},Kt={},pu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ls=pu();const gu=ls.fetch,Zo=ls.fetch.bind(ls),ea=ls.Headers,mu=ls.Request,_u=ls.Response,cs=Object.freeze(Object.defineProperty({__proto__:null,Headers:ea,Request:mu,Response:_u,default:Zo,fetch:gu},Symbol.toStringTag,{value:"Module"})),vu=fu(cs);var Ys={},vi;function ta(){if(vi)return Ys;vi=1,Object.defineProperty(Ys,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ys.default=t,Ys}var yi;function sa(){if(yi)return Kt;yi=1;var t=Kt&&Kt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Kt,"__esModule",{value:!0});const e=t(vu),s=t(ta());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,v;let S=null,h=null,g=null,O=c.status,M=c.statusText;if(c.ok){if(this.method!=="HEAD"){const U=await c.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=U:h=JSON.parse(U))}const b=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),E=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");b&&E&&E.length>1&&(g=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(S={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,g=null,O=406,M="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await c.text();try{S=JSON.parse(b),Array.isArray(S)&&c.status===404&&(h=[],S=null,O=200,M="OK")}catch{c.status===404&&b===""?(O=204,M="No Content"):S={message:b}}if(S&&this.isMaybeSingle&&(!((v=S==null?void 0:S.details)===null||v===void 0)&&v.includes("0 rows"))&&(S=null,O=200,M="OK"),S&&this.shouldThrowOnError)throw new s.default(S)}return{error:S,data:h,count:g,status:O,statusText:M}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,v;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(v=c==null?void 0:c.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Kt.default=r,Kt}var bi;function ra(){if(bi)return Vt;bi=1;var t=Vt&&Vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vt,"__esModule",{value:!0});const e=t(sa());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),v=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${v}"; options=${d};`,c==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Vt.default=s,Vt}var wi;function Un(){if(wi)return Jt;wi=1;var t=Jt&&Jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jt,"__esModule",{value:!0});const e=t(ra());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${c}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return Jt.default=s,Jt}var Si;function na(){if(Si)return Wt;Si=1;var t=Wt&&Wt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wt,"__esModule",{value:!0});const e=t(Un());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(n??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const c=n.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(n)){const d=n.reduce((v,S)=>v.concat(Object.keys(S)),[]);if(d.length>0){const v=[...new Set(d)].map(S=>`"${S}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Wt.default=s,Wt}var ps={},gs={},ki;function yu(){return ki||(ki=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.version=void 0,gs.version="0.0.0-automated"),gs}var xi;function bu(){if(xi)return ps;xi=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.DEFAULT_HEADERS=void 0;const t=yu();return ps.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},ps}var Ti;function wu(){if(Ti)return Ht;Ti=1;var t=Ht&&Ht.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ht,"__esModule",{value:!0});const e=t(na()),s=t(Un()),r=bu();class n{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let d;const v=new URL(`${this.url}/rpc/${o}`);let S;l||c?(d=l?"HEAD":"GET",Object.entries(a).filter(([g,O])=>O!==void 0).map(([g,O])=>[g,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([g,O])=>{v.searchParams.append(g,O)})):(d="POST",S=a);const h=Object.assign({},this.headers);return u&&(h.Prefer=`count=${u}`),new s.default({method:d,url:v,headers:h,schema:this.schemaName,body:S,fetch:this.fetch,allowEmpty:!1})}}return Ht.default=n,Ht}var Ei;function Su(){if(Ei)return Ee;Ei=1;var t=Ee&&Ee.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;const e=t(wu());Ee.PostgrestClient=e.default;const s=t(na());Ee.PostgrestQueryBuilder=s.default;const r=t(Un());Ee.PostgrestFilterBuilder=r.default;const n=t(ra());Ee.PostgrestTransformBuilder=n.default;const i=t(sa());Ee.PostgrestBuilder=i.default;const o=t(ta());return Ee.PostgrestError=o.default,Ee.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ee}var ku=Su();const xu=du(ku),{PostgrestClient:Tu,PostgrestQueryBuilder:Zf,PostgrestFilterBuilder:ep,PostgrestTransformBuilder:tp,PostgrestBuilder:sp,PostgrestError:rp}=xu;let hn;typeof window>"u"?hn=require("ws"):hn=window.WebSocket;const Eu="2.11.10",Ou={"X-Client-Info":`realtime-js/${Eu}`},Pu="1.0.0",ia=1e4,Cu=1e3;var os;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(os||(os={}));var Ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ue||(Ue={}));var tt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(tt||(tt={}));var dn;(function(t){t.websocket="websocket"})(dn||(dn={}));var Ut;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ut||(Ut={}));class Au{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class oa{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ge||(ge={}));const Oi=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=ju(o,t,e,n),i),{})},ju=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?aa(i,o):fn(o)},aa=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Mu(e,s)}switch(t){case ge.bool:return $u(e);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return Ru(e);case ge.json:case ge.jsonb:return Iu(e);case ge.timestamp:return Lu(e);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return fn(e);default:return fn(e)}},fn=t=>t,$u=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ru=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Iu=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Mu=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>aa(e,a))}return t},Lu=t=>typeof t=="string"?t.replace(" ","T"):t,la=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Fr{constructor(e,s,r={},n=ia){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pi||(Pi={}));class Os{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Os.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Os.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Os.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const v=u.map(O=>O.presence_ref),S=d.map(O=>O.presence_ref),h=u.filter(O=>S.indexOf(O.presence_ref)<0),g=d.filter(O=>v.indexOf(O.presence_ref)<0);h.length>0&&(a[c]=h),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(S=>S.presence_ref),v=u.filter(S=>d.indexOf(S.presence_ref)<0);e[a].unshift(...v)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ci;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ci||(Ci={}));var Ai;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ai||(Ai={}));var pt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(pt||(pt={}));class Nn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Fr(this,tt.join,this.params,this.timeout),this.rejoinTimer=new oa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tt.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Os(this),this.broadcastEndpointURL=la(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(pt.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(pt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(pt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,S=(d=v==null?void 0:v.length)!==null&&d!==void 0?d:0,h=[];for(let g=0;g<S;g++){const O=v[g],{filter:{event:M,schema:T,table:b,filter:E}}=O,U=u&&u[g];if(U&&U.event===M&&U.schema===T&&U.table===b&&U.filter===E)h.push(Object.assign(Object.assign({},O),{id:U.id}));else{this.unsubscribe(),this.state=Ue.errored,e==null||e(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,e&&e(pt.SUBSCRIBED);return}}).receive("error",u=>{this.state=Ue.errored,e==null||e(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ue.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const n=new Fr(this,tt.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Fr(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=tt;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let v=this._onMessage(o,s,r);if(s&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(S=>{var h,g,O;return((h=S.filter)===null||h===void 0?void 0:h.event)==="*"||((O=(g=S.filter)===null||g===void 0?void 0:g.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===o}).map(S=>S.callback(v,r)):(i=this.bindings[o])===null||i===void 0||i.filter(S=>{var h,g,O,M,T,b;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in S){const E=S.id,U=(h=S.filter)===null||h===void 0?void 0:h.event;return E&&((g=s.ids)===null||g===void 0?void 0:g.includes(E))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((O=s.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const E=(T=(M=S==null?void 0:S.filter)===null||M===void 0?void 0:M.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return E==="*"||E===((b=s==null?void 0:s.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===o}).map(S=>{if(typeof v=="object"&&"ids"in v){const h=v.data,{schema:g,table:O,commit_timestamp:M,type:T,errors:b}=h;v=Object.assign(Object.assign({},{schema:g,table:O,commit_timestamp:M,eventType:T,new:{},old:{},errors:b}),this._getPayloadRecords(h))}S.callback(v,r)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Nn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tt.close,{},e)}_onError(e){this._on(tt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Oi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Oi(e.columns,e.old_record)),s}}const ji=()=>{},Du=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Uu{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Ou,this.params={},this.timeout=ia,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ji,this.ref=0,this.logger=ji,this.conn=null,this.sendBuffer=[],this.serializer=new Au,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>qs(async()=>{const{default:l}=await Promise.resolve().then(()=>cs);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${dn.websocket}`,this.httpEndpoint=la(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new oa(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=hn),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Nu(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pu}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return Ut.Connecting;case os.open:return Ut.Open;case os.closing:return Ut.Closing;default:return Ut.Closed}}isConnected(){return this.connectionState()===Ut.Open}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new Nn(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{s&&r.updateJoinPayload({access_token:s,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(tt.access_token,{access_token:s})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Cu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;r==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(tt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Du],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Nu{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=os.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Fn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Fu extends Fn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pn extends Fn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Bu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ca=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>qs(async()=>{const{default:r}=await Promise.resolve().then(()=>cs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},qu=()=>Bu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qs(()=>Promise.resolve().then(()=>cs),void 0)).Response:Response}),gn=t=>{if(Array.isArray(t))return t.map(s=>gn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=gn(r)}),e};var Bt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Br=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Hu=(t,e,s)=>Bt(void 0,void 0,void 0,function*(){const r=yield qu();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new Fu(Br(n),t.status||500))}).catch(n=>{e(new pn(Br(n),n))}):e(new pn(Br(t),t))}),Wu=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Hs(t,e,s,r,n,i){return Bt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Wu(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Hu(l,a,r))})})}function gr(t,e,s,r){return Bt(this,void 0,void 0,function*(){return Hs(t,"GET",e,s,r)})}function Tt(t,e,s,r,n){return Bt(this,void 0,void 0,function*(){return Hs(t,"POST",e,r,n,s)})}function Ju(t,e,s,r,n){return Bt(this,void 0,void 0,function*(){return Hs(t,"PUT",e,r,n,s)})}function Vu(t,e,s,r){return Bt(this,void 0,void 0,function*(){return Hs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function ua(t,e,s,r,n){return Bt(this,void 0,void 0,function*(){return Hs(t,"DELETE",e,r,n,s)})}var He=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Ku={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$i={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zu{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=ca(n)}uploadOrUpdate(e,s,r,n){return He(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},$i),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),v=yield d.json();return d.ok?{data:{path:c,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(i){if(Oe(i))return{data:null,error:i};throw i}})}upload(e,s,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return He(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:$i.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),v=yield d.json();return d.ok?{data:{path:i,fullPath:v.Key},error:null}:{data:null,error:v}}catch(l){if(Oe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return He(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Tt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Fn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}update(e,s,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return He(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}copy(e,s,r){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield Tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return He(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Tt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return He(this,void 0,void 0,function*(){try{const n=yield Tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}download(e,s){return He(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield gr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Oe(a))return{data:null,error:a};throw a}})}info(e){return He(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield gr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:gn(r),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}exists(e){return He(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Vu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Oe(r)&&r instanceof pn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return He(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}list(e,s,r){return He(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Ku),s),{prefix:e||""});return{data:yield Tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Gu="2.7.1",Yu={"X-Client-Info":`storage-js/${Gu}`};var zt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Qu{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Yu),s),this.fetch=ca(r)}listBuckets(){return zt(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Oe(e))return{data:null,error:e};throw e}})}getBucket(e){return zt(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return zt(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return zt(this,void 0,void 0,function*(){try{return{data:yield Ju(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return zt(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return zt(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}}class Xu extends Qu{constructor(e,s={},r){super(e,s,r)}from(e){return new zu(this.url,this.headers,e,this.fetch)}}const Zu="2.50.0";let ys="";typeof Deno<"u"?ys="deno":typeof document<"u"?ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ys="react-native":ys="node";const eh={"X-Client-Info":`supabase-js-${ys}/${Zu}`},th={headers:eh},sh={schema:"public"},rh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nh={};var ih=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const oh=t=>{let e;return t?e=t:typeof fetch>"u"?e=Zo:e=fetch,(...s)=>e(...s)},ah=()=>typeof Headers>"u"?ea:Headers,lh=(t,e,s)=>{const r=oh(s),n=ah();return(i,o)=>ih(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var ch=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function uh(t){return t.endsWith("/")?t:t+"/"}function hh(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,v={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ch(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const ha="2.70.0",es=30*1e3,mn=3,qr=mn*es,dh="http://localhost:9999",fh="supabase.auth.token",ph={"X-Client-Info":`gotrue-js/${ha}`},_n="X-Supabase-Api-Version",da={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mh=6e5;class Bn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function Q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _h extends Bn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function vh(t){return Q(t)&&t.name==="AuthApiError"}class fa extends Bn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class $t extends Bn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class wt extends $t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yh(t){return Q(t)&&t.name==="AuthSessionMissingError"}class Qs extends $t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xs extends $t{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zs extends $t{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bh(t){return Q(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ri extends $t{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vn extends $t{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Hr(t){return Q(t)&&t.name==="AuthRetryableFetchError"}class Ii extends $t{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Ps extends $t{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mi=` 	
\r=`.split(""),wh=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Mi.length;e+=1)t[Mi[e].charCodeAt(0)]=-2;for(let e=0;e<mr.length;e+=1)t[mr[e].charCodeAt(0)]=e;return t})();function Li(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(mr[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(mr[r]),e.queuedBits-=6}}function pa(t,e,s){const r=wh[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Di(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{xh(o,r,s)};for(let o=0;o<t.length;o+=1)pa(t.charCodeAt(o),n,i);return e.join("")}function Sh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function kh(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Sh(r,e)}}function xh(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Th(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)pa(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Eh(t){const e=[];return kh(t,s=>e.push(s)),new Uint8Array(e)}function Oh(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>Li(n,s,r)),Li(null,s,r),e.join("")}function Ph(t){return Math.round(Date.now()/1e3)+t}function Ch(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",Mt={tested:!1,writable:!1},Cs=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mt.tested)return Mt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Mt.tested=!0,Mt.writable=!0}catch{Mt.tested=!0,Mt.writable=!1}return Mt.writable};function Ah(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const ga=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>qs(async()=>{const{default:r}=await Promise.resolve().then(()=>cs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},jh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ma=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},er=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},tr=async(t,e)=>{await t.removeItem(e)};class Pr{constructor(){this.promise=new Pr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Pr.promiseConstructor=Promise;function Wr(t){const e=t.split(".");if(e.length!==3)throw new Ps("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!gh.test(e[r]))throw new Ps("JWT not in base64url format");return{header:JSON.parse(Di(e[0])),payload:JSON.parse(Di(e[1])),signature:Th(e[2]),raw:{header:e[0],payload:e[1]}}}async function $h(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Rh(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Ih(t){return("0"+t.toString(16)).substr(-2)}function Mh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Ih).join("")}async function Lh(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Dh(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Lh(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gt(t,e,s=!1){const r=Mh();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await ma(t,`${e}-code-verifier`,n);const i=await Dh(r);return[i,r===i?"plain":"s256"]}const Uh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Nh(t){const e=t.headers.get(_n);if(!e||!e.match(Uh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Fh(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Bh(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qh=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yt(t){if(!qh.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Hh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Dt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Wh=[502,503,504];async function Ui(t){var e;if(!jh(t))throw new vn(Dt(t),0);if(Wh.includes(t.status))throw new vn(Dt(t),t.status);let s;try{s=await t.json()}catch(i){throw new fa(Dt(i),i)}let r;const n=Nh(t);if(n&&n.getTime()>=da["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Ii(Dt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new wt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ii(Dt(s),t.status,s.weak_password.reasons);throw new _h(Dt(s),t.status||500,r)}const Jh=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function se(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[_n]||(i[_n]=da["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Vh(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Vh(t,e,s,r,n,i){const o=Jh(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new vn(Dt(l),0)}if(a.ok||await Ui(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ui(l)}}function dt(t){var e;let s=null;Yh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Ph(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Ni(t){const e=dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Et(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Kh(t){return{data:t,error:null}}function zh(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Hh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Gh(t){return t}function Yh(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jr=["global","local","others"];var Qh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Xh{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=ga(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=Jr[0]){if(Jr.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jr.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Et})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Qh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:zh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Et})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Gh});if(u.error)throw u.error;const d=await u.json(),v=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,S=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return S.length>0&&(S.forEach(h=>{const g=parseInt(h.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(h.split(";")[1].split("=")[1]);c[`${O}Page`]=g}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Q(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Yt(e);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Et})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Yt(e);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Et})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Yt(e);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Et})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Yt(e.userId);try{const{data:s,error:r}=await se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Yt(e.userId),Yt(e.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}}const Zh={getItem:t=>Cs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Cs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Cs()&&globalThis.localStorage.removeItem(t)}};function Fi(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function ed(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qt={debug:!!(globalThis&&Cs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _a extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class td extends _a{}async function sd(t,e,s){Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new td(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Qt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}ed();const rd={url:dh,storageKey:fh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ph,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bi(t,e,s){return await s()}class Us{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Us.nextInstanceID,Us.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},rd),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Xh({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ga(n.fetch),this.lock=n.lock||Bi,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:et()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=sd:this.lock=Bi,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Cs()?this.storage=Zh:(this.memoryStorage={},this.storage=Fi(this.memoryStorage)):(this.memoryStorage={},this.storage=Fi(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ha}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Ah(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),et()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bh(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Q(s)?{error:s}:{error:new fa("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:dt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:u,password:d,options:v}=e;let S=null,h=null;this.flowType==="pkce"&&([S,h]=await Gt(this.storage,this.storageKey)),i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:u,password:d,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:S,code_challenge_method:h},xform:dt})}else if("phone"in e){const{phone:u,password:d,options:v}=e;i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(n=v==null?void 0:v.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:dt})}else throw new Xs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ni})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ni})}else throw new Xs("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Qs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,i,o,a,l,c,u,d,v,S;let h,g;if("message"in e)h=e.message,g=e.signature;else{const{chain:O,wallet:M,statement:T,options:b}=e;let E;if(et())if(typeof M=="object")E=M;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))E=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=M}const U=new URL((s=b==null?void 0:b.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in E&&E.signIn){const W=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),T?{statement:T}:null));let te;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")te=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)te=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)h=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),g=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");h=[`${U.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(n=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const W=await E.signMessage(new TextEncoder().encode(h),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=W}}try{const{data:O,error:M}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:h,signature:Oh(g)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:dt});if(M)throw M;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new Qs}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:M})}catch(O){if(Q(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const s=await er(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:dt});if(await tr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Qs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(Q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:dt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Qs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Gt(this.storage,this.storageKey));const{error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Xs("You must provide either an email or phone number.")}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:dt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Gt(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Kh})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new wt;const{error:n}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(Q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await se(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await se(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Xs("You must provide either an email or phone number and a type")}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await er(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<qr:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Et}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Et})})}catch(s){if(Q(s))return yh(s)&&(await this._removeSession(),await tr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new wt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Gt(this.storage,this.storageKey));const{data:c,error:u}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Et});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=Wr(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(Q(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new wt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!et())throw new Zs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ri("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ri("No code detected.");const{data:T,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Zs("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let v=u+d;l&&(v=parseInt(l));const S=v-u;S*1e3<=es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${d}s`);const h=v-d;u-h>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",h,v,u):u-h<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",h,v,u);const{data:g,error:O}=await this._getUser(i);if(O)throw O;const M={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:v,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:e.type},error:null}}catch(r){if(Q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await er(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(vh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await tr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Ch(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Gt(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(Q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:v}=i;if(v)throw v;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",S,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return et()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Q(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Rh(async n=>(n>0&&await $h(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Hr(i)&&Date.now()+o-r<es})}catch(r){if(this._debug(s,"error",r),Q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),et()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await er(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<qr;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${qr}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Hr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Pr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new wt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),Q(i)){const o={session:null,error:i};return Hr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ma(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await tr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),es);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${es}ms, refresh threshold is ${mn} ticks`),n<=mn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _a)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await se(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(Q(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(Q(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Wr(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+mh>Date.now()))return r;const{data:n,error:i}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Ps("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new Ps("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:S,error:h}=await this.getSession();if(h||!S.session)return{data:null,error:h};r=S.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Wr(r);if(Fh(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:i,header:n,signature:o},error:null}}const c=Bh(n.alg),u=await this.fetchJwk(n.kid,s),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,Eh(`${a}.${l}`)))throw new Ps("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}}Us.nextInstanceID=0;const nd=Us;class id extends nd{constructor(e){super(e)}}var od=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class ad{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=uh(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:sh,realtime:nh,auth:Object.assign(Object.assign({},rh),{storageKey:c}),global:th},d=hh(r??{},u);this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(v,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=lh(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Tu(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new hu(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Xu(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return od(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new id({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Uu(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ld=(t,e,s)=>new ad(t,e,s),cd="https://kueodidcmdsxaoctjtug.supabase.co/",ud="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt1ZW9kaWRjbWRzeGFvY3RqdHVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk2NzE0NzYsImV4cCI6MjA2NTI0NzQ3Nn0.zuRgrGhf-PwpeX_1yJaUxXda4-uKw4Fk6gxrhcelpZI",va=ld(cd,ud),hd="admin@monapp.local";async function dd(t){const{data:e,error:s}=await va.auth.signInWithPassword({email:hd,password:t});return s?(console.error("Erreur login:",s.message),!1):!0}const fd={class:"final-scores"},pd={class:"final-player-name-above"},gd={key:0},md={key:1},_d={key:2},vd={key:3},yd={class:"final-player-score"},bd=["src"],wd={class:"final-player-info"},Sd={class:"final-player-stats"},kd={class:"stat-badge"},xd={class:"stat-badge"},Td={class:"stat-badge"},Ed={class:"stat-badge"},Od={class:"stat-badge"},Pd={class:"stat-badge"},Cd={class:"stat-badge"},Ad={class:"stat-badge"},jd={class:"stat-badge"},$d={class:"stat-badge"},Rd={key:0,class:"stat-badge awsome-badge"},Id={key:1,class:"stat-badge awsome-badge"},Md={key:2,class:"stat-badge awsome-badge"},Ld={key:3,class:"stat-badge awsome-badge"},Dd={key:4,class:"stat-badge awsome-badge"},Ud={key:5,class:"stat-badge awsome-badge"},Nd={key:0,class:"action-buttons"},Fd={__name:"GameStats",props:["sortedPlayers","humanPlayersSorted","robotName","stats","role"],setup(t){const e=t;function s(){window.location.reload()}return e.role,(r,n)=>(J(),X("div",null,[n[1]||(n[1]=_("h2",null,"Partie terminée",-1)),_("ul",fd,[(J(!0),X(Ie,null,Is(t.sortedPlayers,(i,o)=>{var a,l,c,u;return J(),X("li",{key:i.name,class:"final-score-item"},[_("div",pd,[i.name!==t.robotName?(J(),X(Ie,{key:0},[((a=t.humanPlayersSorted[0])==null?void 0:a.name)===i.name?(J(),X("span",gd,"🥇")):((l=t.humanPlayersSorted[1])==null?void 0:l.name)===i.name?(J(),X("span",md,"🥈")):((c=t.humanPlayersSorted[2])==null?void 0:c.name)===i.name?(J(),X("span",_d,"🥉")):((u=t.humanPlayersSorted[3])==null?void 0:u.name)===i.name?(J(),X("span",vd,"🍫")):be("",!0)],64)):be("",!0),kt(" "+x(i.name),1)]),_("span",yd,x(i.totalScore)+" pts",1),_("img",{src:i.avatar,alt:"avatar",class:"final-avatar-large"},null,8,bd),_("div",wd,[_("div",Sd,[_("span",kd,"Hits : "+x(t.stats(i).hits)+"/"+x(t.stats(i).total),1),_("span",xd,"Hits (F1) : "+x(t.stats(i).hitsF1)+"/"+x(t.stats(i).total/3),1),_("span",Td,"Hits (F2) : "+x(t.stats(i).hitsF2)+"/"+x(t.stats(i).total/3),1),_("span",Ed,"Hits (F3) : "+x(t.stats(i).hitsF3)+"/"+x(t.stats(i).total/3),1),_("span",Od,"Miss : "+x(t.stats(i).miss),1),_("span",Pd,"Streak : "+x(t.stats(i).strk),1),_("span",Cd,"Streak loose : "+x(t.stats(i).strkloose),1),_("span",Ad,"Single : "+x(t.stats(i).single),1),_("span",jd,"Double : "+x(t.stats(i).double),1),_("span",$d,"Triple : "+x(t.stats(i).triple),1),t.stats(i).shangai>=1?(J(),X("span",Rd,"Shangai : "+x(t.stats(i).shangai),1)):be("",!0),t.stats(i).ttt>=1?(J(),X("span",Id,"ttt : "+x(t.stats(i).ttt),1)):be("",!0),t.stats(i).ddd>=1?(J(),X("span",Md,"ddd : "+x(t.stats(i).ddd),1)):be("",!0),t.stats(i).tt>=1?(J(),X("span",Ld,"tt : "+x(t.stats(i).tt),1)):be("",!0),t.stats(i).dd>=1?(J(),X("span",Dd,"dd : "+x(t.stats(i).dd),1)):be("",!0),t.stats(i).curses>=1?(J(),X("span",Ud,"🤬 : "+x(t.stats(i).curses),1)):be("",!0)])])])}),128))]),_("p",null,[_("button",{onClick:s},"Rejouer")]),t.role==="admin"?(J(),X("div",Nd,[_("a",{href:"#",onClick:n[0]||(n[0]=Ds(i=>r.$emit("view-scores"),["prevent"])),class:"link-button"},"Voir le classement")])):be("",!0)]))}},Bd=Bs(Fd,[["__scopeId","data-v-374e3dbf"]]);function qd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ya(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hd(t,e){let s=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++s;else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&++s}return s}class Wd extends Map{constructor(e,s=Kd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),e!=null)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(qi(this,e))}has(e){return super.has(qi(this,e))}set(e,s){return super.set(Jd(this,e),s)}delete(e){return super.delete(Vd(this,e))}}function qi({_intern:t,_key:e},s){const r=e(s);return t.has(r)?t.get(r):s}function Jd({_intern:t,_key:e},s){const r=e(s);return t.has(r)?t.get(r):(t.set(r,s),s)}function Vd({_intern:t,_key:e},s){const r=e(s);return t.has(r)&&(s=t.get(r),t.delete(r)),s}function Kd(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Hi(t){return t}function zd(t,...e){return Gd(t,Hi,Hi,e)}function Gd(t,e,s,r){return function n(i,o){if(o>=r.length)return s(i);const a=new Wd,l=r[o++];let c=-1;for(const u of i){const d=l(u,++c,i),v=a.get(d);v?v.push(u):a.set(d,[u])}for(const[u,d]of a)a.set(u,n(d,o));return e(a)}(t,0)}function Yd(t,e){let s;if(e===void 0)for(const r of t)r!=null&&(s<r||s===void 0&&r>=r)&&(s=r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(s<n||s===void 0&&n>=n)&&(s=n)}return s}function Qd(t,e){let s;if(e===void 0)for(const r of t)r!=null&&(s>r||s===void 0&&r>=r)&&(s=r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(s>n||s===void 0&&n>=n)&&(s=n)}return s}function ba(t,e){let s=0,r=0;if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(++s,r+=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(i=+i)>=i&&(++s,r+=i)}if(s)return r/s}function Xd(t,e){let s=0;if(e===void 0)for(let r of t)(r=+r)&&(s+=r);else{let r=-1;for(let n of t)(n=+e(n,++r,t))&&(s+=n)}return s}const wa=Object.assign({},{mean:ba,descending:ya});function or(t){t=t.flat();let e=0,s=0;for(let r=0;r<t.length;r++)t[r]!==0?(s++,s>e&&(e=s)):s=0;return e}function ar(t){t=t.flat();let e=0,s=0;for(let r=0;r<t.length;r++)t[r]===0?(s++,s>e&&(e=s)):s=0;return e}function Wi(){const t=new Date,e=t.getFullYear(),s=t.getMonth(),n=(s>=8?new Date(e,8,1):new Date(e-1,8,1)).getTime(),o=(s<=6?new Date(e,6,31):new Date(e+1,6,31)).getTime();return{septFirstLastYear:n,july31Next:o}}function Vr(t){return t.filter(e=>{const s=[0,0,0,0];return e.forEach(r=>s[r]++),s[1]===1&&s[2]===1&&s[3]===1}).length}function Kr(t){return t.filter(e=>{const s=[0,0,0,0];return e.forEach(r=>s[r]++),s[3]===2}).length}function zr(t){return t.filter(e=>{const s=[0,0,0,0];return e.forEach(r=>s[r]++),s[3]===3}).length}function Gr(t){return t.filter(e=>{const s=[0,0,0,0];return e.forEach(r=>s[r]++),s[2]===2}).length}function Yr(t){return t.filter(e=>{const s=[0,0,0,0];return e.forEach(r=>s[r]++),s[2]===3}).length}function Qr(t,e,s){let r=s.filter(i=>e.map(o=>o.timestamp).includes(i.timestamp)).map(i=>({timestamp:i.timestamp,name:i.name,score:i.score})),n=0;return e.map(i=>i.timestamp).forEach(i=>{r.filter(a=>a.timestamp==i).slice().sort((a,l)=>wa.descending(a.score,l.score)).map(a=>a)[1].name==t&&n++}),n/e.length*100}function Zd(t){const e=[...new Set(t.map(n=>n.name))];let s=[];return e.forEach(n=>{const i=t.filter(o=>o.name==n).map(o=>o.score).sort((o,a)=>a-o).slice(0,10);s.push({name:n,scores:i,mean:wa.mean(i)})}),s.filter(n=>n.scores.length>=10).sort((n,i)=>i.mean-n.mean).filter(n=>n.name!=="Number One")}function ef(t){let e="<table>";return e+="<tbody>",[...t].forEach((s,r)=>{if(e+=`<tr><td>${oe(r+1)} ${s.name}</td><td>${s.mean}</td></tr>`,s.scores&&s.scores.length){const n=s.scores.sort().join(", ");e+=`<tr><td colspan="2" style="font-size: 0.75em; color: #666;">${n}</td></tr>`}}),e+="</tbody>",e+="</table>",e}function tf(t){let e="<table>";return e+="<tbody>",[...t].forEach((s,r)=>{if(e+=`<tr><td>${oe(r+1)} ${s.name}</td><td>${s.mean_last}</td></tr>`,s.data_last&&s.data_last.length){const n=s.data_last.join(", ");e+=`<tr><td colspan="2" style="font-size: 0.75em; color: #666;">${n}</td></tr>`}}),e+="</tbody>",e+="</table>",e}function oe(t){switch(t){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";case 4:return"🍫";default:return""}}var Ws={};(function t(e,s,r,n){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var w=new OffscreenCanvas(1,1),p=w.getContext("2d");p.fillRect(0,0,1,1);var L=w.transferToImageBitmap();try{p.createPattern(L,"no-repeat")}catch{return!1}return!0}();function l(){}function c(w){var p=s.exports.Promise,L=p!==void 0?p:e.Promise;return typeof L=="function"?new L(w):(w(l,l),null)}var u=function(w,p){return{transform:function(L){if(w)return L;if(p.has(L))return p.get(L);var q=new OffscreenCanvas(L.width,L.height),z=q.getContext("2d");return z.drawImage(L,0,0),p.set(L,q),q},clear:function(){p.clear()}}}(a,new Map),d=function(){var w=Math.floor(16.666666666666668),p,L,q={},z=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(p=function(G){var K=Math.random();return q[K]=requestAnimationFrame(function B(Y){z===Y||z+w-1<Y?(z=Y,delete q[K],G()):q[K]=requestAnimationFrame(B)}),K},L=function(G){q[G]&&cancelAnimationFrame(q[G])}):(p=function(G){return setTimeout(G,w)},L=function(G){return clearTimeout(G)}),{frame:p,cancel:L}}(),v=function(){var w,p,L={};function q(z){function G(K,B){z.postMessage({options:K||{},callback:B})}z.init=function(B){var Y=B.transferControlToOffscreen();z.postMessage({canvas:Y},[Y])},z.fire=function(B,Y,ae){if(p)return G(B,null),p;var le=Math.random().toString(36).slice(2);return p=c(function(fe){function f(m){m.data.callback===le&&(delete L[le],z.removeEventListener("message",f),p=null,u.clear(),ae(),fe())}z.addEventListener("message",f),G(B,le),L[le]=f.bind(null,{data:{callback:le}})}),p},z.reset=function(){z.postMessage({reset:!0});for(var B in L)L[B](),delete L[B]}}return function(){if(w)return w;if(!r&&i){var z=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{w=new Worker(URL.createObjectURL(new Blob([z])))}catch(G){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",G),null}q(w)}return w}}(),S={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function h(w,p){return p?p(w):w}function g(w){return w!=null}function O(w,p,L){return h(w&&g(w[p])?w[p]:S[p],L)}function M(w){return w<0?0:Math.floor(w)}function T(w,p){return Math.floor(Math.random()*(p-w))+w}function b(w){return parseInt(w,16)}function E(w){return w.map(U)}function U(w){var p=String(w).replace(/[^0-9a-f]/gi,"");return p.length<6&&(p=p[0]+p[0]+p[1]+p[1]+p[2]+p[2]),{r:b(p.substring(0,2)),g:b(p.substring(2,4)),b:b(p.substring(4,6))}}function W(w){var p=O(w,"origin",Object);return p.x=O(p,"x",Number),p.y=O(p,"y",Number),p}function te(w){w.width=document.documentElement.clientWidth,w.height=document.documentElement.clientHeight}function ye(w){var p=w.getBoundingClientRect();w.width=p.width,w.height=p.height}function ne(w){var p=document.createElement("canvas");return p.style.position="fixed",p.style.top="0px",p.style.left="0px",p.style.pointerEvents="none",p.style.zIndex=w,p}function we(w,p,L,q,z,G,K,B,Y){w.save(),w.translate(p,L),w.rotate(G),w.scale(q,z),w.arc(0,0,1,K,B,Y),w.restore()}function Se(w){var p=w.angle*(Math.PI/180),L=w.spread*(Math.PI/180);return{x:w.x,y:w.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:w.startVelocity*.5+Math.random()*w.startVelocity,angle2D:-p+(.5*L-Math.random()*L),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:w.color,shape:w.shape,tick:0,totalTicks:w.ticks,decay:w.decay,drift:w.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:w.gravity*3,ovalScalar:.6,scalar:w.scalar,flat:w.flat}}function Pe(w,p){p.x+=Math.cos(p.angle2D)*p.velocity+p.drift,p.y+=Math.sin(p.angle2D)*p.velocity+p.gravity,p.velocity*=p.decay,p.flat?(p.wobble=0,p.wobbleX=p.x+10*p.scalar,p.wobbleY=p.y+10*p.scalar,p.tiltSin=0,p.tiltCos=0,p.random=1):(p.wobble+=p.wobbleSpeed,p.wobbleX=p.x+10*p.scalar*Math.cos(p.wobble),p.wobbleY=p.y+10*p.scalar*Math.sin(p.wobble),p.tiltAngle+=.1,p.tiltSin=Math.sin(p.tiltAngle),p.tiltCos=Math.cos(p.tiltAngle),p.random=Math.random()+2);var L=p.tick++/p.totalTicks,q=p.x+p.random*p.tiltCos,z=p.y+p.random*p.tiltSin,G=p.wobbleX+p.random*p.tiltCos,K=p.wobbleY+p.random*p.tiltSin;if(w.fillStyle="rgba("+p.color.r+", "+p.color.g+", "+p.color.b+", "+(1-L)+")",w.beginPath(),o&&p.shape.type==="path"&&typeof p.shape.path=="string"&&Array.isArray(p.shape.matrix))w.fill(de(p.shape.path,p.shape.matrix,p.x,p.y,Math.abs(G-q)*.1,Math.abs(K-z)*.1,Math.PI/10*p.wobble));else if(p.shape.type==="bitmap"){var B=Math.PI/10*p.wobble,Y=Math.abs(G-q)*.1,ae=Math.abs(K-z)*.1,le=p.shape.bitmap.width*p.scalar,fe=p.shape.bitmap.height*p.scalar,f=new DOMMatrix([Math.cos(B)*Y,Math.sin(B)*Y,-Math.sin(B)*ae,Math.cos(B)*ae,p.x,p.y]);f.multiplySelf(new DOMMatrix(p.shape.matrix));var m=w.createPattern(u.transform(p.shape.bitmap),"no-repeat");m.setTransform(f),w.globalAlpha=1-L,w.fillStyle=m,w.fillRect(p.x-le/2,p.y-fe/2,le,fe),w.globalAlpha=1}else if(p.shape==="circle")w.ellipse?w.ellipse(p.x,p.y,Math.abs(G-q)*p.ovalScalar,Math.abs(K-z)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI):we(w,p.x,p.y,Math.abs(G-q)*p.ovalScalar,Math.abs(K-z)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI);else if(p.shape==="star")for(var y=Math.PI/2*3,C=4*p.scalar,P=8*p.scalar,A=p.x,I=p.y,R=5,$=Math.PI/R;R--;)A=p.x+Math.cos(y)*P,I=p.y+Math.sin(y)*P,w.lineTo(A,I),y+=$,A=p.x+Math.cos(y)*C,I=p.y+Math.sin(y)*C,w.lineTo(A,I),y+=$;else w.moveTo(Math.floor(p.x),Math.floor(p.y)),w.lineTo(Math.floor(p.wobbleX),Math.floor(z)),w.lineTo(Math.floor(G),Math.floor(K)),w.lineTo(Math.floor(q),Math.floor(p.wobbleY));return w.closePath(),w.fill(),p.tick<p.totalTicks}function Ve(w,p,L,q,z){var G=p.slice(),K=w.getContext("2d"),B,Y,ae=c(function(le){function fe(){B=Y=null,K.clearRect(0,0,q.width,q.height),u.clear(),z(),le()}function f(){r&&!(q.width===n.width&&q.height===n.height)&&(q.width=w.width=n.width,q.height=w.height=n.height),!q.width&&!q.height&&(L(w),q.width=w.width,q.height=w.height),K.clearRect(0,0,q.width,q.height),G=G.filter(function(m){return Pe(K,m)}),G.length?B=d.frame(f):fe()}B=d.frame(f),Y=fe});return{addFettis:function(le){return G=G.concat(le),ae},canvas:w,promise:ae,reset:function(){B&&d.cancel(B),Y&&Y()}}}function rt(w,p){var L=!w,q=!!O(p||{},"resize"),z=!1,G=O(p,"disableForReducedMotion",Boolean),K=i&&!!O(p||{},"useWorker"),B=K?v():null,Y=L?te:ye,ae=w&&B?!!w.__confetti_initialized:!1,le=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,fe;function f(y,C,P){for(var A=O(y,"particleCount",M),I=O(y,"angle",Number),R=O(y,"spread",Number),$=O(y,"startVelocity",Number),j=O(y,"decay",Number),F=O(y,"gravity",Number),D=O(y,"drift",Number),N=O(y,"colors",E),H=O(y,"ticks",Number),ee=O(y,"shapes"),ce=O(y,"scalar"),re=!!O(y,"flat"),Te=W(y),xe=A,Ae=[],qe=w.width*Te.x,ut=w.height*Te.y;xe--;)Ae.push(Se({x:qe,y:ut,angle:I,spread:R,startVelocity:$,color:N[xe%N.length],shape:ee[T(0,ee.length)],ticks:H,decay:j,gravity:F,drift:D,scalar:ce,flat:re}));return fe?fe.addFettis(Ae):(fe=Ve(w,Ae,Y,C,P),fe.promise)}function m(y){var C=G||O(y,"disableForReducedMotion",Boolean),P=O(y,"zIndex",Number);if(C&&le)return c(function($){$()});L&&fe?w=fe.canvas:L&&!w&&(w=ne(P),document.body.appendChild(w)),q&&!ae&&Y(w);var A={width:w.width,height:w.height};B&&!ae&&B.init(w),ae=!0,B&&(w.__confetti_initialized=!0);function I(){if(B){var $={getBoundingClientRect:function(){if(!L)return w.getBoundingClientRect()}};Y($),B.postMessage({resize:{width:$.width,height:$.height}});return}A.width=A.height=null}function R(){fe=null,q&&(z=!1,e.removeEventListener("resize",I)),L&&w&&(document.body.contains(w)&&document.body.removeChild(w),w=null,ae=!1)}return q&&!z&&(z=!0,e.addEventListener("resize",I,!1)),B?B.fire(y,A,R):f(y,A,R)}return m.reset=function(){B&&B.reset(),fe&&fe.reset()},m}var Ze;function ve(){return Ze||(Ze=rt(null,{useWorker:!0,resize:!0})),Ze}function de(w,p,L,q,z,G,K){var B=new Path2D(w),Y=new Path2D;Y.addPath(B,new DOMMatrix(p));var ae=new Path2D;return ae.addPath(Y,new DOMMatrix([Math.cos(K)*z,Math.sin(K)*z,-Math.sin(K)*G,Math.cos(K)*G,L,q])),ae}function ie(w){if(!o)throw new Error("path confetti are not supported in this browser");var p,L;typeof w=="string"?p=w:(p=w.path,L=w.matrix);var q=new Path2D(p),z=document.createElement("canvas"),G=z.getContext("2d");if(!L){for(var K=1e3,B=K,Y=K,ae=0,le=0,fe,f,m=0;m<K;m+=2)for(var y=0;y<K;y+=2)G.isPointInPath(q,m,y,"nonzero")&&(B=Math.min(B,m),Y=Math.min(Y,y),ae=Math.max(ae,m),le=Math.max(le,y));fe=ae-B,f=le-Y;var C=10,P=Math.min(C/fe,C/f);L=[P,0,0,P,-Math.round(fe/2+B)*P,-Math.round(f/2+Y)*P]}return{type:"path",path:p,matrix:L}}function Ke(w){var p,L=1,q="#000000",z='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof w=="string"?p=w:(p=w.text,L="scalar"in w?w.scalar:L,z="fontFamily"in w?w.fontFamily:z,q="color"in w?w.color:q);var G=10*L,K=""+G+"px "+z,B=new OffscreenCanvas(G,G),Y=B.getContext("2d");Y.font=K;var ae=Y.measureText(p),le=Math.ceil(ae.actualBoundingBoxRight+ae.actualBoundingBoxLeft),fe=Math.ceil(ae.actualBoundingBoxAscent+ae.actualBoundingBoxDescent),f=2,m=ae.actualBoundingBoxLeft+f,y=ae.actualBoundingBoxAscent+f;le+=f+f,fe+=f+f,B=new OffscreenCanvas(le,fe),Y=B.getContext("2d"),Y.font=K,Y.fillStyle=q,Y.fillText(p,m,y);var C=1/L;return{type:"bitmap",bitmap:B.transferToImageBitmap(),matrix:[C,0,0,C,-le*C/2,-fe*C/2]}}s.exports=function(){return ve().apply(this,arguments)},s.exports.reset=function(){ve().reset()},s.exports.create=rt,s.exports.shapeFromPath=ie,s.exports.shapeFromText=Ke})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Ws,!1);const sf=Ws.exports;Ws.exports.create;const rf={key:0,style:{"font-size":"0.8rem",color:"gray","text-align":"center","margin-bottom":"-10px"}},nf={class:"container"},of={key:0},af={class:"round-circle"},lf={class:"avatar-lineup"},cf=["src","alt"],uf={key:0,class:"buttons"},hf=["onClick"],df=["onClick"],ff=["onClick"],pf=["onClick"],gf={key:0,id:"submitScoreContainer"},mf={key:1},_f=20,$e="Number One",vf="https://cdn-icons-png.flaticon.com/512/4712/4712027.png",yf={__name:"Game",props:{players:Array,role:String},setup(t){let e=0;function s(T){e=T.touches[0].clientY}function r(T){const b=T.touches[0].clientY;window.scrollY===0&&b>e&&T.preventDefault()}xr(()=>{window.addEventListener("touchstart",s,{passive:!1}),window.addEventListener("touchmove",r,{passive:!1})}),Oo(()=>{window.removeEventListener("touchstart",s),window.removeEventListener("touchmove",r)});const n=t,i=Je(1),o=Je(0),a=Je([0,0,0]);let l=0;Ts(()=>n.players.length,T=>{const b=n.players.findIndex(E=>E.name===$e);T>1&&b===-1?n.players.push({id:0,name:$e,avatar:vf,scores:[],totalScore:0}):T<=1&&b!==-1&&(n.players.splice(b,1),o.value>=n.players.length&&(o.value=0))},{immediate:!0}),n.players.forEach(T=>{T.scores||(T.scores=[]),T.curses||(T.curses=0),T.totalScore===void 0&&(T.totalScore=0)});function c(T){const b=T.scores.flat(),E=or(b),U=ar(b),W=b.length,te=b.filter(p=>p===0).length,ye=b.filter(p=>p!==0).length,ne=T.scores.map(p=>p[0]).filter(p=>p!==0).length,we=T.scores.map(p=>p[1]).filter(p=>p!==0).length,Se=T.scores.map(p=>p[2]).filter(p=>p!==0).length,Pe=b.filter(p=>p===1).length,Ve=b.filter(p=>p===2).length,rt=b.filter(p=>p===3).length,Ze=T.scores.filter(p=>p.filter(L=>L===3).length===3).length,ve=T.scores.filter(p=>p.filter(L=>L===3).length===2).length,de=T.scores.filter(p=>p.filter(L=>L===2).length===3).length,ie=T.scores.filter(p=>p.filter(L=>L===2).length===2).length,Ke=T.scores.filter(p=>{const L=new Set(p);return L.has(1)&&L.has(2)&&L.has(3)}).length,w=T.curses;return{total:W,hits:ye,hitsF1:ne,hitsF2:we,hitsF3:Se,miss:te,single:Pe,double:Ve,triple:rt,shangai:Ke,ttt:Ze,ddd:de,tt:ve,dd:ie,strk:E,strkloose:U,curses:w}}function u(T,b){a.value[T]=b,navigator.vibrate&&navigator.vibrate(30)}const d=vs(()=>{const T=i.value;return a.value.reduce((b,E)=>b+E*T,0)});function v(){navigator.vibrate&&navigator.vibrate(30);const T=n.players[o.value];if(T.name===$e){const U=n.players.filter(ne=>ne.name!==$e).map(ne=>ne.scores[ne.scores.length-1]),W=U.map(ne=>ne[0]+ne[1]+ne[2]),te=W.indexOf(Math.max(...W)),ye=U[te];a.value=[...ye]}const b=[...a.value];T.scores.push(b),T.totalScore+=d.value,new Set(b).has(1)&&new Set(b).has(2)&&new Set(b).has(3)&&T.name!==$e&&sf({particleCount:150,spread:90,origin:{y:.6}}),a.value=[0,0,0],o.value<n.players.length-1?o.value++:(o.value=0,i.value++),l=Math.max(...n.players.filter(U=>U.name!==$e).map(U=>U.totalScore))}function S(){if(i.value===1&&o.value===0)return;let T=o.value,b=i.value;function E(ne){const we=n.players.length;for(let Se=1;Se<=we;Se++){const Pe=(ne-Se+we)%we;if(n.players[Pe].name!==$e)return Pe}return ne}const U=n.players.findIndex(ne=>ne.name===$e);let W=!1;if(T===0){if(b===1)return;b-=1,T=E(n.players.length),W=!0}else T=E(T);o.value=T,i.value=b;const te=n.players[T],ye=te.scores.pop();if(ye){const ne=b,we=ye.reduce((Se,Pe)=>Se+Pe*ne,0);te.totalScore-=we}if(W&&U!==-1){const ne=n.players[U];if(ne.scores.length>0){const Se=ne.scores[ne.scores.length-1].reduce((Pe,Ve)=>Pe+Ve*b,0);ne.totalScore-=Se,ne.scores.pop()}}a.value=[0,0,0]}function h(){const T=n.players[o.value];T.name!==$e&&(T.curses+=1)}const g=vs(()=>i.value>_f),O=vs(()=>[...n.players].sort((T,b)=>b.totalScore-T.totalScore));Ts(o,async T=>{n.players[T].name===$e&&!g.value&&(await vo(),v())});const M=vs(()=>n.players.filter(T=>T.name!==$e).sort((T,b)=>b.totalScore-T.totalScore));return(T,b)=>(J(),X("div",null,[t.role==="admin"?(J(),X("p",rf," Partie officielle et enregistrée ")):be("",!0),_("div",nf,[g.value?(J(),X("div",mf,[lt(Bd,{sortedPlayers:O.value,humanPlayersSorted:M.value,robotName:$e,stats:c,replay:T.replay,role:n.role,onViewScores:b[0]||(b[0]=E=>T.$emit("view-scores"))},null,8,["sortedPlayers","humanPlayersSorted","replay","role"])])):(J(),X("div",of,[_("h2",af,x(i.value),1),_("h1",null,x(n.players[o.value].name),1),b[1]||(b[1]=_("hr",null,null,-1)),_("div",lf,[(J(!0),X(Ie,null,Is(n.players,(E,U)=>(J(),X("div",{key:E.name,class:"avatar-wrapper"},[_("img",{src:E.avatar,alt:E.name,class:gt(["avatar",{current:U===o.value}])},null,10,cf),_("div",{class:gt(["score-badge",{"bestscore-badge":E.totalScore===$s(l)&&E.name!==$e&&$s(l)!==0,"score-robot":E.name===$e}])},x(E.totalScore),3)]))),128))]),b[2]||(b[2]=_("hr",null,null,-1)),(J(!0),X(Ie,null,Is(a.value,(E,U)=>(J(),X("div",{key:U,class:"dart-controls",style:{display:"flex","align-items":"center",gap:"6px"}},[n.players[o.value].name!==$e?(J(),X("div",uf,[_("button",{class:gt(["dart-button",{active:E===0}]),onClick:W=>u(U,0)},"Miss",10,hf),_("button",{class:gt(["dart-button",{active:E===1}]),onClick:W=>u(U,1)},"Single",10,df),_("button",{class:gt(["dart-button",{active:E===2}]),onClick:W=>u(U,2)},"Double",10,ff),_("button",{class:gt(["dart-button",{active:E===3}]),onClick:W=>u(U,3)},"Triple",10,pf)])):be("",!0)]))),128)),n.players[o.value].name!==$e?(J(),X("p",gf,[_("button",{onClick:h,class:"curseCounter"},"🤬 ! "+x(n.players[o.value].curses),1),_("button",{onClick:v,class:"validate"},"Valider ce tour (+"+x(d.value)+" pts)",1)])):be("",!0),_("p",null,[_("button",{onClick:S,class:"undo-button"},"←")])]))])]))}},bf=Bs(yf,[["__scopeId","data-v-92cafcae"]]),wf={class:"login-container"},Sf={class:"login-box"},kf=["disabled"],xf={key:0,class:"error"},Tf={__name:"Login",emits:["login"],setup(t,{emit:e}){const s=e,r=Je(""),n=Je(null),i=Je(!1);async function o(){n.value=null,i.value=!0;const l=await dd(r.value);i.value=!1,l?s("login",{name:"Admin",role:"admin"}):n.value="Mot de passe incorrect."}function a(){s("login",{name:"Visiteur",role:"visiteur"})}return(l,c)=>(J(),X("div",wf,[_("div",Sf,[_("form",{onSubmit:Ds(o,["prevent"])},[ko(_("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u),type:"password",placeholder:"Mot de passe",autocomplete:"current-password"},null,512),[[Xo,r.value]]),_("button",{type:"submit",disabled:i.value},x(i.value?"Connexion...":"Se connecter"),9,kf)],32),_("a",{onClick:Ds(a,["prevent"]),href:"#",class:"visitor-link"}," Continuer en tant que visiteur "),n.value?(J(),X("p",xf,x(n.value),1)):be("",!0)])]))}},Ef=Bs(Tf,[["__scopeId","data-v-64bd7d6e"]]),Of="/shanghai/img/podium.webp",Pf={class:"scores-page"},Cf={key:0},Af={key:1},jf={key:0,class:"podium",style:{position:"relative",display:"inline-block"}},$f={class:"podium-text text-1"},Rf={style:{"font-size":"0.5rem"}},If={class:"podium-text text-2"},Mf={style:{"font-size":"0.5rem"}},Lf={class:"podium-text text-3"},Df={style:{"font-size":"0.5rem"}},Uf={class:"podium-text text-4"},Nf={align:"center"},Ff=["innerHTML"],Bf={key:1,class:"players-list"},qf=["innerHTML"],Hf={class:"player-name"},Wf={class:"score-table"},Jf={class:"player-card"},Vf={class:"player-name"},Kf={class:"score-table"},zf={__name:"RecordedStats",setup(t){const e=Object.assign({},{min:Qd,max:Yd,mean:ba,sum:Xd,ascending:qd,descending:ya,count:Hd,group:zd}),s=Je([]),r=Je([]),n=Je([]);async function i(){const{data:a,error:l}=await va.from("scores").select("*").order("score",{ascending:!1});if(l){console.error("Erreur de récupération des scores :",l);return}if(!a.length)return;const c=Wi(),u=a.filter(h=>h.timestamp>=c.septFirstLastYear).filter(h=>h.timestamp<=c.july31Next),d=Array.from(e.group(u,h=>h.player_id)).filter(([h,g])=>g.length>=10).filter(([h,g])=>g.player_id!=0).map(([h])=>h),v=o(u.filter(h=>d.includes(h.player_id)));n.value=Zd(u),console.log(n);const S=["Number One","Felix","Dart Punk"];s.value=v.filter(h=>!S.includes(h.name)),r.value=v.find(h=>h.name==="Number One")}function o(a,l=10){let c=[...new Set(a.map(h=>h.name))].map(h=>({name:h}));const u=Wi(),d=a.filter(h=>h.timestamp>=u.septFirstLastYear).filter(h=>h.timestamp<=u.july31Next),v=a.filter(h=>h.name=="Number One").length,S=d.filter(h=>h.name=="Number One").length;return c=c.map(h=>{const g=a.filter(k=>k.name==h.name),O=d.filter(k=>k.name==h.name),M=O.slice().sort((k,je)=>e.ascending(k.timestamp,je.timestamp)).slice(-l),T=h.name,b=Qr(T,g,a),E=Qr(T,O,a),U=Qr(T,M,a),W=g.length,te=O.length,ye=M.length,ne=Math.round(1e3*g.length/v)/10,we=Math.round(1e3*O.length/S)/10,Se=e.mean(g.map(k=>k.score)),Pe=Math.round(Se),Ve=e.mean(O.map(k=>k.score)),rt=Math.round(Ve),Ze=e.mean(M.map(k=>k.score)),ve=Math.round(Ze),de=Math.round(e.max(g.map(k=>k.score))),ie=Math.round(e.max(O.map(k=>k.score))),Ke=Math.round(e.max(M.map(k=>k.score))),w=Math.round(e.sum(g.map(k=>k.score))),p=Math.round(e.sum(O.map(k=>k.score))),L=Math.round(e.sum(M.map(k=>k.score))),q=Math.round(e.min(g.map(k=>k.score))),z=Math.round(e.min(O.map(k=>k.score))),G=Math.round(e.min(M.map(k=>k.score))),K=e.max(g.map(k=>JSON.parse(k.hits)).map(k=>k.flat().filter(je=>je!=0).length)),B=e.max(O.map(k=>JSON.parse(k.hits)).map(k=>k.flat().filter(je=>je!=0).length)),Y=e.max(M.map(k=>JSON.parse(k.hits)).map(k=>k.flat().filter(je=>je!=0).length)),ae=e.max(g.map(k=>JSON.parse(k.hits)).map(k=>e.sum(k.flat().filter(je=>je!=0)))),le=e.max(O.map(k=>JSON.parse(k.hits)).map(k=>e.sum(k.flat().filter(je=>je!=0)))),fe=e.max(M.map(k=>JSON.parse(k.hits)).map(k=>e.sum(k.flat().filter(je=>je!=0)))),f=e.max(g.map((k,je)=>e.max(JSON.parse(k.hits).map((us,hs)=>e.sum(us)*(hs+1))))),m=e.max(O.map((k,je)=>e.max(JSON.parse(k.hits).map((us,hs)=>e.sum(us)*(hs+1))))),y=e.max(M.map((k,je)=>e.max(JSON.parse(k.hits).map((us,hs)=>e.sum(us)*(hs+1))))),C=e.max(g.map(k=>JSON.parse(k.hits).flat()).map(k=>or(k))),P=e.max(O.map(k=>JSON.parse(k.hits).flat()).map(k=>or(k))),A=e.max(M.map(k=>JSON.parse(k.hits).flat()).map(k=>or(k))),I=e.max(g.map(k=>JSON.parse(k.hits).flat()).map(k=>ar(k))),R=e.max(O.map(k=>JSON.parse(k.hits).flat()).map(k=>ar(k))),$=e.max(M.map(k=>JSON.parse(k.hits).flat()).map(k=>ar(k))),j=Math.round(g.map(k=>JSON.parse(k.hits)).flat(2).filter(k=>k==3).length/W*10)/10,F=Math.round(O.map(k=>JSON.parse(k.hits)).flat(2).filter(k=>k==3).length/te*10)/10,D=Math.round(M.map(k=>JSON.parse(k.hits)).flat(2).filter(k=>k==3).length/ye*10)/10,N=Math.round(g.map(k=>JSON.parse(k.hits)).flat(2).filter(k=>k==2).length/W*10)/10,H=Math.round(O.map(k=>JSON.parse(k.hits)).flat(2).filter(k=>k==2).length/te*10)/10,ee=Math.round(M.map(k=>JSON.parse(k.hits)).flat(2).filter(k=>k==2).length/ye*10)/10,ce=e.sum(g.map(k=>Vr(JSON.parse(k.hits)))),re=e.sum(O.map(k=>Vr(JSON.parse(k.hits)))),Te=e.sum(M.map(k=>Vr(JSON.parse(k.hits)))),xe=e.sum(g.map(k=>Kr(JSON.parse(k.hits)))),Ae=e.sum(O.map(k=>Kr(JSON.parse(k.hits)))),qe=e.sum(M.map(k=>Kr(JSON.parse(k.hits)))),ut=e.sum(g.map(k=>zr(JSON.parse(k.hits)))),Js=e.sum(O.map(k=>zr(JSON.parse(k.hits)))),Le=e.sum(M.map(k=>zr(JSON.parse(k.hits)))),Ye=e.sum(g.map(k=>Gr(JSON.parse(k.hits)))),Vs=e.sum(O.map(k=>Gr(JSON.parse(k.hits)))),Sa=e.sum(M.map(k=>Gr(JSON.parse(k.hits)))),ka=e.sum(g.map(k=>Yr(JSON.parse(k.hits)))),xa=e.sum(O.map(k=>Yr(JSON.parse(k.hits)))),Ta=e.sum(M.map(k=>Yr(JSON.parse(k.hits))));return{...h,played_all:W,mean_all_raw:Se,mean_all:Pe,max_all:de,min_all:q,streak_all:C,assiduity_all:ne,shanghai_all:ce,played_year:te,mean_year_raw:Ve,mean_year:rt,max_year:ie,min_year:z,streak_year:P,assiduity_year:we,shanghai_year:re,played_last:ye,mean_last_raw:Ze,mean_last:ve,max_last:Ke,min_last:G,streak_last:A,shanghai_last:Te,hits_all:K,hits_year:B,hits_last:Y,hits2_all:ae,hits2_year:le,hits2_last:fe,hitbest_all:f,hitbest_year:m,hitbest_last:y,tt_all:xe,tt_year:Ae,tt_last:qe,ttt_all:ut,ttt_year:Js,ttt_last:Le,dd_all:Ye,dd_year:Vs,dd_last:Sa,ddd_all:ka,ddd_year:xa,ddd_last:Ta,cumul_all:w,cumul_year:p,cumul_last:L,triple_all:j,triple_year:F,triple_last:D,double_all:N,double_year:H,double_last:ee,win_all:b,win_year:E,win_last:U,data_last:M.map(k=>k.score),streakloose_all:I,streakloose_year:R,streakloose_last:$}}),c=[...c].sort((h,g)=>g.max_all-h.max_all).map((h,g)=>({...h,medal_max_all:oe(g)})),c=[...c].sort((h,g)=>g.max_year-h.max_year).map((h,g)=>({...h,medal_max_year:oe(g)})),c=[...c].sort((h,g)=>g.max_last-h.max_last).map((h,g)=>({...h,medal_max_last:oe(g)})),c=[...c].sort((h,g)=>g.cumul_all-h.cumul_all).map((h,g)=>({...h,medal_cumul_all:oe(g)})),c=[...c].sort((h,g)=>g.cumul_year-h.cumul_year).map((h,g)=>({...h,medal_cumul_year:oe(g)})),c=[...c].sort((h,g)=>g.cumul_last-h.cumul_last).map((h,g)=>({...h,medal_cumul_last:oe(g)})),c=[...c].sort((h,g)=>g.streak_all-h.streak_all).map((h,g)=>({...h,medal_streak_all:oe(g)})),c=[...c].sort((h,g)=>g.streak_year-h.streak_year).map((h,g)=>({...h,medal_streak_year:oe(g)})),c=[...c].sort((h,g)=>g.streak_last-h.streak_last).map((h,g)=>({...h,medal_streak_last:oe(g)})),c=[...c].sort((h,g)=>g.streakloose_all-h.streakloose_all).map((h,g)=>({...h,medal_streakloose_all:oe(g)})),c=[...c].sort((h,g)=>g.streakloose_year-h.streakloose_year).map((h,g)=>({...h,medal_streakloose_year:oe(g)})),c=[...c].sort((h,g)=>g.streakloose_last-h.streakloose_last).map((h,g)=>({...h,medal_streakloose_last:oe(g)})),c=[...c].sort((h,g)=>g.hits_all-h.hits_all).map((h,g)=>({...h,medal_hits_all:oe(g)})),c=[...c].sort((h,g)=>g.hits_year-h.hits_year).map((h,g)=>({...h,medal_hits_year:oe(g)})),c=[...c].sort((h,g)=>g.hits_last-h.hits_last).map((h,g)=>({...h,medal_hits_last:oe(g)})),c=[...c].sort((h,g)=>g.hitbest_all-h.hitbest_all).map((h,g)=>({...h,medal_hitbest_all:oe(g)})),c=[...c].sort((h,g)=>g.hitbest_year-h.hitbest_year).map((h,g)=>({...h,medal_hitbest_year:oe(g)})),c=[...c].sort((h,g)=>g.hitbest_last-h.hitbest_last).map((h,g)=>({...h,medal_hitbest_last:oe(g)})),c=[...c].sort((h,g)=>g.hits2_all-h.hits2_all).map((h,g)=>({...h,medal_hits2_all:oe(g)})),c=[...c].sort((h,g)=>g.hits2_year-h.hits2_year).map((h,g)=>({...h,medal_hits2_year:oe(g)})),c=[...c].sort((h,g)=>g.hits2_last-h.hits2_last).map((h,g)=>({...h,medal_hits2_last:oe(g)})),c=[...c].sort((h,g)=>g.triple_all-h.triple_all).map((h,g)=>({...h,medal_triple_all:oe(g)})),c=[...c].sort((h,g)=>g.triple_year-h.triple_year).map((h,g)=>({...h,medal_triple_year:oe(g)})),c=[...c].sort((h,g)=>g.triple_last-h.triple_last).map((h,g)=>({...h,medal_triple_last:oe(g)})),c=[...c].sort((h,g)=>g.double_all-h.double_all).map((h,g)=>({...h,medal_double_all:oe(g)})),c=[...c].sort((h,g)=>g.double_year-h.double_year).map((h,g)=>({...h,medal_double_year:oe(g)})),c=[...c].sort((h,g)=>g.double_last-h.double_last).map((h,g)=>({...h,medal_double_last:oe(g)})),c=[...c].sort((h,g)=>g.mean_all_raw-h.mean_all_raw).map((h,g)=>({...h,medal_mean_all:oe(g)})),c=[...c].sort((h,g)=>g.mean_year_raw-h.mean_year_raw).map((h,g)=>({...h,medal_mean_year:oe(g)})),c=[...c].sort((h,g)=>g.mean_last_raw-h.mean_last_raw).map((h,g)=>({...h,medal_mean_last:oe(g)})),c}return xr(()=>{i()}),(a,l)=>(J(),X("div",Pf,[l[31]||(l[31]=_("h1",null,[_("ins",null,"Classement glissant")],-1)),l[32]||(l[32]=_("p",null,"Sur les 10 dernières parties",-1)),s.value.length==0?(J(),X("div",Cf,l[1]||(l[1]=[_("h1",null,"Début de saison, repassez plus tard !",-1)]))):be("",!0),s.value.length>0?(J(),X("div",Af,[s.value.length>=3?(J(),X("div",jf,[l[2]||(l[2]=_("img",{src:Of,alt:"Podium",class:"podium-image"},null,-1)),_("div",$f,[kt(x(s.value[0].name),1),_("span",Rf," ("+x(s.value[0].mean_last)+")",1)]),_("div",If,[kt(x(s.value[1].name),1),_("span",Mf," ("+x(s.value[1].mean_last)+")",1)]),_("div",Lf,[kt(x(s.value[2].name),1),_("span",Df," ("+x(s.value[2].mean_last)+")",1)]),_("div",Uf,"Chocolat : "+x(s.value[3].name)+" ("+x(s.value[3].mean_last)+")",1)])):be("",!0),_("div",Nf,[_("div",{class:"player-card",innerHTML:$s(tf)(s.value)},null,8,Ff)]),l[29]||(l[29]=_("h1",null,[_("ins",null,"Classement de la saison")],-1)),l[30]||(l[30]=_("p",null,"Moyenne des 10 meilleurs scores",-1)),s.value.length?(J(),X("div",Bf,[_("div",{class:"player-card",innerHTML:$s(ef)(n.value)},null,8,qf),l[28]||(l[28]=_("h1",null,[_("ins",null,"Fiches individuelles")],-1)),(J(!0),X(Ie,null,Is(s.value,(c,u)=>(J(),X("div",{key:u,class:"player-card"},[_("h2",Hf,[kt(x(c.medal_mean_last)+" "+x(c.name)+" - ",1),_("small",null,x(c.mean_last)+" pts",1)]),l[23]||(l[23]=_("div",{class:"last-scores"},null,-1)),_("table",Wf,[l[22]||(l[22]=_("thead",null,[_("tr",null,[_("th"),_("th",null,"Sur 10 parties"),_("th",null,"Sur l'année"),_("th",null,"Hall of Fame")])],-1)),_("tbody",null,[_("tr",null,[l[3]||(l[3]=_("th",null,"Parties",-1)),_("td",null,x(c.played_last),1),_("td",null,x(c.played_year),1),_("td",null,x(c.played_all),1)]),_("tr",null,[l[4]||(l[4]=_("th",null,"Win",-1)),_("td",null,x(Math.round(c.win_last*10)/10)+" %",1),_("td",null,x(Math.round(c.win_year*10)/10)+" %",1),_("td",null,x(Math.round(c.win_all*10)/10)+" %",1)]),_("tr",null,[l[5]||(l[5]=_("th",null,"Assiduité",-1)),l[6]||(l[6]=_("td",null,"-",-1)),_("td",null,x(c.assiduity_year)+" %",1),_("td",null,x(c.assiduity_all)+" %",1)]),_("tr",null,[l[7]||(l[7]=_("th",null,"Moyenne",-1)),_("td",null,x(c.mean_last)+" "+x(c.medal_mean_last),1),_("td",null,x(c.mean_year)+" "+x(c.medal_mean_year),1),_("td",null,x(c.mean_all)+" "+x(c.medal_mean_all),1)]),_("tr",null,[l[8]||(l[8]=_("th",null,"Cumul",-1)),_("td",null,x(Math.round(c.cumul_last/100)/10+"K")+" "+x(c.medal_cumul_last),1),_("td",null,x(Math.round(c.cumul_year/100)/10+"K")+" "+x(c.medal_cumul_year),1),_("td",null,x(Math.round(c.cumul_all/100)/10+"K")+" "+x(c.medal_cumul_all),1)]),_("tr",null,[l[9]||(l[9]=_("th",null,"Meilleur",-1)),_("td",null,x(c.max_last)+" "+x(c.medal_max_last),1),_("td",null,x(c.max_year)+" "+x(c.medal_max_year),1),_("td",null,x(c.max_all)+" "+x(c.medal_max_all),1)]),_("tr",null,[l[10]||(l[10]=_("th",null,"Streak",-1)),_("td",null,x(c.streak_last)+" "+x(c.medal_streak_last),1),_("td",null,x(c.streak_year)+" "+x(c.medal_streak_year),1),_("td",null,x(c.streak_all)+" "+x(c.medal_streak_all),1)]),_("tr",null,[l[11]||(l[11]=_("th",null,"Streak Loose",-1)),_("td",null,x(c.streakloose_last)+" "+x(c.medal_streakloose_last),1),_("td",null,x(c.streakloose_year)+" "+x(c.medal_streakloose_year),1),_("td",null,x(c.streakloose_all)+" "+x(c.medal_streakloose_all),1)]),_("tr",null,[l[12]||(l[12]=_("th",null,[kt("Hits "),_("small",null,"(60)")],-1)),_("td",null,x(c.hits_last)+" "+x(c.medal_hits_last),1),_("td",null,x(c.hits_year)+" "+x(c.medal_hits_year),1),_("td",null,x(c.hits_all)+" "+x(c.medal_hits_all),1)]),_("tr",null,[l[13]||(l[13]=_("th",null,[kt("Hits "),_("small",null,"(180)")],-1)),_("td",null,x(c.hits2_last)+" "+x(c.medal_hits2_last),1),_("td",null,x(c.hits2_year)+" "+x(c.medal_hits2_year),1),_("td",null,x(c.hits2_all)+" "+x(c.medal_hits2_all),1)]),_("tr",null,[l[14]||(l[14]=_("th",null,"Meilleur coup",-1)),_("td",null,x(c.hitbest_last)+" "+x(c.medal_hitbest_last),1),_("td",null,x(c.hitbest_year)+" "+x(c.medal_hitbest_year),1),_("td",null,x(c.hitbest_all)+" "+x(c.medal_hitbest_all),1)]),_("tr",null,[l[15]||(l[15]=_("th",null,"Triples",-1)),_("td",null,x(c.triple_last)+" % "+x(c.medal_triple_last),1),_("td",null,x(c.triple_year)+" % "+x(c.medal_triple_year),1),_("td",null,x(c.triple_all)+" % "+x(c.medal_triple_all),1)]),_("tr",null,[l[16]||(l[16]=_("th",null,"Doubles",-1)),_("td",null,x(c.double_last)+" % "+x(c.medal_double_last),1),_("td",null,x(c.double_year)+" % "+x(c.medal_double_year),1),_("td",null,x(c.double_all)+" % "+x(c.medal_double_all),1)]),_("tr",null,[l[17]||(l[17]=_("th",null,"Shanghai",-1)),_("td",null,x(c.shanghai_last),1),_("td",null,x(c.shanghai_year),1),_("td",null,x(c.shanghai_all),1)]),_("tr",null,[l[18]||(l[18]=_("th",null,"ttt",-1)),_("td",null,x(c.ttt_last),1),_("td",null,x(c.ttt_year),1),_("td",null,x(c.ttt_all),1)]),_("tr",null,[l[19]||(l[19]=_("th",null,"tt",-1)),_("td",null,x(c.tt_last),1),_("td",null,x(c.tt_year),1),_("td",null,x(c.tt_all),1)]),_("tr",null,[l[20]||(l[20]=_("th",null,"ddd",-1)),_("td",null,x(c.ddd_last),1),_("td",null,x(c.ddd_year),1),_("td",null,x(c.ddd_all),1)]),_("tr",null,[l[21]||(l[21]=_("th",null,"dd",-1)),_("td",null,x(c.dd_last),1),_("td",null,x(c.dd_year),1),_("td",null,x(c.dd_all),1)])])])]))),128)),_("div",Jf,[_("h2",Vf,x(r.value.name),1),_("table",Kf,[l[27]||(l[27]=_("thead",null,[_("tr",null,[_("th"),_("th",null,"Sur 10 parties"),_("th",null,"Sur l'année"),_("th",null,"Hall of Fame")])],-1)),_("tbody",null,[_("tr",null,[l[24]||(l[24]=_("th",null,"Parties",-1)),_("td",null,x(r.value.played_last),1),_("td",null,x(r.value.played_year),1),_("td",null,x(r.value.played_all),1)]),_("tr",null,[l[25]||(l[25]=_("th",null,"Moyenne",-1)),_("td",null,x(r.value.mean_last),1),_("td",null,x(r.value.mean_year),1),_("td",null,x(r.value.mean_all),1)]),_("tr",null,[l[26]||(l[26]=_("th",null,"Meilleur",-1)),_("td",null,x(r.value.max_last),1),_("td",null,x(r.value.max_year),1),_("td",null,x(r.value.max_all),1)])])])])])):be("",!0)])):be("",!0),_("button",{onClick:l[0]||(l[0]=c=>a.$emit("back")),class:"back-button"},"Retour")]))}},Gf=Bs(zf,[["__scopeId","data-v-72630d67"]]),Yf={__name:"App",setup(t){const e=[{id:1,name:"Matt"},{id:2,name:"Darts Vador",avatar:"/shanghai/img/dartsvador.png"},{id:3,name:"Dart Simpson",avatar:"/shanghai/img/dartsimpson.png"},{id:4,name:"Robull",avatar:"/shanghai/img/ro.jpg"},{id:5,name:"Louis CLXXX",avatar:"/shanghai/img/crown.jpeg"},{id:6,name:"Angelo",avatar:"/shanghai/img/pp_angelo.png"},{id:7,name:"Cramomille",avatar:"/shanghai/img/cramomille.png"}],s=Je(null),r=Je([]),n=Je("login");function i(c){s.value=c,n.value="selection"}function o(c){r.value=c,n.value="game"}function a(){n.value="scores"}function l(){n.value="selection"}return(c,u)=>(J(),X("div",null,[n.value==="login"?(J(),_s(Ef,{key:0,onLogin:i})):n.value==="selection"?(J(),_s(ru,{key:1,predefinedPlayers:e,role:s.value.role,onStartGame:o,onViewScores:a},null,8,["role"])):n.value==="game"?(J(),_s(bf,{key:2,players:r.value,role:s.value.role,onViewScores:a},null,8,["players","role"])):n.value==="scores"?(J(),_s(Gf,{key:3,onBack:l,onViewScores:a})):be("",!0)]))}};qc(Yf).mount("#app")});export default Qf();
